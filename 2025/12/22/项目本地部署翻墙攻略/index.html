

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/tree.png">
  <link rel="icon" href="/img/tree.png">
  
    <link rel="canonical" href="https://kznleaf.top/2025/12/22/é¡¹ç›®æœ¬åœ°éƒ¨ç½²ç¿»å¢™æ”»ç•¥/"/>
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="banyee">
  <meta name="keywords" content="">
  
    <meta name="description" content="å‰è¨€æœ€è¿‘åœ¨å­¦ä¹ çš„é¡¹ç›®å¦‚æœåœ¨æœ¬åœ°éƒ¨ç½²ã€‚ç„¶è€Œåœ¨ GFW çš„åŠ æˆä¸‹è¿™ä¸ªåŸæœ¬åº”è¯¥éå¸¸è½»æ¾çš„è¿‡ç¨‹å˜å¾—æå…¶æ“è›‹ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹å¦‚ä½•ç»•è¿‡GFWç»è¿‡å„ç§æŠ˜è…¾å®Œæˆæœ¬åœ°éƒ¨ç½²ã€‚ å…ˆç»Ÿè®¡ä¸€ä¸‹è¿™é‡Œç”¨åˆ°äº†é‚£äº›é•œåƒï¼š    åŸºç¡€é•œåƒ ä½¿ç”¨æ¬¡æ•° ä½¿ç”¨çš„æœåŠ¡    golang:1.23.4-alpine 4 frontend, productcatalogservice, checkoutservice, shippingserv">
<meta property="og:type" content="article">
<meta property="og:title" content="microservices-demoé¡¹ç›®æœ¬åœ°éƒ¨ç½²ç¿»å¢™æ”»ç•¥">
<meta property="og:url" content="https://kznleaf.top/2025/12/22/%E9%A1%B9%E7%9B%AE%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2%E7%BF%BB%E5%A2%99%E6%94%BB%E7%95%A5/index.html">
<meta property="og:site_name" content="çµ†å¶ã®ç‰‡éš…">
<meta property="og:description" content="å‰è¨€æœ€è¿‘åœ¨å­¦ä¹ çš„é¡¹ç›®å¦‚æœåœ¨æœ¬åœ°éƒ¨ç½²ã€‚ç„¶è€Œåœ¨ GFW çš„åŠ æˆä¸‹è¿™ä¸ªåŸæœ¬åº”è¯¥éå¸¸è½»æ¾çš„è¿‡ç¨‹å˜å¾—æå…¶æ“è›‹ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹å¦‚ä½•ç»•è¿‡GFWç»è¿‡å„ç§æŠ˜è…¾å®Œæˆæœ¬åœ°éƒ¨ç½²ã€‚ å…ˆç»Ÿè®¡ä¸€ä¸‹è¿™é‡Œç”¨åˆ°äº†é‚£äº›é•œåƒï¼š    åŸºç¡€é•œåƒ ä½¿ç”¨æ¬¡æ•° ä½¿ç”¨çš„æœåŠ¡    golang:1.23.4-alpine 4 frontend, productcatalogservice, checkoutservice, shippingserv">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-12-21T16:16:26.000Z">
<meta property="article:modified_time" content="2025-12-21T16:40:31.935Z">
<meta property="article:author" content="banyee">
<meta property="article:tag" content="Hexo">
<meta property="article:tag" content="Fluid">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>microservices-demoé¡¹ç›®æœ¬åœ°éƒ¨ç½²ç¿»å¢™æ”»ç•¥ - çµ†å¶ã®ç‰‡éš…</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/custom.css">
<link rel="stylesheet" href="/css/macBorder.css">
<link rel="stylesheet" href="/css/sign.css">
<link rel="stylesheet" href="/css/backgroundize.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"kznleaf.top","root":"/","version":"1.9.8","typing":{"enable":false,"typeSpeed":70,"cursorChar":"","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":false,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":"Rs1qykYBxQwdjhZkWVB3fq7t-MdYXbMMI","app_key":"i1fqxvrusqbCUHDrnC4iGszb","server_url":"https://rs1qykyb.api.lncldglobal.com","path":"window.location.pathname","ignore_local":true},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body><!-- hexo injector body_begin start --><div id="web_bg"></div><!-- hexo injector body_begin end -->

  <div id="Loadanimation" style="z-index:999999;">
    <div id="Loadanimation-center">
       <div id="Loadanimation-center-absolute">
           <div class="xccx_object" id="xccx_four"></div>
           <div class="xccx_object" id="xccx_three"></div>
           <div class="xccx_object" id="xccx_two"></div>
           <div class="xccx_object" id="xccx_one"></div>
       </div>
    </div>
    </div>

  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>banyee&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>å‹é“¾</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/background.webp') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.1)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle">microservices-demoé¡¹ç›®æœ¬åœ°éƒ¨ç½²ç¿»å¢™æ”»ç•¥</span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-12-22 00:16" pubdate>
          2025å¹´12æœˆ22æ—¥ å‡Œæ™¨
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          1.4k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          12 åˆ†é’Ÿ
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> æ¬¡
        </span>
        
      
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">microservices-demoé¡¹ç›®æœ¬åœ°éƒ¨ç½²ç¿»å¢™æ”»ç•¥</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘åœ¨å­¦ä¹ çš„é¡¹ç›®å¦‚æœåœ¨æœ¬åœ°éƒ¨ç½²ã€‚ç„¶è€Œåœ¨ GFW çš„åŠ æˆä¸‹è¿™ä¸ªåŸæœ¬åº”è¯¥éå¸¸è½»æ¾çš„è¿‡ç¨‹å˜å¾—æå…¶æ“è›‹ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹å¦‚ä½•ç»•è¿‡GFWç»è¿‡å„ç§æŠ˜è…¾å®Œæˆæœ¬åœ°éƒ¨ç½²ã€‚</p>
<p>å…ˆç»Ÿè®¡ä¸€ä¸‹è¿™é‡Œç”¨åˆ°äº†é‚£äº›é•œåƒï¼š</p>
<table>
<thead>
<tr>
<th>åŸºç¡€é•œåƒ</th>
<th>ä½¿ç”¨æ¬¡æ•°</th>
<th>ä½¿ç”¨çš„æœåŠ¡</th>
</tr>
</thead>
<tbody><tr>
<td><code>golang:1.23.4-alpine</code></td>
<td>4</td>
<td>frontend, productcatalogservice, checkoutservice, shippingservice</td>
</tr>
<tr>
<td><code>python:3.12.8-alpine</code></td>
<td>3</td>
<td>emailservice, recommendationservice, loadgenerator</td>
</tr>
<tr>
<td><code>node:20.18.1-alpine</code></td>
<td>2</td>
<td>paymentservice, currencyservice</td>
</tr>
<tr>
<td><code>alpine:3.20.3</code></td>
<td>2</td>
<td>paymentservice, currencyservice (è¿è¡Œæ—¶)</td>
</tr>
<tr>
<td><code>python:3.12.8-slim</code></td>
<td>1</td>
<td>shoppingassistantservice</td>
</tr>
<tr>
<td><code>mcr.microsoft.com/dotnet/sdk:9.0.101-noble</code></td>
<td>1</td>
<td>cartservice</td>
</tr>
<tr>
<td><code>mcr.microsoft.com/dotnet/runtime-deps:9.0.1-noble-chiseled</code></td>
<td>1</td>
<td>cartservice (è¿è¡Œæ—¶)</td>
</tr>
<tr>
<td><code>eclipse-temurin:21.0.5_11-jdk</code></td>
<td>1</td>
<td>adservice</td>
</tr>
<tr>
<td><code>eclipse-temurin:21.0.5_11-jre-alpine</code></td>
<td>1</td>
<td>adservice (è¿è¡Œæ—¶)</td>
</tr>
<tr>
<td><code>redis:alpine</code></td>
<td>1</td>
<td>cartservice ä¾èµ–</td>
</tr>
<tr>
<td><code>busybox:latest</code></td>
<td>1</td>
<td>loadgenerator init</td>
</tr>
<tr>
<td><code>scratch</code></td>
<td>4</td>
<td>Go æœåŠ¡çš„è¿è¡Œæ—¶</td>
</tr>
</tbody></table>
<h2 id="minikube-or-kind"><a href="#minikube-or-kind" class="headerlink" title="minikube or kind?"></a>minikube or kind?</h2><p>æœ¬åœ°éƒ¨ç½²æœ‰ä¸¤ç§æ–¹å¼ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©kind,åŸå› æ˜¯kindç›´æ¥åŸºäºæˆ‘ä»¬å·²ç»å®‰è£…å¥½çš„dockerï¼Œä¸€ä¸ªk8sèŠ‚ç‚¹å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®¹å™¨ç”¨çš„ä¹Ÿæ˜¯æœ¬åœ°é€šè¿‡dockerä¸‹è½½å¥½çš„é•œåƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœé‡åˆ°äº†å®¹å™¨å› ä¸ºæ— æ³•è®¿é—®å›½å¤–æœåŠ¡å™¨è€Œæ‹‰å–å¤±è´¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨<code>docker pull</code>æ‹‰å–è¿™ä¸ªé•œåƒï¼Œæ‰“ä¸Šæ­£ç¡®çš„tag,ç„¶åæ‰‹åŠ¨<code>load</code>åˆ°kindåˆ›å»ºçš„é›†ç¾¤ä¸­ã€‚ç›¸æ¯”ä¹‹ä¸‹minikubeæ˜¯åŸºäºVM,å†…éƒ¨æ˜¯æ›´éš”ç¦»çš„ç¯å¢ƒï¼Œæƒ³é…ç½®ä»£ç†çš„è¯å¾ˆæ“è›‹ï¼Œæ‰€ä»¥æ’é™¤ã€‚</p>
<table>
<thead>
<tr>
<th>é¡¹ç›®</th>
<th>kind</th>
<th>minikube</th>
</tr>
</thead>
<tbody><tr>
<td>åº•å±‚</td>
<td>Docker å®¹å™¨</td>
<td>VM &#x2F; Docker &#x2F; Podman</td>
</tr>
<tr>
<td>æ˜¯å¦éœ€è¦é¢å¤–è™šæ‹Ÿæœº</td>
<td>âŒ ä¸éœ€è¦</td>
<td>âš ï¸ ç»å¸¸éœ€è¦</td>
</tr>
<tr>
<td>é•œåƒæ§åˆ¶ç²’åº¦</td>
<td>âœ… éå¸¸é«˜</td>
<td>âŒ åé»‘ç›’</td>
</tr>
<tr>
<td>é¢„æ‹‰é•œåƒå¯è¡Œæ€§</td>
<td>âœ… éå¸¸å¥½</td>
<td>âš ï¸ éº»çƒ¦</td>
</tr>
<tr>
<td>å›½å†…é•œåƒæºæ›¿æ¢</td>
<td>âœ… æå…¶å®¹æ˜“</td>
<td>âš ï¸ å¤šå¤„é…ç½®</td>
</tr>
<tr>
<td>é€‚åˆç½‘ç»œå—é™ç¯å¢ƒ</td>
<td>â­â­â­â­â­</td>
<td>â­â­â­</td>
</tr>
<tr>
<td>è°ƒè¯•æˆæœ¬</td>
<td>ä½</td>
<td>é«˜</td>
</tr>
<tr>
<td>æ¨èç¨‹åº¦</td>
<td><strong>å¼ºçƒˆæ¨è</strong></td>
<td>ä¸é¦–é€‰</td>
</tr>
</tbody></table>
<h2 id="kind-create-clusterå¤±è´¥"><a href="#kind-create-clusterå¤±è´¥" class="headerlink" title="kind create clusterå¤±è´¥"></a>kind create clusterå¤±è´¥</h2><p>å…ˆåˆ›å»ºä¸€ä¸ªé›†ç¾¤ï¼ŒæŠ¥é”™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">â•­â”€ ~/Projects/Golang/microservices-demo-fork main                                          <br>â•°â”€â¯ kind create cluster<br>Creating cluster <span class="hljs-string">&quot;kind&quot;</span> ...<br> âœ— Ensuring node image (kindest/node:v1.34.0) ğŸ–¼<br>ERROR: failed to create cluster: failed to pull image <span class="hljs-string">&quot;kindest/node:v1.34.0@sha256:7416a61b42b1662ca6ca89f02028ac133a309a2a30ba309614e8ec94d976dc5a&quot;</span>: <span class="hljs-built_in">command</span> <span class="hljs-string">&quot;docker pull kindest/node:v1.34.0@sha256:7416a61b42b1662ca6ca89f02028ac133a309a2a30ba309614e8ec94d976dc5a&quot;</span> failed with error: <span class="hljs-built_in">exit</span> status 1<br>Command Output: Error response from daemon: unable to fetch descriptor (sha256:7416a61b42b1662ca6ca89f02028ac133a309a2a30ba309614e8ec94d976dc5a) <span class="hljs-built_in">which</span> reports content size of zero: invalid argument<br></code></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ³•æ˜¯æ‰‹åŠ¨æ‹‰é•œåƒï¼Œæ‰“tagï¼Œåˆ›å»ºé›†ç¾¤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker pull docker.xuanyuan.me/kindest/node:v1.34.0<br>docker tag docker.xuanyuan.me/kindest/node:v1.34.0 kindest/node:v1.34.0<br>kind create cluster --image kindest/node:v1.34.0<br></code></pre></td></tr></table></figure>

<blockquote>
<p>é¡ºä¾¿æä¸€ä¸‹ï¼Œdocker tag å‘½ä»¤çš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªæŒ‡å®šé•œåƒçš„<strong>å¼•ç”¨</strong>ï¼Œè¿™ä¸ªå¼•ç”¨å’Œå…ƒé•œåƒæè¿°çš„æ˜¯åŒä¸€ä»½å­˜å‚¨ç©ºé—´ï¼Œåªæ˜¯åå­—ä¸ä¸€æ ·ã€‚<code>docker image ls</code>å¯ä»¥çœ‹åˆ°å®ƒä»¬å…·æœ‰ç›¸åŒçš„ID</p>
</blockquote>
<p>è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥æ£€æŸ¥æ˜¯å¦å·²ç»è¿ä¸Šæ§åˆ¶å¹³é¢</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubectl get nodes<br></code></pre></td></tr></table></figure>

<p>è¿˜éœ€è¦å®‰è£…<code>buildx</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman -S docker-buildx<br></code></pre></td></tr></table></figure>

<p>ç„¶åå°±å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ<code>skaffold run</code>äº†ã€‚</p>
<h2 id="golang-1-23-4-alpineå¤±è´¥"><a href="#golang-1-23-4-alpineå¤±è´¥" class="headerlink" title="golang:1.23.4-alpineå¤±è´¥"></a>golang:1.23.4-alpineå¤±è´¥</h2><p>ä»ç„¶æ‰‹åŠ¨æ‹‰å–ã€‚æ³¨æ„ï¼Œ<strong>è½©è¾•é•œåƒç«™å¯ä¾›æ‹‰å–çš„é•œåƒåˆ—è¡¨æ˜¯ä¸å®Œæ•´çš„</strong>!å¦‚æœæ‹‰å–alpineçš„golangé•œåƒä¼šæŠ¥é”™not foundï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker pull docker.xuanyuan.me/golang:1.23.4-alpine<br><br>Error response from daemon: failed to copy: httpReadSeeker: failed open: content at https://docker.xuanyuan.me/v2/golang/manifests/sha256:c23339199a08b0e12032856908589a6d41a0dab141b8b3b21f156fc571a3f1d3 not found: not found<br></code></pre></td></tr></table></figure>

<p>æ‹‰å–é»˜è®¤Debian&#x2F;Ubuntué•œåƒå€’æ˜¯èƒ½æ‹‰ä¸‹æ¥ï¼Œä½†æ˜¯é€Ÿåº¦éå¸¸æ…¢ã€‚è¿˜è·³è„¸å¹¿å‘Šæ¨é”€ä¸“ä¸šç‰ˆæ”¶è´¹å•Šï¼Œç¬‘æ­»äº†www</p>
<p>å¦ä¸€è¾¹çš„daocloudæ”¯æŒalpineé•œåƒï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ Gdocker pull m.daocloud.io/docker.io/golang:1.23.4-alpine<br>1.23.4-alpine: Pulling from docker.io/golang<br>41974eb6247f: Pull complete<br>06f05ace1117: Pull complete<br>4f4fb700ef54: Pull complete<br>0a2ab5391ffc: Pull complete<br>1f3e46996e29: Pull complete<br>230d8d3c537d: Download complete<br>f48e8649b390: Download complete<br>Digest: sha256:c23339199a08b0e12032856908589a6d41a0dab141b8b3b21f156fc571a3f1d3<br>Status: Downloaded newer image <span class="hljs-keyword">for</span> m.daocloud.io/docker.io/golang:1.23.4-alpine<br>m.daocloud.io/docker.io/golang:1.23.4-alpine<br></code></pre></td></tr></table></figure>

<p>å†è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆè¦ç”¨alpineçš„é•œåƒã€‚alpineæ˜¯ä¸€ä¸ªæç®€çš„Linuxå‘è¡Œç‰ˆï¼Œä»¥å®ƒä¸ºåç¼€çš„é•œåƒå¾€å¾€è¦å°å¾—å¤šï¼Œå¯¹æ¯”ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker image <span class="hljs-built_in">ls</span><br><br>IMAGE                                          ID             DISK USAGE   CONTENT SIZE <br>golang:1.23.4                                  9820aca42262       1.23GB          314MB<br>golang:1.23.4-alpine                           c23339199a08        365MB         78.2MB<br></code></pre></td></tr></table></figure>

<p>é»˜è®¤Debian&#x2F;Ubuntué•œåƒæ˜¯1.23GBï¼Œè€Œalpineåªæœ‰365MB.</p>
<h2 id="å®¹å™¨go-modä¸‹è½½å¤±è´¥"><a href="#å®¹å™¨go-modä¸‹è½½å¤±è´¥" class="headerlink" title="å®¹å™¨go modä¸‹è½½å¤±è´¥"></a>å®¹å™¨go modä¸‹è½½å¤±è´¥</h2><p>é‡æ–°è¿è¡Œ<code>skaffold run</code>ï¼Œåœ¨æ„å»ºåˆ°ç¬¬å››æ­¥çš„æ—¶å€™æŠ¥é”™ï¼š</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">#9 [builder 4/6] RUN go mod download<br>#9 90.16 go: cloud.google.com/go@v0.116.0: Get &quot;https://proxy.golang.org/cloud.google.com/go/@v/v0.116.0.mod&quot;: dial tcp 142.250.77.17:443: i/o timeout<br><span class="hljs-section">#9 ERROR: process &quot;/bin/sh -c go mod download&quot; did not complete successfully: exit code: 1</span><br><span class="hljs-section">------</span><br><span class="hljs-code"> &gt; [builder 4/6] RUN go mod download:</span><br><span class="hljs-section">90.16 go: cloud.google.com/go@v0.116.0: Get &quot;https://proxy.golang.org/cloud.google.com/go/@v/v0.116.0.mod&quot;: dial tcp 142.250.77.17:443: i/o timeout</span><br><span class="hljs-section">------</span><br><span class="hljs-section">Dockerfile:22</span><br><span class="hljs-section">--------------------</span><br><span class="hljs-code">  20 |     # restore dependencies</span><br><span class="hljs-code">  21 |     COPY go.mod go.sum ./</span><br><span class="hljs-code">  22 | &gt;&gt;&gt; RUN go mod download</span><br><span class="hljs-code">  23 |</span><br><span class="hljs-section">  24 |     COPY . .</span><br><span class="hljs-section">--------------------</span><br>ERROR: failed to build: failed to solve: process &quot;/bin/sh -c go mod download&quot; did not complete successfully: exit code: 1<br></code></pre></td></tr></table></figure>

<p>è¿™æ¬¡æ˜¯å®¹å™¨å†…è®¿é—®<code>proxy.golang.org</code>å¤±è´¥ï¼Œå› ä¸ºå®¹å™¨ä¸ä¼šç»§æ‰¿shellçš„Goä»£ç†ğŸ˜ƒ</p>
<p>è§£å†³æ–¹æ³•ï¼šæŠ•é™å–µï¼Œç¼–è¾‘é¡¹ç›®çš„Dockerfileæ–‡ä»¶,æŠŠæ‰€æœ‰çš„<code>RUN go mod download</code>éƒ½æ›¿æ¢:</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">RUN</span> <span class="hljs-attribute">GOPROXY</span>=https://goproxy.cn,direct go mod download<br></code></pre></td></tr></table></figure>

<h2 id="Gradleä¸‹è½½ä¾èµ–æå…¶ç¼“æ…¢"><a href="#Gradleä¸‹è½½ä¾èµ–æå…¶ç¼“æ…¢" class="headerlink" title="Gradleä¸‹è½½ä¾èµ–æå…¶ç¼“æ…¢"></a>Gradleä¸‹è½½ä¾èµ–æå…¶ç¼“æ…¢</h2><p>å»ä½ å¦ˆçš„GFWğŸ˜…åœ¨æ„å»ºåˆ°<code>#12 [builder 6/9] RUN ./gradlew downloadRepos</code>è¿™ä¸€æ­¥çš„æ—¶å€™ä¼šå‘ç°é€Ÿåº¦éå¸¸éå¸¸æ…¢ï¼Œè¿™ä¸€æ¡å‘½ä»¤ä½äº<code>/src/adservice/Dockerfile</code>ï¼Œå› ä¸ºè¿™é‡Œæ˜¯ä»å›½å¤–çš„æœåŠ¡å™¨ä¸‹è½½çš„ã€‚ä½†åˆä¸æ˜¯ä¸èƒ½ç”¨ï¼Œå¤šç­‰ä¸€ä¼šå„¿å§ï¼Œæ‡’å¾—æŠ˜è…¾äº†</p>
<h2 id="æ‰‹åŠ¨æ‹‰å–redis-alpineå’Œbusyboxå¹¶åŠ è½½åˆ°é›†ç¾¤"><a href="#æ‰‹åŠ¨æ‹‰å–redis-alpineå’Œbusyboxå¹¶åŠ è½½åˆ°é›†ç¾¤" class="headerlink" title="æ‰‹åŠ¨æ‹‰å–redis:alpineå’Œbusyboxå¹¶åŠ è½½åˆ°é›†ç¾¤"></a>æ‰‹åŠ¨æ‹‰å–redis:alpineå’Œbusyboxå¹¶åŠ è½½åˆ°é›†ç¾¤</h2><p>åœ¨æ¼«é•¿çš„ç­‰å¾…ä¹‹åï¼ŒæŠ¥é”™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">Waiting <span class="hljs-keyword">for</span> deployments to stabilize...<br> - deployment/checkoutservice is ready. [10/11 deployment(s) still pending]<br> - deployment/productcatalogservice is ready. [9/11 deployment(s) still pending]<br> - deployment/redis-cart: container redis is waiting to start: redis:alpine can<span class="hljs-string">&#x27;t be pulled</span><br><span class="hljs-string">    - pod/redis-cart-858796f7c5-ggjz8: container redis is waiting to start: redis:alpine can&#x27;</span>t be pulled<br> - deployment/redis-cart failed. Error: container redis is waiting to start: redis:alpine can<span class="hljs-string">&#x27;t be pulled.</span><br><span class="hljs-string">I1218 18:25:28.782112   34120 request.go:752] &quot;Waited before sending request&quot; delay=&quot;1.001611681s&quot; reason=&quot;client-side throttling, not priority and fairness&quot; verb=&quot;GET&quot; URL=&quot;https://127.0.0.1:44491/apis/apps/v1/namespaces/default/replicasets?labelSelector=app%3Dshippingservice&quot;</span><br><span class="hljs-string">1/11 deployment(s) failed</span><br></code></pre></td></tr></table></figure>

<p>åŸå› æ˜¯å®¹å™¨æ‹‰ä¸åˆ°<code>redis:alpine</code>é•œåƒï¼Œé‚£å°±æ‰‹åŠ¨æ‹‰ä¸€éï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker pull redis:alpine<br></code></pre></td></tr></table></figure>

<p>ç„¶åå¿…é¡»ç”¨ä¸‹é¢çš„å‘½ä»¤å°†è¿™ä¸ªé•œåƒåŠ è½½åˆ°kindï¼Œæ³¨æ„ä¸èƒ½ä½¿ç”¨<code>kind load</code>ï¼Œè¿™ä¸ªå‘½ä»¤æœ‰<strong>bug</strong>ï¼Œä¼šæŠ¥é”™<code>failed to load image</code>ï¼Œå‚è§ï¼š<a target="_blank" rel="noopener" href="https://github.com/kubernetes-sigs/kind/issues/2402">https://github.com/kubernetes-sigs/kind/issues/2402</a> </p>
<p>å¿…é¡»è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker save redis:alpine | docker <span class="hljs-built_in">exec</span> -i kind-control-plane ctr -n k8s.io images import -<br></code></pre></td></tr></table></figure>

<p>é‡æ–°è¿è¡Œï¼Œå‘ç°åˆä»–å¦ˆæŠ¥é”™ï¼š</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vbnet">Waiting <span class="hljs-keyword">for</span> deployments <span class="hljs-keyword">to</span> stabilize...<br> - deployment/loadgenerator: container frontend-check <span class="hljs-built_in">is</span> waiting <span class="hljs-keyword">to</span> start: busybox:latest can<span class="hljs-comment">&#x27;t be pulled</span><br>    - pod/loadgenerator-<span class="hljs-number">6</span>b58b745b9-fn6hk: container frontend-check <span class="hljs-built_in">is</span> waiting <span class="hljs-keyword">to</span> start: busybox:latest can<span class="hljs-comment">&#x27;t be pulled</span><br> - deployment/loadgenerator failed. <span class="hljs-keyword">Error</span>: container frontend-check <span class="hljs-built_in">is</span> waiting <span class="hljs-keyword">to</span> start: busybox:latest can<span class="hljs-comment">&#x27;t be pulled.</span><br><span class="hljs-number">1</span>/<span class="hljs-number">1</span> deployment(s) failed<br></code></pre></td></tr></table></figure>

<p>å»ä½ å¦ˆçš„GFWğŸ˜…è¿™æ¬¡æ˜¯<code>busybox</code>ï¼Œä¸€æ ·çš„æ“ä½œï¼Œæ‹‰é•œåƒï¼Œæ”¹tagï¼Œæœ€å</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker save busybox:latest | docker <span class="hljs-built_in">exec</span> -i kind-control-plane ctr -n k8s.io images import -<br></code></pre></td></tr></table></figure>

<p>æœ€åç»ˆäºå¼„å®Œäº†ï¼š</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xl">Deployments stabilized <span class="hljs-built_in">in</span> <span class="hljs-number">32.059</span> seconds<br>Loading images into kind cluster nodes...<br> - <span class="hljs-function"><span class="hljs-title">emailservice</span>:bf7bc4590e9b664e53a590d31e48d7466a8f6e98ae821c7e9fbb4eabf8c02b19 -&gt;</span> Found<br> - <span class="hljs-function"><span class="hljs-title">productcatalogservice</span>:e65cfa86017eab10e6cc409c5e77067f76b9f7b34a9cd00af7eb45adc7320e94 -&gt;</span> Found<br> - <span class="hljs-function"><span class="hljs-title">recommendationservice</span>:3dac8a484f26b17da1b77631448692b36bdccd70d113d3639b137eaa960591ef -&gt;</span> Found<br> - <span class="hljs-function"><span class="hljs-title">shoppingassistantservice</span>:8ae84af445cad05c470492c8d44a44682067e280e7042a8f0a0e74e89cbe5b6e -&gt;</span> Found<br> - <span class="hljs-function"><span class="hljs-title">shippingservice</span>:b13611d095fa393117e92b47f3cef08ae6212298e9a88536ef486261f524d94c -&gt;</span> Found<br> - <span class="hljs-function"><span class="hljs-title">checkoutservice</span>:f81c072db29d91d545f889cb99f4afd83d2d509cafcb2e94173f4ab7f1c449dd -&gt;</span> Found<br> - <span class="hljs-function"><span class="hljs-title">paymentservice</span>:aac09ee6975fdc58704988ef6243c09a3b469ec373fcf3585442d50279edaa7c -&gt;</span> Found<br> - <span class="hljs-function"><span class="hljs-title">currencyservice</span>:ac50b933f370b7e27c7030217bd3ead07c0187ad1651e979b1b3383f983bd4b0 -&gt;</span> Found<br> - <span class="hljs-function"><span class="hljs-title">cartservice</span>:2f99c6ae78549511722cc701c03dfcb8202d465803ce13824a54d6aa9fb57010 -&gt;</span> Found<br> - <span class="hljs-function"><span class="hljs-title">frontend</span>:56cc4ca7d40be814a66e76362af08c718fd8b48541a0bd40d3fd2640fee76436 -&gt;</span> Found<br> - <span class="hljs-function"><span class="hljs-title">adservice</span>:f0fe0d4e7501a953a859033f13023a7f0e05d842f4d8e0da6500af9ee4fcf423 -&gt;</span> Found<br> - <span class="hljs-function"><span class="hljs-title">loadgenerator</span>:76b3f9bb6813fb2f04834231b6409462b9155faccecb39e44278059491963b61 -&gt;</span> Found<br>Images loaded <span class="hljs-built_in">in</span> <span class="hljs-number">43.901596</span>ms<br> - deployment.apps/loadgenerator configured<br> - serviceaccount/loadgenerator unchanged<br>Waiting <span class="hljs-keyword">for</span> deployments to stabilize...<br> - deployment/loadgenerator <span class="hljs-keyword">is</span> ready.<br>Deployments stabilized <span class="hljs-built_in">in</span> <span class="hljs-number">3.06</span> seconds<br>You can also run [skaffold run --tail] to get the logs<br></code></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>GFWä½ å¦ˆæ­»äº†ğŸ˜ƒ</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Hexo/" class="print-no-link">#Hexo</a>
      
        <a href="/tags/Fluid/" class="print-no-link">#Fluid</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>microservices-demoé¡¹ç›®æœ¬åœ°éƒ¨ç½²ç¿»å¢™æ”»ç•¥</div>
      <div>https://kznleaf.top/2025/12/22/é¡¹ç›®æœ¬åœ°éƒ¨ç½²ç¿»å¢™æ”»ç•¥/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>banyee</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2025å¹´12æœˆ22æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/12/09/%E9%A6%99%E6%B8%AF%E6%B8%B8%E8%AE%B02/" title="é¦™æ¸¯æ¸¸è®°ï¼ˆäºŒï¼‰">
                        <span class="hidden-mobile">é¦™æ¸¯æ¸¸è®°ï¼ˆäºŒï¼‰</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'kznLeaf/kznLeaf.github.io');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'Comment');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <div style="font-size: 0.85rem"> <span id="timeDate">è½½å…¥å¤©æ•°...</span> <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span> <script src="/vvd_js/duration.js"></script> </div> 
    </div>
  
  
  
</div>
  </footer>

  <!-- Scripts -->
  

<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>





  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>




  
<script src="/js/custom.js"></script>
<script src="/js/sign.js"></script>
<script src="/js/backgroundize.js"></script>



<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
<!-- hexo injector body_end start --><script src="/js/backgroundize.js"></script><!-- hexo injector body_end end --></body>
</html>
