<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>MyBatis-ç¼“å­˜</title>
    <link href="/2025/05/20/MyBatis-%E7%BC%93%E5%AD%98/"/>
    <url>/2025/05/20/MyBatis-%E7%BC%93%E5%AD%98/</url>
    
    <content type="html"><![CDATA[<h1 id="mybatisçš„ç¼“å­˜">MyBatisçš„ç¼“å­˜</h1><p>å‚è€ƒé“¾æ¥ï¼š</p><p><ahref="https://tech.meituan.com/2018/01/19/mybatis-cache.html">èŠèŠMyBatisç¼“å­˜æœºåˆ¶-ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ</a></p><p><ahref="https://itmyhome.com/mybatis-pdf/MyBatis-3-User-Guide-Simplified-Chinese.pdf">MyBatisç”¨æˆ·æŒ‡å—</a></p><p><ahref="https://www.cnblogs.com/gavincoder/p/13977037.html">Mybatisæ·±å…¥æµ…å‡ºä¹‹ç¼“å­˜æœºåˆ¶</a></p><h2 id="ä¸€çº§ç¼“å­˜">ä¸€çº§ç¼“å­˜</h2><h3 id="ä½¿ç”¨">ä½¿ç”¨</h3><p>ä¸€çº§ç¼“å­˜é»˜è®¤å¼€å¯ï¼Œæ˜¯sqlSessionçº§åˆ«çš„ã€‚åŒä¸€ä¸ª sqlSessionå¯¹è±¡åœ¨æ‰§è¡ŒæŸ¥è¯¢æ—¶ï¼Œå¦‚æœæ‰§è¡Œè¿‡ç›¸åŒçš„ SQL ä¸”å‚æ•°ä¹Ÿä¸€æ ·ï¼ŒMyBatisä¼šå°†ç»“æœç¼“å­˜èµ·æ¥ï¼Œåç»­å†æŸ¥ç›¸åŒå†…å®¹æ—¶ç›´æ¥ä»ç¼“å­˜ä¸­å–ï¼Œè€Œä¸æ˜¯å†è®¿é—®æ•°æ®åº“ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br><br><span class="hljs-type">User</span> <span class="hljs-variable">u1</span> <span class="hljs-operator">=</span> session.selectOne(<span class="hljs-string">&quot;getUserById&quot;</span>, <span class="hljs-number">1</span>);<br><span class="hljs-type">User</span> <span class="hljs-variable">u2</span> <span class="hljs-operator">=</span> session.selectOne(<span class="hljs-string">&quot;getUserById&quot;</span>, <span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure><p><code>u1</code>æ­£å¸¸æŸ¥è¯¢æ•°æ®åº“ï¼Œ<code>u2</code>ç›´æ¥ä»ä¸€çº§ç¼“å­˜ä¸­è¯»å–æŸ¥è¯¢è¿‡çš„æ•°æ®ã€‚</p><figure><img src="https://s21.ax1x.com/2025/05/20/pExKhgx.png"alt="ä¸€çº§ç¼“å­˜æµç¨‹å›¾" /><figcaption aria-hidden="true">ä¸€çº§ç¼“å­˜æµç¨‹å›¾</figcaption></figure><p>æ¯ä¸ªSqlSessionä¸­æŒæœ‰Executorï¼Œæ¯ä¸ªExecutorä¸­æœ‰ä¸€ä¸ªLocalCacheã€‚å½“ç”¨æˆ·å‘èµ·æŸ¥è¯¢æ—¶ï¼ŒMyBatisæ ¹æ®å½“å‰æ‰§è¡Œçš„è¯­å¥ç”ŸæˆMappedStatementï¼Œåœ¨LocalCacheè¿›è¡ŒæŸ¥è¯¢ï¼Œå¦‚æœç¼“å­˜å‘½ä¸­çš„è¯ï¼Œç›´æ¥è¿”å›ç»“æœç»™ç”¨æˆ·ï¼Œå¦‚æœç¼“å­˜æ²¡æœ‰å‘½ä¸­çš„è¯ï¼ŒæŸ¥è¯¢æ•°æ®åº“ï¼Œç»“æœå†™å…¥LocalCacheï¼Œæœ€åè¿”å›ç»“æœç»™ç”¨æˆ·ã€‚</p><!-- ![ä¸€çº§ç¼“å­˜æ—¶åºå›¾](https://s21.ax1x.com/2025/05/20/pExKIKK.jpg) --><h3 id="å¤±æ•ˆ">å¤±æ•ˆ</h3><p>ä¸€çº§ç¼“å­˜ä¸æ˜¯æ°¸ä¹…æœ‰æ•ˆçš„ï¼Œå®ƒåœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µä¸‹ä¼šå¤±æ•ˆï¼š</p><ol type="1"><li>ä¸åŒçš„sqlSessionã€‚<strong>æ¯ä¸ªsqlSessionéƒ½æœ‰è‡ªå·±çš„ä¸€çº§ç¼“å­˜</strong>ï¼Œäº’ä¸å½±å“ï¼Œä¸åŒçš„sessionä¸ä¼šå…±äº«ç¼“å­˜ã€‚</li><li>æ‰§è¡Œäº†å¢åˆ æ”¹æ“ä½œã€‚è¿™äº›æ“ä½œå¯èƒ½ä¼šä¿®æ”¹æ•°æ®ï¼Œä¸ºäº†ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼ŒMyBatisä¼šæ¸…é™¤ç¼“å­˜ã€‚ä¸ç®¡æ˜¯å¦çœŸçš„æ”¹åŠ¨äº†æ•°æ®åº“ã€ä¹Ÿä¸ç®¡æ˜¯å¦æäº¤äº‹åŠ¡ï¼Œä¸€çº§ç¼“å­˜éƒ½ä¼šè¢«æ¸…é™¤ã€‚</li><li>æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜ï¼Œè°ƒç”¨<code>session.clearCache()</code>æ¸…é™¤ä¸€çº§ç¼“å­˜ã€‚</li><li>åŒä¸€æ¡SQLä½†æ˜¯æŸ¥è¯¢å‚æ•°ä¸åŒã€‚</li></ol><p><strong>æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜æµ‹è¯•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> userMapper.getStudentById(<span class="hljs-number">1</span>);<br>    System.out.println(student);<br>    sqlSession.clearCache();<br>    <span class="hljs-type">Student</span> <span class="hljs-variable">student2</span> <span class="hljs-operator">=</span> userMapper.getStudentById(<span class="hljs-number">1</span>);<br>    System.out.println(student2);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs text">DEBUG [main] - ==&gt;  Preparing: SELECT * FROM students WHERE id = ?;<br>DEBUG [main] - ==&gt; Parameters: 1(Integer)<br>TRACE [main] - &lt;==    Columns: id, class_id, name, gender, score<br>TRACE [main] - &lt;==        Row: 1, 1, å°æ˜, F, 100<br>DEBUG [main] - &lt;==      Total: 1<br>Student&#123;id=1, class_id=1, name=&#x27;å°æ˜&#x27;, gender=&#x27;F&#x27;, score=100&#125;<br>DEBUG [main] - ==&gt;  Preparing: SELECT * FROM students WHERE id = ?;<br>DEBUG [main] - ==&gt; Parameters: 1(Integer)<br>TRACE [main] - &lt;==    Columns: id, class_id, name, gender, score<br>TRACE [main] - &lt;==        Row: 1, 1, å°æ˜, F, 100<br>DEBUG [main] - &lt;==      Total: 1<br>Student&#123;id=1, class_id=1, name=&#x27;å°æ˜&#x27;, gender=&#x27;F&#x27;, score=100&#125;<br></code></pre></td></tr></table></figure><p>å› ä¸ºä¸¤æ¬¡æŸ¥è¯¢ä¹‹é—´æ‰‹åŠ¨æ¸…é™¤äº†ç¼“å­˜ï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡æŸ¥è¯¢çš„æ—¶å€™ä»ç„¶è¦è¿æ¥æ•°æ®åº“ï¼Œå‘é€sqlè¯­å¥è‡³æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢ã€‚</p><p><strong>å¢åˆ æ”¹æ¸…é™¤ç¼“å­˜æµ‹è¯•</strong></p><p>å•å…ƒæµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> userMapper.getStudentById(<span class="hljs-number">1</span>);<br>    System.out.println(<span class="hljs-string">&quot;ç¬¬ä¸€æ¬¡æŸ¥è¯¢ï¼š&quot;</span> + student);<br><br>    <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> userMapper.deleteStudentById(<span class="hljs-number">12</span>);<br><br>    <span class="hljs-type">Student</span> <span class="hljs-variable">student2</span> <span class="hljs-operator">=</span> userMapper.getStudentById(<span class="hljs-number">1</span>);<br>    System.out.println(<span class="hljs-string">&quot;ç¬¬äºŒæ¬¡æŸ¥è¯¢ï¼š&quot;</span> + student2);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs text">DEBUG [main] - ==&gt;  Preparing: SELECT * FROM students WHERE id = ?;<br>DEBUG [main] - ==&gt; Parameters: 1(Integer)<br>TRACE [main] - &lt;==    Columns: id, class_id, name, gender, score<br>TRACE [main] - &lt;==        Row: 1, 1, å°æ˜, F, 100<br>DEBUG [main] - &lt;==      Total: 1<br>ç¬¬ä¸€æ¬¡æŸ¥è¯¢ï¼šStudent&#123;id=1, class_id=1, name=&#x27;å°æ˜&#x27;, gender=&#x27;F&#x27;, score=100&#125;<br>DEBUG [main] - ==&gt;  Preparing: DELETE FROM students WHERE id = ?;<br>DEBUG [main] - ==&gt; Parameters: 12(Integer)<br>DEBUG [main] - &lt;==    Updates: 1<br>DEBUG [main] - ==&gt;  Preparing: SELECT * FROM students WHERE id = ?;<br>DEBUG [main] - ==&gt; Parameters: 1(Integer)<br>TRACE [main] - &lt;==    Columns: id, class_id, name, gender, score<br>TRACE [main] - &lt;==        Row: 1, 1, å°æ˜, F, 100<br>DEBUG [main] - &lt;==      Total: 1<br>ç¬¬äºŒæ¬¡æŸ¥è¯¢ï¼šStudent&#123;id=1, class_id=1, name=&#x27;å°æ˜&#x27;, gender=&#x27;F&#x27;, score=100&#125;<br></code></pre></td></tr></table></figure><p>å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œè™½ç„¶åˆ é™¤æ“ä½œå¹¶æ²¡æœ‰è¢«æäº¤ï¼Œä½†æ˜¯ç¬¬äºŒæ¬¡æŸ¥è¯¢è¿˜æ˜¯è¦é‡æ–°è¿æ¥æ•°æ®åº“ã€‚</p><h2 id="äºŒçº§ç¼“å­˜">äºŒçº§ç¼“å­˜</h2><p>ä¸€çº§ç¼“å­˜æ˜¯ <strong>SqlSession</strong> çº§åˆ«çš„ç¼“å­˜ï¼Œæ¯ä¸ª SqlSessionæ‹¥æœ‰è‡ªå·±çš„ç¼“å­˜ã€‚</p><p>äºŒçº§ç¼“å­˜æ˜¯ <strong>namespace</strong>çº§åˆ«çš„ç¼“å­˜ï¼Œ<strong>å®ƒæ˜¯å¯ä»¥è¢«å¤šä¸ª SqlSessionå…±äº«çš„ç¼“å­˜</strong>ã€‚å› ä¸ºä¸€ä¸ªMapperæ˜ å°„é…ç½®æ–‡ä»¶å¾€å¾€å¯¹åº”ä¸€ä¸ªnamespaceï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥è¯´å®ƒæ˜¯ <strong>Mapper</strong> çº§åˆ«çš„ç¼“å­˜ã€‚</p><figure><img src="https://s21.ax1x.com/2025/05/20/pExM3GR.png"alt="äºŒçº§ç¼“å­˜æµç¨‹å›¾" /><figcaption aria-hidden="true">äºŒçº§ç¼“å­˜æµç¨‹å›¾</figcaption></figure><p>äºŒçº§ç¼“å­˜å¼€å¯åï¼ŒåŒä¸€ä¸ªnamespaceä¸‹çš„æ‰€æœ‰æ“ä½œè¯­å¥ï¼Œéƒ½å½±å“ç€åŒä¸€ä¸ªCacheï¼Œå³äºŒçº§ç¼“å­˜è¢«å¤šä¸ªSqlSessionå…±äº«ï¼Œæ˜¯ä¸€ä¸ªå…¨å±€çš„å˜é‡ã€‚</p><p>å½“å¼€å¯äºŒçº§ç¼“å­˜åï¼Œæ•°æ®çš„æŸ¥è¯¢æ‰§è¡Œçš„æµç¨‹å°±æ˜¯<code>äºŒçº§ç¼“å­˜ -&gt; ä¸€çº§ç¼“å­˜ -&gt; æ•°æ®åº“</code>ï¼Œæ›´æ–°æ‰§è¡Œé¡ºåºï¼š<code>æ•°æ®åº“-&gt;ä¸€çº§ç¼“å­˜-&gt;äºŒçº§ç¼“å­˜</code>ã€‚</p><h3 id="äºŒçº§ç¼“å­˜é…ç½®">äºŒçº§ç¼“å­˜é…ç½®</h3><p>MyBatisé»˜è®¤æƒ…å†µä¸‹åªå¼€å¯å±€éƒ¨çš„session ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜éœ€è¦æ‰‹åŠ¨å¼€å¯ã€‚</p><ol type="1"><li>åœ¨<code>&lt;setting&gt;</code>æ ‡ç­¾ä¸­è®¾ç½®<code>cacheEnabled</code>å±æ€§çš„å€¼ä¸º<code>true</code>;</li><li>åœ¨MyBatisçš„æ˜ å°„XMLä¸­é…ç½®cacheï¼š<code>&lt;cache/&gt;</code>;</li><li>äºŒçº§ç¼“å­˜å¿…é¡»åœ¨sqlSessionå…³é—­æˆ–æäº¤åæ‰æœ‰æ•ˆï¼›</li><li>æŸ¥è¯¢æ•°æ®æ‰€è½¬æ¢çš„å®ä½“æ•°æ®ç±»å‹å¿…é¡»å®ç°åºåˆ—åŒ–æ¥å£<code>Serializable</code>ã€‚</li></ol><p>å®Œæˆä¸Šè¿°é…ç½®ä¹‹åï¼ŒæŸ¥è¯¢è¯­å¥ä¼šé»˜è®¤ä½¿ç”¨ç¼“å­˜ã€‚æ•ˆæœå¦‚ä¸‹ï¼š</p><ul><li>XMLæ˜ å°„è¯­å¥æ–‡ä»¶ä¸­çš„æ‰€æœ‰<code>select</code>éƒ½ä¼šè¢«ç¼“å­˜ï¼Œæ‰€æœ‰å¢åˆ æ”¹å…³é”®å­—éƒ½ä¼šåˆ·æ–°ç¼“å­˜ã€‚</li><li>ç¼“å­˜ä¼šä½¿ç”¨<ahref="https://leetcode.cn/problems/lru-cache/">LRUç®—æ³•</a>æ¥æ”¶å›ã€‚</li><li>ç¼“å­˜æ²¡æœ‰åˆ·æ–°é—´éš”ï¼Œä¸ä¼šæ ¹æ®æ—¶é—´è‡ªåŠ¨åˆ·æ–°ã€‚</li></ul><p>äºŒçº§ç¼“å­˜ä¾èµ–äºä¸€çº§ç¼“å­˜ï¼Œ<code>sqlSession.close()</code>æ‰§è¡Œå®Œï¼ŒMybatisä¼šå°†ä¸€çº§ç¼“å­˜å¯¹è±¡æ‹·è´å­˜å‚¨åˆ°äºŒçº§ç¼“å­˜ï¼Œç„¶åäºŒçº§ç¼“å­˜æ‰ä¼šèµ·ä½œç”¨ã€‚</p><p>æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test3</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">// 1. åŠ è½½é…ç½®</span><br>    <span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis-config.xml&quot;</span>);<br>    <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(is);<br><br>    <span class="hljs-comment">// 2. åˆ›å»ºä¸¤ä¸ª sqlSession è¿›è¡Œæ•°æ®åº“æ“ä½œ</span><br><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession1</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession2</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br><br>    <span class="hljs-type">CacheMapper</span> <span class="hljs-variable">sqlSession1Mapper</span> <span class="hljs-operator">=</span> sqlSession1.getMapper(CacheMapper.class);<br>    <span class="hljs-type">CacheMapper</span> <span class="hljs-variable">sqlSession2Mapper</span> <span class="hljs-operator">=</span> sqlSession2.getMapper(CacheMapper.class);<br><br>    <span class="hljs-comment">// ç¬¬ä¸€æ¬¡æŸ¥è¯¢</span><br>    <span class="hljs-type">Student</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> sqlSession1Mapper.getStudentById(<span class="hljs-number">1</span>);<br>    System.out.println(s1);<br>    <span class="hljs-comment">// å…³é—­ä¸€çº§ç¼“å­˜,å°†æ•°æ®ä»å†…å­˜å­˜å‚¨åˆ°ç¡¬ç›˜</span><br>    sqlSession1.close();<br>    <span class="hljs-comment">// ç¬¬äºŒæ¬¡æŸ¥è¯¢ï¼Œç›¸åŒ namespace ä¸‹æŸ¥è¯¢ï¼ŒäºŒçº§ç¼“å­˜å‘½ä¸­</span><br>    <span class="hljs-type">Student</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> sqlSession2Mapper.getStudentById(<span class="hljs-number">1</span>);<br>    System.out.println(s2);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs text">DEBUG [main] - Cache Hit Ratio [com.kzn.mapper.CacheMapper]: 0.0<br>DEBUG [main] - ==&gt;  Preparing: SELECT * FROM students WHERE id = ?;<br>DEBUG [main] - ==&gt; Parameters: 1(Integer)<br>TRACE [main] - &lt;==    Columns: id, class_id, name, gender, score<br>TRACE [main] - &lt;==        Row: 1, 1, å°æ˜, F, 100<br>DEBUG [main] - &lt;==      Total: 1<br>Student&#123;id=1, class_id=1, name=&#x27;å°æ˜&#x27;, gender=&#x27;F&#x27;, score=100&#125;<br> WARN [main] - As you are using functionality that deserializes object streams, it is recommended to define the JEP-290 serial filter. Please refer to https://docs.oracle.com/pls/topic/lookup?ctx=javase15&amp;id=GUID-8296D8E8-2B93-4B9A-856E-0A65AF9B8C66<br>DEBUG [main] - Cache Hit Ratio [com.kzn.mapper.CacheMapper]: 0.5<br>Student&#123;id=1, class_id=1, name=&#x27;å°æ˜&#x27;, gender=&#x27;F&#x27;, score=100&#125;<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒæ¬¡æŸ¥è¯¢ä½¿ç”¨äº†ç¼“å­˜ï¼Œç¼“å­˜å‘½ä¸­ç‡0.5.</p><p>æ³¨æ„ï¼š</p><ul><li><strong>äºŒçº§ç¼“å­˜ä¾èµ–äºä¸€çº§ç¼“å­˜å†™å…¥</strong>ï¼Œä¸å…³é—­sqlSession1ï¼Œä¸ä¼šå†™å…¥å½“å‰namespaceçš„äºŒçº§ç¼“å­˜ï¼Œé€ æˆäºŒçº§ç¼“å­˜å¤±æ•ˆã€‚</li><li>MybatisäºŒçº§ç¼“å­˜å¯¹è±¡å­˜å‚¨åœ¨<strong>ç¡¬ç›˜</strong>ä¸­ï¼Œå› æ­¤éœ€è¦namespaceä¸‹å®ä½“å¯¹è±¡åºåˆ—åŒ–ï¼Œå¦‚æœä¸åºåˆ—è¯è¿è¡Œä¼šæŠ¥é”™ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>MyBatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>MyBatis-ç»“æœæ˜ å°„ï¼ˆresultMapï¼‰è¯¦è§£</title>
    <link href="/2025/05/18/MyBatis-%E9%AB%98%E7%BA%A7%E7%BB%93%E6%9E%9C%E6%98%A0%E5%B0%84/"/>
    <url>/2025/05/18/MyBatis-%E9%AB%98%E7%BA%A7%E7%BB%93%E6%9E%9C%E6%98%A0%E5%B0%84/</url>
    
    <content type="html"><![CDATA[<h1id="mybatis-ç»“æœæ˜ å°„resultmapè¯¦è§£">MyBatis-ç»“æœæ˜ å°„ï¼ˆresultMapï¼‰è¯¦è§£</h1><h2 id="å‰è¨€">å‰è¨€</h2><p>çœ‹MyBatisç½‘è¯¾çš„æ—¶å€™è¿™ä¸€éƒ¨åˆ†æŠŠæˆ‘å¬çº¢æ¸©äº†ï¼Œé‚è‡ªå·±æ¢³ç†ã€‚</p><p>resultMapçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœJavaBeançš„å±æ€§åå’Œæ•°æ®åº“ä¸­çš„åˆ—åï¼ˆå­—æ®µåï¼‰åˆšå¥½ä¸€ä¸€å¯¹åº”å¹¶ä¸”åå­—ä¹Ÿç›¸åŒï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦ä»€ä¹ˆæ˜ å°„å…³ç³»äº†ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡SQLæŸ¥è¯¢å‡ºè¡¨ä¸­çš„æ‰€æœ‰ä¿¡æ¯ã€‚ä½†æ˜¯äº‹å®å¾€å¾€æ²¡é‚£ä¹ˆç†æƒ³ï¼Œå¾ˆå¤šæƒ…å†µä¸‹è¿™ä¸¤ä¸ªçš„åå­—å¹¶ä¸ç›¸åŒï¼Œç”šè‡³ä¸å­˜åœ¨ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼›è€Œä¸”æˆ‘ä»¬å¯èƒ½å¹¶ä¸æ»¡è¶³äºä»…æŸ¥è¯¢ä¸€å¼ è¡¨ï¼Œè€Œæ˜¯è¦æŠŠä¸¤å¼ è¡¨çš„å…³é”®ä¿¡æ¯åˆåœ¨ä¸€èµ·ã€‚ä¸ç®¡æ˜¯é‚£ç§æƒ…å†µï¼Œéƒ½éœ€è¦æ‰‹åŠ¨å¤„ç†æ˜ å°„å…³ç³»ã€‚</p><h2 id="ç›®å½•">ç›®å½•</h2><ol type="1"><li><ahref="#mybatisçš„ç»“æœæ˜ å°„resultmapè¯¦è§£">MyBatisçš„ç»“æœæ˜ å°„ï¼ˆresultMapï¼‰è¯¦è§£</a><ol type="1"><li><a href="#å‰è¨€">å‰è¨€</a></li><li><a href="#ç›®å½•">ç›®å½•</a></li><li><a href="#resultmap">resultMap</a></li><li><a href="#idå’Œresult">idå’Œresult</a></li><li><a href="#constructor">constructor</a><ol type="1"><li><a href="#ä¸ºä»€ä¹ˆéœ€è¦æ„é€ æ–¹æ³•">ä¸ºä»€ä¹ˆéœ€è¦æ„é€ æ–¹æ³•</a></li><li><a href="#ç”¨æ³•">ç”¨æ³•</a></li></ol></li><li><a href="#association">association</a><ol type="1"><li><a href="#åµŒå¥—-select-æŸ¥è¯¢æŒ‰éœ€åŠ è½½">åµŒå¥— Select æŸ¥è¯¢ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰</a><ol type="1"><li><a href="#æ¦‚å¿µ">æ¦‚å¿µ</a></li><li><a href="#å®æˆ˜">å®æˆ˜</a></li><li><a href="#åæ€">åæ€</a></li></ol></li><li><a href="#åµŒå¥—ç»“æœæ˜ å°„">åµŒå¥—ç»“æœæ˜ å°„</a></li></ol></li><li><a href="#resultset">resultSet</a></li></ol></li></ol><h2 id="resultmap">resultMap</h2><p>ä¸€ä¸ªæ˜ å°„å…³ç³»ç”±<code>&lt;resultMap&gt;</code>æ ‡ç­¾åŒ…è£¹ï¼Œè€Œè¿™ä¸ªæ ‡ç­¾æœ¬èº«ä¹Ÿæœ‰å®ƒçš„å±æ€§ï¼š</p><ul><li><code>id</code>: <code>resultMap</code>æ ‡ç­¾çš„å”¯ä¸€æ ‡è¯†ã€‚</li><li><code>type</code>: è¿”å›å€¼çš„ Javaå…¨é™å®šç±»åï¼Œæˆ–ç±»å‹åˆ«åï¼ˆåœ¨å·²ç»å¤„ç†å¥½åˆ«åçš„æƒ…å†µä¸‹ï¼‰ã€‚</li><li><code>autoMapping</code>: MyBatis ç”¨æ¥æ§åˆ¶æ˜¯å¦è‡ªåŠ¨æ˜ å°„æ•°æ®åº“å­—æ®µåˆ°Java å¯¹è±¡å±æ€§çš„å¼€å…³ã€‚<code>autoMapping="true"</code>æ—¶ï¼ŒMyBatisä¼šè‡ªåŠ¨åŒ¹é…åˆ—åä¸å±æ€§åç›¸åŒçš„å­—æ®µã€‚åŒ¹é…è§„åˆ™ï¼š<ul><li>æ•°æ®åº“çš„åˆ—åä¸ Javaçš„å±æ€§ååŒ¹é…ï¼ˆå¿½ç•¥å¤§å°å†™ã€æ”¯æŒä¸‹åˆ’çº¿è½¬é©¼å³°ï¼‰ï¼›</li><li>æ²¡æœ‰è¢«<code>&lt;result&gt;</code>æ˜ç¡®æŒ‡å®š</li><li>å¿…é¡»ä¾èµ–<code>&lt;setting&gt;</code>ä¸­çš„å…¨å±€é…ç½®é¡¹ï¼š<code>&lt;setting name="mapUnderscoreToCamelCase" value="true"/&gt;</code></li></ul></li></ul><h2 id="idå’Œresult">idå’Œresult</h2><blockquote><p>id å’Œ result å…ƒç´ éƒ½å°†ä¸€ä¸ªåˆ—çš„å€¼æ˜ å°„åˆ°ä¸€ä¸ªç®€å•æ•°æ®ç±»å‹ï¼ˆString, int,double, Date ç­‰ï¼‰çš„å±æ€§æˆ–å­—æ®µã€‚</p></blockquote><p>ä¸¤ä¸ªå…ƒç´ çš„å¸¸ç”¨å±æ€§æœ‰ï¼š</p><ul><li><code>property</code>: æ˜ å°„åˆ°åˆ—ç»“æœçš„å­—æ®µæˆ–å±æ€§ã€‚å¦‚æœ JavaBeanæœ‰è¿™ä¸ªåå­—çš„å±æ€§ï¼ˆpropertyï¼‰ï¼Œä¼šå…ˆä½¿ç”¨è¯¥å±æ€§ã€‚å¯ä»¥ç†è§£ä¸ºâ€œJavaçš„å®ä½“ç±»çš„å±æ€§â€ã€‚<ul><li><code>id</code>å…ƒç´ çš„<code>property</code>å¾€å¾€å–è¡¨ä¸­çš„ä¸»é”®å¯¹åº”çš„Java1å®ä½“ç±»çš„å±æ€§åï¼Œä¾‹å¦‚<code>&lt;id property="id" column="user_id" /&gt;</code>æ„æ€å°±æ˜¯è¡¨çš„ä¸»é”®åå­—æ˜¯<code>user_id</code>ï¼Œä¸ä¹‹å¯¹åº”çš„Javaå±æ€§åä¸º<code>id</code>ã€‚</li><li><code>result</code>å…ƒç´ çš„<code>property</code>ç”¨æ¥å®šä¹‰å…¶ä»–æ™®é€šå…ƒç´ å’Œè¡¨ä¸­çš„åˆ—çš„ä¸€ä¸€å¯¹åº”çš„æ˜ å°„å…³ç³»ã€‚</li></ul></li><li><code>column</code>ï¼šå·²ç»å­˜åœ¨çš„æ•°æ®åº“ä¸­çš„åˆ—åï¼Œå¦‚æœæœ‰åˆ«åçš„è¯ä¹Ÿå¯ä»¥æ˜¯åˆ«åã€‚</li><li><code>javaType</code>:Javaç±»çš„å…¨é™å®šåï¼Œå¯¹äºå†…ç½®çš„ç±»å‹åˆ«åï¼Œå¦‚<code>java.lang.String</code>ï¼Œå¯ä»¥å†™ä¸º<code>String</code>ã€‚å¦‚æœæ˜ å°„åˆ°ä¸€ä¸ªJavaBeanï¼ŒMyBatis é€šå¸¸å¯ä»¥æ¨æ–­ç±»å‹ï¼Œæ­¤é¡¹å¿½ç•¥ä¸å†™ã€‚</li></ul><p>ç®€è€Œè¨€ä¹‹ï¼Œ<code>id</code>ç”¨äºè®¾ç½®ä¸»é”®å­—æ®µä¸é¢†åŸŸæ¨¡å‹å±æ€§çš„æ˜ å°„å…³ç³»ï¼Œ<code>result</code>ç”¨äºè®¾ç½®æ™®é€šå­—æ®µä¸é¢†åŸŸæ¨¡å‹å±æ€§çš„æ˜ å°„å…³ç³»ã€‚</p><h2 id="constructor">constructor</h2><h3 id="ä¸ºä»€ä¹ˆéœ€è¦æ„é€ æ–¹æ³•">ä¸ºä»€ä¹ˆéœ€è¦æ„é€ æ–¹æ³•</h3><p>é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼Œå½“æˆ‘ä»¬æ‰§è¡ŒæŸ¥è¯¢æ“ä½œçš„æ—¶å€™ï¼ŒMyBatisä¸ä¼šç›´æ¥è¿”å›æ•°æ®åº“åŸå§‹æ•°æ®ï¼Œå®ƒä¼šæŠŠæŸ¥è¯¢ç»“æœâ€œæ˜ å°„â€æˆ<strong>Javaå¯¹è±¡</strong>è¿”å›ç»™ä½ ã€‚ä¾‹å¦‚ï¼Œ<code>SELECT id, name FROM user;</code>è¿™ä¸€sqlè¯­å¥ï¼Œå¦‚æœåœ¨MySQLä¸­ç›´æ¥è¿è¡Œï¼Œè¿”å›çš„æ˜¯ä¸€å¼ è¡¨æ ¼ï¼Œä½†ä½ æ€»ä¸èƒ½è®©Java è¿”å›åŸå§‹çš„ SQL è¡¨æ ¼å§ï¼Ÿä½ å¸Œæœ›å¾—åˆ°çš„æ˜¯<strong>Javaå¯¹è±¡</strong>ï¼Œå¯¹åº”ä¸‹é¢çš„æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">List&lt;User&gt; users = userMapper.selectAll();<br></code></pre></td></tr></table></figure><p>MyBatis ä¼šæŠŠé‚£å¼ è¡¨çš„æ¯ä¸€è¡Œæ„é€ æˆä¸€ä¸ª User å¯¹è±¡ï¼Œç„¶åæ”¾åˆ° Listé‡Œè¿”å›ã€‚</p><p>å¯¹äºä¸€èˆ¬çš„å¯å˜å¯¹è±¡ï¼ŒJavaBeanä¼šæä¾›ä¸€ä¸ª<code>setter</code>æ–¹æ³•ï¼Œæœ‰äº†è¿™ä¸ªæ–¹æ³•ä¹‹åäº‹æƒ…å°±å¾ˆå¥½åŠäº†ï¼Œåªéœ€è¦è¿™æ ·ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">User</span> <span class="hljs-variable">u</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();<br>u.setId(<span class="hljs-number">1</span>);<br>u.setName(<span class="hljs-string">&quot;Alice&quot;</span>);<br></code></pre></td></tr></table></figure><p>MyBatis å…ˆé€šè¿‡ç©ºå‚æ„é€ å™¨æ„å»ºä¸€ä¸ª<code>User</code>å¯¹è±¡ï¼Œç„¶åé€šè¿‡setter ä¸ºè¿™ä¸ªå¯¹è±¡ä¸€ä¸€èµ‹å€¼ã€‚</p><p>ä½†æ˜¯ï¼Œæœ‰æ—¶æˆ‘ä»¬å¸Œæœ›ä¸€ä¸ªç±»çš„å¯¹è±¡ä¸€æ—¦åˆ›å»ºå°±ä¸èƒ½æ›´æ”¹ï¼ˆå³ä¸å¯å˜ç±»ï¼‰ï¼Œä¾‹å¦‚ç”¨æˆ·çš„id ï¼Œåå­—å’Œå¹´é¾„åœ¨ç‰¹å®šæ—¶é—´æ®µå†…æ˜¯å›ºå®šä¸å˜çš„ï¼Œé‚£ä¹ˆ JavaBean å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> id;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String username;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-comment">// å…¨å‚æ„é€ å™¨</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(String name, String username, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.username = username;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br>    <span class="hljs-comment">// æ²¡æœ‰ setter æ–¹æ³•</span><br>&#125;<br><br></code></pre></td></tr></table></figure><p>è¿™æ—¶æƒ³ç»™å¯¹è±¡çš„å±æ€§èµ‹å€¼ï¼Œæœ€ç›´æ¥çš„ä¸€ç§æ–¹å¼å°±æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°ï¼Œåœ¨åˆå§‹åŒ–çš„æ—¶å€™å°±èµ‹å¥½å€¼ã€‚</p><p>å› ä¸º MyBatis ä¸èƒ½åƒåŸæ¥ä¸€æ ·è°ƒç”¨ setteræ¥èµ‹å€¼ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨æ„é€ å‡½æ•°èµ‹å€¼ã€‚é¡ºä¾¿ä¸€æï¼Œâ€œèµ‹å€¼â€è¿™ä¸ªæ“ä½œä¹Ÿè¢«ç§°ä¸º<strong>æ³¨å…¥</strong>(injection)ï¼Œæ¯”å¦‚å®˜æ–¹æ–‡æ¡£æ˜¯è¿™æ ·è¯´çš„ï¼š</p><blockquote><p>MyBatis ä¹Ÿæ”¯æŒç§æœ‰å±æ€§å’Œç§æœ‰ JavaBeanå±æ€§æ¥å®Œæˆæ³¨å…¥ï¼Œä½†æœ‰ä¸€äº›äººæ›´é’çäºé€šè¿‡æ„é€ æ–¹æ³•è¿›è¡Œæ³¨å…¥ã€‚</p></blockquote><p>è¿™è°çœ‹å¾—æ‡‚å•Šï¼Ÿè¿™å¥è¯çš„æ„æ€å…¶å®å°±æ˜¯ï¼š<em>MyBatisä¹Ÿå¯ä»¥é€šè¿‡åå°„ç›´æ¥ä¿®æ”¹ç§æœ‰å­—æ®µçš„å€¼ï¼Œä½†è¿™ä¸æ€»æ˜¯æœ€å¥½çš„åšæ³•ã€‚å¾ˆå¤šç¨‹åºå‘˜æ›´å–œæ¬¢åªå…è®¸é€šè¿‡æ„é€ å‡½æ•°è®¾ç½®å±æ€§å€¼</em>ã€‚</p><p>ä¸Šé¢æåˆ°ï¼ŒMyBatisä¹Ÿå¯ä»¥é€šè¿‡åå°„ç›´æ¥æ³¨å…¥ç§æœ‰å­—æ®µï¼Œä¸è¿‡æœ‰äº›ç¨‹åºå‘˜è¿˜æ˜¯å–œæ¬¢ä½¿ç”¨æ„é€ æ–¹æ³•è¾¾æˆç›®çš„ï¼Œè€Œ<code>constructor</code>å°±æ˜¯ä¸ºæ­¤è€Œç”Ÿçš„ã€‚</p><h3 id="ç”¨æ³•">ç”¨æ³•</h3><p>å‡è®¾æˆ‘ä»¬çš„æ•°æ®åº“ä¸­çš„å­—æ®µä¸ºï¼šuser_id, user_name, user_ageã€‚</p><p>å…ˆæŠŠ<code>User</code>éœ€è¦ç”¨åˆ°çš„æ–¹æ³•è¡¥å……å®Œæ•´ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> id;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String username;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;id&quot;)</span> <span class="hljs-type">int</span> id,</span><br><span class="hljs-params">                <span class="hljs-meta">@Param(&quot;username&quot;)</span> String username,</span><br><span class="hljs-params">                <span class="hljs-meta">@Param(&quot;age&quot;)</span> <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.username = username;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-comment">// getter æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> id; &#125;<br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getUsername</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> username; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> age; &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>Mapperæ¥å£ï¼š<code>User selectUserById(int id);</code></p><p>ç„¶åä¸ºä¸Šé¢é‚£ä¸ª<code>User</code>å†™ä¸€ä¸ªXMLæ˜ å°„å§ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;com.example.User&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!-- æ„é€ å™¨ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">idArg</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;user_id&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">arg</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;user_name&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">arg</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;user_age&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;age&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">constructor</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUserById&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;userMap&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span>&gt;</span><br>    SELECT user_id, user_name, user_age FROM users WHERE user_id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><code>column=æ•°æ®åº“å­—æ®µå</code><br /></li><li><code>name=æ„é€ å™¨å‚æ•°å</code></li><li><code>idArg</code>æ˜¯ä¸»é”®ï¼Œ<code>arg</code>æ˜¯æ™®é€šå­—æ®µ</li><li>å› ä¸ºæˆ‘ä»¬åœ¨æ¥å£ä¸­ä½¿ç”¨<code>@Param</code>æ˜¾å¼ä¸ºå‚æ•°èµ·åï¼Œæ‰€ä»¥<code>&lt;constructor&gt;</code>å†…éƒ¨çš„é¡ºåºå¯ä»¥æ˜¯ä»»æ„çš„ã€‚</li></ul><h2 id="association">association</h2><p>å…³è”ï¼ˆassociationï¼‰å…ƒç´ å¤„ç†ä¸€å¯¹ä¸€ç±»å‹çš„å…³ç³»ã€‚MyBatisæœ‰ä¸¤ç§ä¸åŒçš„æ–¹å¼åŠ è½½å…³è”ï¼š</p><h3 id="åµŒå¥—-select-æŸ¥è¯¢æŒ‰éœ€åŠ è½½">åµŒå¥— Select æŸ¥è¯¢ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰</h3><h4 id="æ¦‚å¿µ">æ¦‚å¿µ</h4><ul><li>åµŒå¥— SelectæŸ¥è¯¢ï¼šä¹Ÿå«<strong>å»¶è¿ŸåŠ è½½</strong>ã€<strong>æŒ‰éœ€åŠ è½½</strong>ã€‚å®ƒæ˜¯é€šè¿‡è°ƒç”¨å¦ä¸€ä¸ªSQL æ˜ å°„è¯­å¥ï¼Œæ¥åŠ è½½å…³è”å¯¹è±¡çš„ã€‚</li></ul><p><strong>åµŒå¥—SelectæŸ¥è¯¢çš„ç‰¹ç‚¹</strong>ï¼šæŒ‰éœ€åŠ è½½ï¼Œä¹Ÿå°±æ˜¯â€œæ‡’æ±‰å¼â€ï¼›æ‰§è¡Œæ•ˆç‡ç¨æ…¢ã€‚</p><p>å‡å¦‚æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªè¡¨ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">users(id, name, dept_id)<br>departments(id, dept_name)<br></code></pre></td></tr></table></figure><p>Javaå¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-type">int</span> id;<br>    String name;<br>    Department dept;  <span class="hljs-comment">// å…³è”å±æ€§</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å‡å¦‚æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª<code>selectAllById</code>æ–¹æ³•<code>User selectAllById(Integer id)</code>ï¼ŒUserçš„å‰ä¸¤ä¸ªå±æ€§éƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼ŒæŸ¥è¯¢èµ·æ¥å¾ˆç®€å•ã€‚ä½†æ˜¯<code>dept</code>å±äºå¼•ç”¨ç±»å‹ï¼Œ<strong>MyBatisä¸ä¼šè‡ªåŠ¨å¡«å……è¿™ç§å…³è”å­—æ®µ</strong>ï¼Œé™¤éæˆ‘æ˜¾å¼åœ°é…ç½®äº†å…³è”æŸ¥è¯¢ã€‚</p><p>æŒ‰ç…§åµŒå¥— SelectæŸ¥è¯¢çš„æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ˜ å°„å…³ç³»ä¸­å°†<code>dept</code>å±æ€§å’Œ<code>selectDeptById</code>æ–¹æ³•å…³è”èµ·æ¥ï¼Œéœ€è¦æŸ¥è¯¢æ—¶å°±è°ƒç”¨<code>selectDeptById</code>éƒ¨é—¨æŸ¥è¯¢è¯­å¥ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- å®šä¹‰æ˜ å°„å…³ç³» --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;User&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;dept&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;Department&quot;</span></span><br><span class="hljs-tag">               <span class="hljs-attr">select</span>=<span class="hljs-string">&quot;selectDeptById&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;dept_id&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- éƒ¨é—¨æŸ¥è¯¢è¯­å¥ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectDeptById&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Department&quot;</span>&gt;</span><br>  SELECT id, dept_name AS deptName<br>  FROM departments<br>  WHERE id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><code>javaType</code>ç”¨äºä¿®é¥°<code>dept</code>å±æ€§ï¼ŒæŒ‡å®šè¯¥å±æ€§çš„æ•°æ®ç±»å‹ï¼›</li><li><code>select</code>æŒ‡å®šå…³è”çš„æ˜¯æŸ¥è¯¢æ–¹æ³•ï¼Œä¸”æ–¹æ³•åä¸º<code>selectDeptById</code>ï¼Œæ„æ€å°±æ˜¯<code>dept</code>è¿™ä¸ªå±æ€§æ˜¯é è¿™ä¸ªæŸ¥è¯¢è¯­å¥æŸ¥å‡ºæ¥çš„ã€‚</li><li><code>column</code>ä¸ºæ•°æ®åº“ä¸­çš„åˆ—åï¼Œè¿™é‡Œè¡¨ç¤ºå°†æ•°æ®åº“ä¸­çš„è¿™ä¸€å­—æ®µä½œä¸ºå‚æ•°<strong>ä¼ é€’</strong>ç»™<code>selectDeptById</code>è¯­å¥ï¼Œç”±<code>#&#123;id&#125;</code>æ¥æ”¶ã€‚<code>column</code>å¾€å¾€æ˜¯å¤šä¸ªè¡¨å…±æœ‰çš„åˆ—ã€‚</li></ul><p>ç„¶ååˆ©ç”¨<code>resultMap</code>å®šä¹‰æŸ¥è¯¢è¯­å¥å°±OKï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectAllById&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;userMap&quot;</span>&gt;</span><br>SELECT * FROM users WHERE id = #&#123;id&#125;;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™æ ·ä¾èµ–è°ƒç”¨<code>selectAllById</code>å°±èƒ½è·å–ç”¨æˆ·çš„æ‰€æœ‰ä¿¡æ¯äº†ã€‚</p><h4 id="å®æˆ˜">å®æˆ˜</h4><p>å¥½äº†ä¸‹é¢æ˜¯å®æˆ˜ç¯èŠ‚ğŸ¥°</p><p>ç°åœ¨æˆ‘çš„æ•°æ®åº“ä¸­æœ‰ä¸¤å¼ è¡¨ï¼š</p><ul><li>sys_user</li></ul><table><thead><tr><th>uid</th><th>username</th><th>user_pwd</th></tr></thead><tbody><tr><td>1</td><td>zhangsan</td><td>114411</td></tr><tr><td>2</td><td>æµ‹è¯•</td><td>111</td></tr><tr><td>3</td><td>CowBoy</td><td>2233</td></tr></tbody></table><ul><li>sys_schedule</li></ul><table><thead><tr><th>id</th><th>uid</th><th>title</th><th>completed</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>å­¦ä¹ Java</td><td>0</td></tr><tr><td>2</td><td>2</td><td>åƒé¥­</td><td>1</td></tr></tbody></table><p>ç›®æ ‡ï¼šå†™ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ï¼Œèƒ½å¤ŸæŠŠæ‰€æœ‰ç”¨æˆ·æœ¬èº«çš„å±æ€§åŠå…¶å¯¹åº”çš„äº‹åŠ¡ä¸€æ¬¡æ€§æŸ¥è¯¢å‡ºæ¥ã€‚</p><p>æ ¹æ®ä¸¤å¼ è¡¨çš„å­—æ®µåï¼Œå®šä¹‰ä¸¤ä¸ªJavaç±»ï¼š</p><ul><li><code>User.java</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-keyword">private</span> Integer uid;<br>    <span class="hljs-keyword">private</span> String username;<br>    <span class="hljs-keyword">private</span> String user_pwd;<br><br>    <span class="hljs-keyword">private</span> Schedule schedule;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(Integer uid, String username, String user_pwd)</span> &#123;<br>        <span class="hljs-built_in">this</span>.uid = uid;<br>        <span class="hljs-built_in">this</span>.username = username;<br>        <span class="hljs-built_in">this</span>.user_pwd = user_pwd;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(String username, String user_pwd)</span> &#123;<br>        <span class="hljs-built_in">this</span>.username = username;<br>        <span class="hljs-built_in">this</span>.user_pwd = user_pwd;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;User&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;uid=&quot;</span> + uid +<br>                <span class="hljs-string">&quot;, username=&#x27;&quot;</span> + username + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, user_pwd=&#x27;&quot;</span> + user_pwd + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, schedule=&quot;</span> + schedule +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><code>schedule.java</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Schedule</span> &#123;<br>    <span class="hljs-keyword">private</span> Integer sid;<br>    <span class="hljs-keyword">private</span> Integer uid;<br>    <span class="hljs-keyword">private</span> String title;<br>    <span class="hljs-keyword">private</span> Integer completed;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Schedule</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Schedule&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;sid=&quot;</span> + sid +<br>                <span class="hljs-string">&quot;, uid=&quot;</span> + uid +<br>                <span class="hljs-string">&quot;, title=&#x27;&quot;</span> + title + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, completed=&quot;</span> + completed +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸‹é¢å¼€å§‹è€ƒè™‘æ¥å£ã€‚</p><p><code>sys_user</code>è®°å½•äº†æ¯ä¸€ä¸ªç”¨æˆ·çš„ä¿¡æ¯ï¼Œ<code>sys_schedule</code>è®°å½•äº†ç”¨æˆ·çš„äº‹åŠ¡ï¼Œä¸¤å¼ è¡¨é€šè¿‡ä¸»é”®<code>uid</code>å…³è”èµ·æ¥ã€‚ç°åœ¨çš„ç›®æ ‡æ˜¯ï¼šå†™ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ï¼Œèƒ½å¤ŸæŠŠæ‰€æœ‰ç”¨æˆ·çš„æ‰€æœ‰è‡ªå¸¦å±æ€§åŠå…¶å¯¹åº”çš„äº‹åŠ¡ä¸€æ¬¡æ€§æŸ¥è¯¢å‡ºæ¥ã€‚ç¼–å†™æ¥å£å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ‰“å°æ‰€æœ‰çš„ç”¨æˆ·åŠå…¶å¯¹åº”çš„æ—¥ç¨‹</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> åŒ…å«æ‰€æœ‰å±æ€§çš„ç”¨æˆ·å®ä½“ç±»</span><br><span class="hljs-comment"> */</span><br>List&lt;User&gt; <span class="hljs-title function_">getAllUserAndSchedule</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure><p>æ—¢ç„¶è¦æŸ¥è¯¢æ—¥ç¨‹ï¼Œé‚£å°±å°‘ä¸äº†æŸ¥è¯¢æ—¥ç¨‹çš„æ–¹æ³•ï¼Œæ‰€ä»¥åœ¨<code>ScheduleMapper.java</code>æ·»åŠ æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ScheduleMapper</span> &#123;<br>    <span class="hljs-comment">// æ ¹æ®uidæŸ¥è¯¢ç”¨æˆ·çš„äº‹åŠ¡</span><br>    Schedule <span class="hljs-title function_">getScheduleByUid</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;uid&quot;)</span> Integer uid)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>OKä¸‹é¢å¯ä»¥é…ç½®XMLäº†ã€‚å…ˆä»æœ€ç®€å•çš„æ—¥ç¨‹çš„æŸ¥è¯¢å¼€å§‹ï¼Œåœ¨<code>ScheduleMapper.xml</code>ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--Schedule getScheduleByUid(Integer uid);--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getScheduleByUid&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;Integer&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Schedule&quot;</span>&gt;</span><br>    SELECT *<br>    FROM sys_schedule<br>    WHERE uid = #&#123;uid&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™æ˜¯å¾ˆç®€å•çš„æ ¹æ®<code>uid</code>æŸ¥è¯¢æŒ‡å®šæ—¥ç¨‹çš„sqlè¯­å¥ã€‚</p><p>æ¥ä¸‹æ¥åœ¨<code>UserMapper.xml</code>é…ç½®æ˜ å°„å…³ç³»å’ŒæŸ¥è¯¢è¯­å¥ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--è·å–æ‰€æœ‰çš„ç”¨æˆ·åŠå…¶å®ä½“ç±»ï¼Œæµ‹è¯•associateæ ‡ç­¾--&gt;</span><br><span class="hljs-comment">&lt;!--  User getAllUserAndSchedule();--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ScheduleAndUser&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;uid&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;uid&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;username&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;schedule&quot;</span> <span class="hljs-attr">select</span>=<span class="hljs-string">&quot;com.kzn.mapper.ScheduleMapper.getScheduleByUid&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;uid&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getAllUserAndSchedule&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;ScheduleAndUser&quot;</span>&gt;</span><br>    SELECT * FROM sys_user LIMIT 3<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå› ä¸ºåœ¨æ˜ å°„å…³ç³»ä¸­å¼•ç”¨çš„<code>getScheduleByUid</code>æ–¹æ³•çš„XMLé…ç½®ä½äºå¦ä¸€ä¸ªXMLæ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥è¿™é‡Œå¯¹è¯¥æ–¹æ³•çš„å¼•ç”¨è¦ä½¿ç”¨<code>å…¨ç±»å.æ–¹æ³•å</code>çš„å½¢å¼ã€‚</p><p>æ‰€æœ‰çš„ä»£ç éƒ½å‡†å¤‡å®Œæ¯•ä¹‹åå°±å¯ä»¥æµ‹è¯•äº†ã€‚å‡†å¤‡å•å…ƒæµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testGetUserAndSchedule</span><span class="hljs-params">()</span> &#123;<br>    List&lt;User&gt; allUserAndSchedule = userMapper.getAllUserAndSchedule();<br>    allUserAndSchedule.forEach(System.out::println);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼ˆé™„å¸¦æ—¥å¿—åŠŸèƒ½ï¼Œè¿™é‡Œæˆ‘æ‰‹åŠ¨åŠ äº†ç©ºè¡Œæ–¹ä¾¿é˜…è¯»ï¼‰ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs text">DEBUG [main] - ==&gt;  Preparing: SELECT * FROM sys_user LIMIT 3<br>DEBUG [main] - ==&gt; Parameters: <br>TRACE [main] - &lt;==    Columns: uid, username, user_pwd<br>TRACE [main] - &lt;==        Row: 1, zhangsan, 114411<br>DEBUG [main] - ====&gt;  Preparing: SELECT * FROM sys_schedule WHERE uid = ?<br>DEBUG [main] - ====&gt; Parameters: 1(Integer)<br>TRACE [main] - &lt;====    Columns: sid, uid, title, completed<br>TRACE [main] - &lt;====        Row: 1, 1, å­¦ä¹ Java, 0<br>DEBUG [main] - &lt;====      Total: 1<br><br>TRACE [main] - &lt;==        Row: 2, æµ‹è¯•, 111<br>DEBUG [main] - ====&gt;  Preparing: SELECT * FROM sys_schedule WHERE uid = ?<br>DEBUG [main] - ====&gt; Parameters: 2(Integer)<br>TRACE [main] - &lt;====    Columns: sid, uid, title, completed<br>TRACE [main] - &lt;====        Row: 2, 2, åƒé¥­, 1<br>DEBUG [main] - &lt;====      Total: 1<br><br>TRACE [main] - &lt;==        Row: 3, CowBoy, 2233<br>DEBUG [main] - ====&gt;  Preparing: SELECT * FROM sys_schedule WHERE uid = ?<br>DEBUG [main] - ====&gt; Parameters: 3(Integer)<br>DEBUG [main] - &lt;====      Total: 0<br>DEBUG [main] - &lt;==      Total: 3<br><br>User&#123;uid=1, username=&#x27;zhangsan&#x27;, user_pwd=&#x27;114411&#x27;, schedule=Schedule&#123;sid=1, uid=1, title=&#x27;å­¦ä¹ Java&#x27;, completed=0&#125;&#125;<br>User&#123;uid=2, username=&#x27;æµ‹è¯•&#x27;, user_pwd=&#x27;111&#x27;, schedule=Schedule&#123;sid=2, uid=2, title=&#x27;åƒé¥­&#x27;, completed=1&#125;&#125;<br>User&#123;uid=3, username=&#x27;CowBoy&#x27;, user_pwd=&#x27;2233&#x27;, schedule=null&#125;<br></code></pre></td></tr></table></figure><p>ä»æ—¥å¿—ä¸­å¯ä»¥ç›´è§‚åœ°å‘ç°ä¸€å…±æ‰§è¡Œäº†4æ¬¡æŸ¥è¯¢æ“ä½œï¼ˆæ¯ä¸€ç»„<code>==&gt;</code>éƒ½å¯¹åº”ä¸€æ¬¡æŸ¥è¯¢è¯·æ±‚ï¼‰ã€‚</p><h4 id="åæ€">åæ€</h4><p>åµŒå¥— Selectçš„å¤ç”¨æ€§æ›´å¾ˆå¥½ï¼Œç»“æ„ä¹Ÿå¾ˆæ¸…æ™°ï¼Œæ–¹ä¾¿ç»´æŠ¤ï¼Œä½†æ˜¯å®ƒä¼šå¯¼è‡´æ‰€è°“çš„<strong>N+1æŸ¥è¯¢é—®é¢˜</strong>ï¼Œç»“åˆä¸Šé¢çš„ä¾‹å­å°±å¾ˆå¥½è¯´æ˜ï¼š</p><ul><li><code>1</code>ï¼ŒæŒ‡çš„æ˜¯æ“ä½œè€…è°ƒç”¨äº†ä¸€æ¬¡æŸ¥è¯¢è¯­å¥<code>getAllUserAndSchedule</code>ï¼Œæ“ä½œè€…æœŸæœ›ä¸€æ¬¡è¿”å›æ‰€æœ‰çš„ç”¨æˆ·åŠå…¶æ—¥ç¨‹</li><li><code>N</code>ï¼Œä¸ºäº†å®Œæˆ<code>getAllUserAndSchedule</code>çš„æŸ¥è¯¢å‘½ä»¤ï¼Œå¯¹äºNä¸ªç”¨æˆ·ï¼ŒMyBatisä¸€å…±éœ€è¦è°ƒç”¨Næ¬¡<code>getScheduleByUid</code>æŸ¥è¯¢è¯­å¥ä»¥è·å–æ—¥ç¨‹ä¿¡æ¯ã€‚</li></ul><p>å®è§‚è°ƒç”¨çš„ä¸€æ¬¡åŠ ä¸ŠMyBatiså†…éƒ¨è°ƒç”¨çš„Næ¬¡ï¼Œåˆèµ·æ¥å°±æ˜¯N+1æ¬¡ã€‚æ˜¾ç„¶ï¼Œè¿™ä¸ªé—®é¢˜ä¼šå¯¼è‡´æˆç™¾ä¸Šåƒçš„SQL è¯­å¥è¢«æ‰§è¡Œï¼Œæ•ˆç‡æ˜¯éå¸¸ä½ä¸‹çš„ã€‚</p><blockquote><p>å¥½æ¶ˆæ¯æ˜¯ï¼ŒMyBatisèƒ½å¤Ÿå¯¹è¿™æ ·çš„æŸ¥è¯¢è¿›è¡Œ<strong>å»¶è¿ŸåŠ è½½</strong>ï¼Œå› æ­¤å¯ä»¥å°†å¤§é‡è¯­å¥åŒæ—¶è¿è¡Œçš„å¼€é”€åˆ†æ•£å¼€æ¥ã€‚ç„¶è€Œï¼Œå¦‚æœä½ åŠ è½½è®°å½•åˆ—è¡¨ä¹‹åç«‹åˆ»å°±éå†åˆ—è¡¨ä»¥è·å–åµŒå¥—çš„æ•°æ®ï¼Œå°±ä¼šè§¦å‘æ‰€æœ‰çš„å»¶è¿ŸåŠ è½½æŸ¥è¯¢ï¼Œæ€§èƒ½å¯èƒ½ä¼šå˜å¾—å¾ˆç³Ÿç³•ã€‚</p></blockquote><p>æ‰€ä»¥è¿˜æœ‰å¦å¤–ä¸€ç§æ–¹æ³•â€”â€”<strong>åµŒå¥—ç»“æœæ˜ å°„</strong>ã€‚</p><h3 id="åµŒå¥—ç»“æœæ˜ å°„">åµŒå¥—ç»“æœæ˜ å°„</h3><ul><li>åµŒå¥—ç»“æœæ˜ å°„ï¼šä½¿ç”¨åµŒå¥—çš„ç»“æœæ˜ å°„æ¥å¤„ç†è¿æ¥ç»“æœçš„é‡å¤å­é›†ã€‚</li></ul><p>åµŒå¥—ç»“æœæ˜ å°„çš„æŸ¥è¯¢æ–¹å¼æœ¬è´¨ä¸Šè¿˜æ˜¯MySQLçš„<ahref="/2025/05/06/MySQLåŸºæœ¬ä½¿ç”¨/#å¤šè¡¨æŸ¥è¯¢è”ç»“è¡¨">å¤šè¡¨æŸ¥è¯¢</a>ã€‚ä»ç„¶ä»¥ä¸Šé¢çš„æƒ…å†µä¸ºä¾‹ï¼Œè¦æŠŠç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯å’Œæ—¥ç¨‹æ”¾åœ¨ä¸€èµ·å¹¶ä¸”ä¿è¯ç”¨æˆ·çš„ä¿¡æ¯ä¸€ä¸ªä¸å°‘ï¼Œé‚£ä¸å°±æ˜¯å¤–éƒ¨é“¾æ¥æŸ¥è¯¢å—ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> user.uid, user.Username, schedule.title<br><span class="hljs-keyword">FROM</span> sys_user <span class="hljs-keyword">AS</span> <span class="hljs-keyword">user</span><br><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> sys_schedule <span class="hljs-keyword">AS</span> schedule<br><span class="hljs-keyword">ON</span> schedule.uid <span class="hljs-operator">=</span> user.uid<br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> user.uid<br>LIMIT <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><p>ï¼ˆè¿™æ˜¯åˆ©ç”¨ORDER BYæ˜¯å› ä¸ºä¸è¿™æ ·åšçš„è¯è¾“å‡ºä¼šä¹±åºï¼‰</p><p>æ‰€ä»¥åªè¦æŠŠå‰©ä¸‹çš„xmlé…ç½®åšå¥½å°±è¡Œäº†ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--åµŒå¥—æ˜ å°„æ–¹å¼--&gt;</span><br><span class="hljs-comment">&lt;!--List&lt;User&gt; getAllUserAndSchedule_mapping();--&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ScheduleAndUserMapping&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;uid&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;uid&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;username&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--ç¬¬ä¸‰åˆ—ä½¿ç”¨æ˜ å°„è§£å†³--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;schedule&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--æŠŠè¡¨ä¸­çš„titleå­—æ®µæ˜ å°„åˆ°Scheduleçš„titleå±æ€§--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;title&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;title&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">association</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getAllUserAndSchedule_mapping&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;ScheduleAndUserMapping&quot;</span>&gt;</span><br>    SELECT user.uid, user.Username, schedule.title<br>    FROM sys_user AS user<br>    LEFT JOIN sys_schedule AS schedule<br>    ON schedule.uid = user.uid<br>    ORDER BY user.uid<br>    LIMIT 3<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs text">DEBUG [main] - ==&gt;  Preparing: SELECT user.uid, user.Username, schedule.title FROM sys_user AS user LEFT JOIN sys_schedule AS schedule ON schedule.uid = user.uid ORDER BY user.uid LIMIT 3<br>DEBUG [main] - ==&gt; Parameters: <br>TRACE [main] - &lt;==    Columns: uid, Username, title<br>TRACE [main] - &lt;==        Row: 1, zhangsan, å­¦ä¹ Java<br>TRACE [main] - &lt;==        Row: 2, æµ‹è¯•, åƒé¥­<br>TRACE [main] - &lt;==        Row: 3, CowBoy, null<br>DEBUG [main] - &lt;==      Total: 3<br><br>User&#123;uid=1, username=&#x27;zhangsan&#x27;, user_pwd=&#x27;null&#x27;, schedule=Schedule&#123;sid=null, uid=null, title=&#x27;å­¦ä¹ Java&#x27;, completed=null&#125;&#125;<br>User&#123;uid=2, username=&#x27;æµ‹è¯•&#x27;, user_pwd=&#x27;null&#x27;, schedule=Schedule&#123;sid=null, uid=null, title=&#x27;åƒé¥­&#x27;, completed=null&#125;&#125;<br>User&#123;uid=3, username=&#x27;CowBoy&#x27;, user_pwd=&#x27;null&#x27;, schedule=null&#125;<br></code></pre></td></tr></table></figure><p>æŸ¥è¯¢å‡ºçš„æ•°æ®åªæœ‰ä¸‰åˆ—ï¼šuid, username,titleï¼Œæ²¡æœ‰æŸ¥è¯¢çš„æ•°æ®å‡æ˜¾ç¤ºä¸ºnullï¼Œè¿™æ ·åªæŸ¥è¯¢äº†å¿…è¦çš„æ•°æ®ã€‚</p><p>è€Œä¸”ï¼Œä»æ—¥å¿—å¯ä»¥å‘ç°å…¨ç¨‹åªæ‰§è¡Œäº†ä¸€æ¬¡æŸ¥è¯¢æ“ä½œï¼Œå¤§å¤§æé«˜æ‰§è¡Œçš„æ•ˆç‡ã€‚</p><h2 id="resultset">resultSet</h2><div class="note note-secondary">            <p>æŸäº›æ•°æ®åº“å…è®¸å­˜å‚¨è¿‡ç¨‹è¿”å›å¤šä¸ªç»“æœé›†(resultSet)ï¼Œæˆ–ä¸€æ¬¡æ€§æ‰§è¡Œå¤šä¸ªè¯­å¥ï¼Œæ¯ä¸ªè¯­å¥è¿”å›ä¸€ä¸ªç»“æœé›†ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œåœ¨ä¸ä½¿ç”¨è¿æ¥çš„æƒ…å†µä¸‹ï¼Œåªè®¿é—®æ•°æ®åº“ä¸€æ¬¡å°±èƒ½è·å¾—ç›¸å…³æ•°æ®ã€‚</p>          </div><p>æ¯”å¦‚ï¼Œä¸‹é¢è¿™ä¸ªå­˜å‚¨è¿‡ç¨‹ä¸€æ¬¡æ€§æ‰§è¡Œäº†ç”¨æˆ·åŸºæœ¬ä¿¡æ¯çš„æŸ¥è¯¢å’Œæ—¥ç¨‹çš„æŸ¥è¯¢ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql">DELIMITER <span class="hljs-operator">/</span><span class="hljs-operator">/</span><br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span> get_student_by_id (<br>    <span class="hljs-keyword">IN</span> p_uid <span class="hljs-type">INT</span><br>)<br><span class="hljs-keyword">BEGIN</span><br>    <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> sys_user <span class="hljs-keyword">WHERE</span> uid <span class="hljs-operator">=</span> p_uid;<br>    <span class="hljs-keyword">SELECT</span> uid, title, completed <span class="hljs-keyword">FROM</span> sys_schedule <span class="hljs-keyword">WHERE</span> uid <span class="hljs-operator">=</span> p_uid;<br><span class="hljs-keyword">END</span> <span class="hljs-operator">/</span><span class="hljs-operator">/</span><br><br>DELIMITER ;<br></code></pre></td></tr></table></figure><p>åœ¨DBeaverä¸­è°ƒç”¨è¿™ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">&#123; <span class="hljs-keyword">CALL</span> schedule_system.get_student_by_id(<span class="hljs-number">1</span>) &#125;<br></code></pre></td></tr></table></figure><p>å¾—åˆ°ä¸‹é¢çš„ç»“æœï¼š</p><figure><img src="https://s21.ax1x.com/2025/05/19/pEvL4Cq.png" alt="ç¬¬ä¸€å¼ è¡¨" /><figcaption aria-hidden="true">ç¬¬ä¸€å¼ è¡¨</figcaption></figure><figure><img src="https://s21.ax1x.com/2025/05/19/pEvLbb4.png" alt="ç¬¬äºŒå¼ è¡¨" /><figcaption aria-hidden="true">ç¬¬äºŒå¼ è¡¨</figcaption></figure><p>è¿™æ˜¯ä¸¤å¼ ç‹¬ç«‹çš„è¡¨ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ª<strong>ç»“æœé›†</strong>ã€‚</p><p>æˆ‘ä»¬è¦è€ƒè™‘çš„æ˜¯å¦‚ä½•ç”¨MyBatiså®Œæˆå¯¹å­˜å‚¨è¿‡ç¨‹çš„è°ƒç”¨ï¼Œä»¥åŠè°ƒç”¨å®Œæˆä¹‹åå¦‚ä½•ä½¿ç”¨è¿™ä¸¤ä¸ªç»“æœé›†ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯<strong>é¿å…ä½¿ç”¨è¿æ¥æŸ¥è¯¢</strong>ï¼Œæ”¹ç”¨â€œå¤šä¸ªç‹¬ç«‹ç»“æœé›†â€ï¼Œæ¥å‡å°‘æ•°æ®åº“çš„è´Ÿæ‹…ã€‚</p><hr /><p>å®šä¹‰ä»¥ä¸‹æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">User <span class="hljs-title function_">getUserByResultSet</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;uid&quot;)</span> Integer uid)</span>;<br></code></pre></td></tr></table></figure><p>æ•°æ®åº“ä¸­å·²ç»æœ‰å­˜å‚¨è¿‡ç¨‹<code>get_student_by_id(IN p_uid INT)</code>ï¼Œæƒ³è¦ä½¿ç”¨è¿™ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œæ˜ å°„è¯­å¥å¦‚ä¸‹ï¼›</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é€šè¿‡ç»“æœé›†æŸ¥è¯¢--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectByResultSet&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;User&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å®šä¹‰ç¬¬ä¸€ä¸ªç»“æœé›†--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;uid&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;uid&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;username&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;user_pwd&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;user_pwd&quot;</span>/&gt;</span><br><br>    <span class="hljs-comment">&lt;!--å®šä¹‰ç¬¬äºŒä¸ªç»“æœé›†--&gt;</span><br>    <span class="hljs-comment">&lt;!--column è¡¨ç¤ºç¬¬ä¸€ä¸ªç»“æœé›†ä¸­çš„å­—æ®µï¼ˆé€šå¸¸æ˜¯ä¸»è¡¨å­—æ®µï¼‰ï¼Œ</span><br><span class="hljs-comment">         foreignColumn è¡¨ç¤ºç¬¬äºŒä¸ªç»“æœé›†ä¸­çš„å­—æ®µï¼ˆé€šå¸¸æ˜¯å­è¡¨å­—æ®µï¼‰ã€‚--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;schedule&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;Schedule&quot;</span> <span class="hljs-attr">resultSet</span>=<span class="hljs-string">&quot;resultSet2&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;uid&quot;</span> <span class="hljs-attr">foreignColumn</span>=<span class="hljs-string">&quot;uid&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--è¿™é‡Œå¿…é¡»å’Œå­˜å‚¨è¿‡ç¨‹çš„ç¬¬äºŒä¸ªè¯­å¥å®Œå…¨å¯¹åº”--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;uid&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;uid&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;title&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;title&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;completed&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;completed&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">association</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--getUserByResultSet--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserByResultSet&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;selectByResultSet&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">statementType</span>=<span class="hljs-string">&quot;CALLABLE&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">resultSets</span>=<span class="hljs-string">&quot;resultSet1,resultSet2&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--#&#123;ä¼ å…¥å‚æ•°å, jdbcType=ç±»å‹, mode=æ¨¡å¼&#125;--&gt;</span><br>    &#123;CALL get_student_by_id(#&#123;uid, jdbcType=INTEGER, mode=IN&#125;)&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å‡ ä¸ªæ³¨æ„ç‚¹ï¼š</p><ul><li><code>association</code>çš„<code>column</code>è¡¨ç¤º<strong>ä¸»ç»“æœé›†</strong>ï¼ˆçˆ¶ç»“æœé›†ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªç»“æœé›†<code>sys_user</code>è¡¨ï¼‰ä¸­çš„å­—æ®µï¼Œ<code>foreignColumn</code>è¡¨ç¤º<strong>å…³è”ç»“æœé›†</strong>ï¼ˆå­ç»“æœé›†ï¼Œæ¯”å¦‚<code>sys_schedule</code>è¡¨ï¼‰ä¸­çš„å­—æ®µåŒ¹é…ã€‚</li><li><code>resultSets</code>ç»“æœé›†çš„å‘½åé»˜è®¤ä¸º<code>resultSet1, resultSet2, ...</code>ï¼Œè¿™é‡Œæ²¡æœ‰èµ·åˆ«åï¼Œç›´æ¥ç”¨é»˜è®¤çš„äº†</li></ul><p>ç„¶åæµ‹è¯•è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs text">DEBUG [main] - ==&gt;  Preparing: &#123;CALL get_student_by_id(?)&#125;<br>DEBUG [main] - ==&gt; Parameters: 1(Integer)<br>TRACE [main] - &lt;==    Columns: uid, username, user_pwd<br>TRACE [main] - &lt;==        Row: 1, zhangsan, 114411<br>DEBUG [main] - &lt;==      Total: 1<br>TRACE [main] - &lt;==    Columns: uid, title, completed<br>TRACE [main] - &lt;==        Row: 1, å­¦ä¹ Java, 0<br>DEBUG [main] - &lt;==      Total: 1<br>DEBUG [main] - &lt;==    Updates: 0<br>User&#123;uid=1, username=&#x27;zhangsan&#x27;, user_pwd=&#x27;114411&#x27;, schedule=Schedule&#123;sid=null, uid=1, title=&#x27;å­¦ä¹ Java&#x27;, completed=0&#125;&#125;<br></code></pre></td></tr></table></figure><p>å› ä¸ºè¿™é‡Œæ²¡æœ‰æŸ¥è¯¢<code>sid</code>ï¼Œæ‰€ä»¥æ˜¾ç¤ºä¸ºnullã€‚</p>]]></content>
    
    
    <categories>
      
      <category>MyBatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>JavaWebå¼€å‘ï¼ˆäºŒï¼‰</title>
    <link href="/2025/05/14/Tomcat2/"/>
    <url>/2025/05/14/Tomcat2/</url>
    
    <content type="html"><![CDATA[<p>å®Œç»“ç¯‡ï¼Ÿ</p><h1 id="mvc-æ¶æ„æ¨¡å¼">MVC æ¶æ„æ¨¡å¼</h1><p>MVC(Model ViewController)æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„æ¨¡å¼ï¼Œå°†è½¯ä»¶ç³»ç»Ÿåˆ†ä¸ºæ¨¡å‹ã€è§†å›¾å’Œæ§åˆ¶å™¨ä¸‰ä¸ªéƒ¨åˆ†ï¼Œå¯¹åº”ä¸šåŠ¡é€»è¾‘ã€æ•°æ®å’Œæ˜¾ç¤ºç•Œé¢ã€‚</p><figure><img src="https://s21.ax1x.com/2025/05/10/pEOh3j0.png"alt="MVCçš„å«ä¹‰" /><figcaption aria-hidden="true">MVCçš„å«ä¹‰</figcaption></figure><figure><img src="https://s21.ax1x.com/2025/05/11/pEOvr7j.png" alt="MVCå®ä¾‹" /><figcaption aria-hidden="true">MVCå®ä¾‹</figcaption></figure><p><strong>DAO</strong>ï¼ˆData AccessObjectï¼‰å±‚åˆç§°â€œæŒä¹…å±‚â€æˆ–â€œæ•°æ®è®¿é—®å±‚â€ï¼Œä½œç”¨æ˜¯å°è£…æ‰€æœ‰å¯¹æ•°æ®åº“çš„è®¿é—®é€»è¾‘ã€å°†æ•°æ®åº“æ“ä½œï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰ä¸ä¸šåŠ¡é€»è¾‘å½»åº•åˆ†ç¦»æä¾›ä¸€ç»„æ¥å£ï¼Œè®©ä¸Šå±‚ï¼ˆServiceå±‚ï¼‰åªéœ€è°ƒç”¨æ¥å£æ–¹æ³•ï¼Œæ— éœ€å…³å¿ƒåº•å±‚å¦‚ä½•ä¸æ•°æ®åº“äº¤äº’ã€‚<strong>DAOå±‚ä¸€èˆ¬éœ€è¦å®šä¹‰æ¥å£å’Œå®ç°ç±»</strong>ã€‚</p><p><strong>POJO</strong>æ˜¯ Plain Old Java Object çš„ç¼©å†™ï¼Œæ„æ€æ˜¯â€œæ™®é€šçš„Javaå¯¹è±¡â€ã€‚å®ƒé€šå¸¸æŒ‡ä¸ä¾èµ–ä»»ä½•æ¡†æ¶æˆ–ç‰¹æ®Šç±»ç»§æ‰¿/æ³¨è§£çš„ã€åªåŒ…å«å±æ€§ã€æ„é€ æ–¹æ³•ã€Getter/Setterã€toString()ç­‰åŸºæœ¬æ–¹æ³•çš„å®ä½“ç±»ã€‚</p><p>POJOçš„å®ä½“ç±»çš„åŸºæœ¬è¦æ±‚ï¼š</p><ol type="1"><li>ç±»åå’Œè¡¨æ ¼åç§°åº”è¯¥å¯¹åº”</li><li>ç±»çš„å­—æ®µåå’Œè¡¨æ ¼çš„åˆ—ååº”è¯¥å¯¹åº”</li><li>æ¯ä¸ªå­—æ®µå¿…é¡»æ˜¯ç§æœ‰çš„</li><li>æ¯ä¸ªå±æ€§éƒ½åº”è¯¥å…·å¤‡ getter setter</li><li>å¿…é¡»å…·å¤‡æ— å‚æ„é€ å™¨</li><li>åº”è¯¥äº‹å…ˆåºåˆ—åŒ–æ¥å£ï¼ˆç¼“å­˜ã€åˆ†å¸ƒå¼é¡¹ç›®æ•°æ®ä¼ é€’ï¼Œå¯èƒ½ä¼šå°†å¯¹è±¡åºåˆ—åŒ–ï¼‰</li><li>åº”è¯¥é‡å†™ç±»çš„<code>hashcode</code>å’Œ<code>equals</code> æ–¹æ³•</li><li><code>toString</code> æ˜¯å¦é‡å†™éƒ½å¯</li></ol><h2 id="lombok">lombok</h2><p>ä¸€ä¸ªå°å·¥å…·ï¼Œå¯ä»¥é€šè¿‡æ³¨è§£çš„å½¢å¼æŠŠ getter setterhashcodeç­‰æ¨¡æ¿æ–¹æ³•ç›´æ¥è¡¥å…¨ã€‚è¯¦è§<ahref="https://objectcomputing.com/resources/publications/sett/january-2010-reducing-boilerplate-code-with-project-lombok">lombokå®˜æ–¹æŒ‡å—</a>ã€‚</p><p><strong>æ•°æ®ç±»ç›¸å…³ï¼š</strong></p><table><thead><tr><th>æ³¨è§£</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>@Getter</code></td><td>è‡ªåŠ¨ä¸ºæ‰€æœ‰å­—æ®µç”Ÿæˆ <code>getXxx()</code> æ–¹æ³•</td></tr><tr><td><code>@Setter</code></td><td>è‡ªåŠ¨ä¸ºæ‰€æœ‰å­—æ®µç”Ÿæˆ <code>setXxx()</code> æ–¹æ³•</td></tr><tr><td><code>@ToString</code></td><td>è‡ªåŠ¨ç”Ÿæˆ <code>toString()</code> æ–¹æ³•</td></tr><tr><td><code>@EqualsAndHashCode</code></td><td>è‡ªåŠ¨ç”Ÿæˆ <code>equals()</code> å’Œ <code>hashCode()</code> æ–¹æ³•</td></tr><tr><td><code>@Data</code></td><td>ç»¼åˆæ³¨è§£ï¼ŒåŒ…å«<code>@Getter</code>ã€<code>@Setter</code>ã€<code>@ToString</code>ã€<code>@EqualsAndHashCode</code>å’Œ <code>@RequiredArgsConstructor</code>ï¼ˆå¯¹äº <code>final</code>å­—æ®µï¼‰</td></tr></tbody></table><p><strong>æ„é€ å™¨ç›¸å…³ï¼š</strong></p><table><thead><tr><th>æ³¨è§£</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>@NoArgsConstructor</code></td><td>ç”Ÿæˆæ— å‚æ„é€ å‡½æ•°</td></tr><tr><td><code>@AllArgsConstructor</code></td><td>ç”ŸæˆåŒ…å«æ‰€æœ‰å­—æ®µçš„æ„é€ å‡½æ•°</td></tr><tr><td><code>@RequiredArgsConstructor</code></td><td>ç”ŸæˆåŒ…å«æ‰€æœ‰ <code>final</code> å­—æ®µæˆ–å¸¦ <code>@NonNull</code>å­—æ®µçš„æ„é€ å‡½æ•°</td></tr></tbody></table><p><strong>æ„å»ºå™¨æ¨¡å¼:</strong></p><table><thead><tr><th>æ³¨è§£</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>@Builder</code></td><td>æä¾›é“¾å¼æ„å»ºå¯¹è±¡æ–¹å¼</td></tr><tr><td><code>@Singular</code></td><td>ä¸ <code>@Builder</code>é…åˆï¼Œç”¨äºé›†åˆå­—æ®µæ„å»ºæ—¶é¿å…é‡å¤æ·»åŠ é€»è¾‘</td></tr></tbody></table><p><strong>å…¶ä»–å®ç”¨æ³¨è§£:</strong></p><table><thead><tr><th>æ³¨è§£</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>@Slf4j</code></td><td>è‡ªåŠ¨ä¸ºç±»å¼•å…¥ <code>private static final org.slf4j.Logger log</code>æ—¥å¿—å¯¹è±¡ï¼ˆä¹Ÿæœ‰ <code>@Log4j</code>, <code>@Log</code> ç­‰å˜ç§ï¼‰</td></tr><tr><td><code>@SneakyThrows</code></td><td>è‡ªåŠ¨æ•è·å¹¶æŠ›å‡º checked å¼‚å¸¸ï¼ˆä¸ç”¨å†™ try-catchï¼‰</td></tr><tr><td><code>@NonNull</code></td><td>åœ¨æ–¹æ³•å‚æ•°æˆ–å­—æ®µä¸Šä½¿ç”¨ï¼Œè‡ªåŠ¨ç”Ÿæˆç©ºå€¼æ£€æŸ¥</td></tr><tr><td><code>@Cleanup</code></td><td>è‡ªåŠ¨è°ƒç”¨ <code>close()</code>ï¼Œå¸¸ç”¨äºèµ„æºé‡Šæ”¾ï¼ˆå¦‚<code>InputStream</code>ï¼‰</td></tr></tbody></table><h1 id="ä¼šè¯ç®¡ç†">ä¼šè¯ç®¡ç†</h1><h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><p>â€œä¼šè¯ç®¡ç†â€ï¼ˆSessionManagementï¼‰æ˜¯æŒ‡ï¼šåœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„äº¤äº’è¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡å™¨å¦‚ä½•<strong>è¯†åˆ«å¹¶ä¿æŒç”¨æˆ·èº«ä»½å’ŒçŠ¶æ€ä¿¡æ¯</strong>ã€‚</p><p>ä¸ºä»€ä¹ˆéœ€è¦ä¼šè¯ç®¡ç†ï¼Ÿå› ä¸º HTTPåè®®æœ¬èº«æ˜¯æ— çŠ¶æ€çš„åè®®ï¼Œå¯¹äºå‘é€çš„è¯·æ±‚å’Œå“åº”éƒ½ä¸ä¼šè¿›è¡Œä¿å­˜ï¼Œæ²¡æœ‰è®°å¿†åŠŸèƒ½ã€‚ä¸ºäº†å®ç°ç”¨æˆ·ç™»å½•çŠ¶æ€çš„è®°å½•ã€è´­ç‰©è½¦ã€å¡«å†™è¡¨å•ç­‰å…·æœ‰è®°å¿†çš„åŠŸèƒ½ï¼Œéœ€è¦ä¸€ç§èƒ½å¤Ÿè®°å¿†ç”¨æˆ·çŠ¶æ€çš„æœºåˆ¶â€”â€”ä¼šè¯ç®¡ç†ã€‚</p><h2 id="cookie">Cookie</h2><h3 id="ä½¿ç”¨">ä½¿ç”¨</h3><div class="note note-success">            <p>cookie æ˜¯ä¸€ç§å®¢æˆ·ç«¯ä¼šè¯æŠ€æœ¯, cookieç”±æœåŠ¡ç«¯äº§ç”Ÿ,å®ƒæ˜¯æœåŠ¡å™¨å­˜æ”¾åœ¨æµè§ˆå™¨çš„ä¸€å°ä»½æ•°æ®,æµè§ˆå™¨ä»¥åæ¯æ¬¡è®¿é—®è¯¥æœåŠ¡å™¨çš„æ—¶å€™éƒ½ä¼šå°†è¿™å°ä»½æ•°æ®æºå¸¦åˆ°æœåŠ¡å™¨å»ã€‚</p>          </div><ul><li><strong>æœåŠ¡ç«¯</strong>åˆ›å»ºcookie,å°†cookieæ”¾å…¥å“åº”å¯¹è±¡ä¸­,Tomcatå®¹å™¨å°†cookieè½¬åŒ–ä¸ºset-cookieå“åº”å¤´,å“åº”ç»™å®¢æˆ·ç«¯</li><li>å®¢æˆ·ç«¯åœ¨æ”¶åˆ°æœåŠ¡ç«¯å‘æ¥çš„cookieçš„å“åº”å¤´å,åœ¨ä»¥åæ¯æ¬¡è¯·æ±‚è¯¥æœåŠ¡çš„èµ„æºæ—¶,ä¼šä»¥cookieè¯·æ±‚å¤´çš„å½¢å¼æºå¸¦ä¹‹å‰æ”¶åˆ°çš„Cookie</li><li>cookieæ˜¯ä¸€ç§é”®å€¼å¯¹æ ¼å¼çš„æ•°æ®,ä»tomcat8.5å¼€å§‹å¯ä»¥ä¿å­˜ä¸­æ–‡,ä½†æ˜¯ä¸æ¨è</li><li>ç”±äºcookieæ˜¯å­˜å‚¨äºå®¢æˆ·ç«¯çš„æ•°æ®,æ¯”è¾ƒå®¹æ˜“æš´éœ²,ä¸€èˆ¬ä¸å­˜å‚¨ä¸€äº›æ•æ„Ÿæˆ–è€…å½±å“å®‰å…¨çš„æ•°æ®</li></ul><figure><img src="https://s21.ax1x.com/2025/05/13/pEX78OA.png" alt="åŸç†å›¾" /><figcaption aria-hidden="true">åŸç†å›¾</figcaption></figure><p>åˆ›å»ºcookieï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// æœåŠ¡ç«¯åˆ›å»º cookie</span><br><span class="hljs-type">Cookie</span> <span class="hljs-variable">cookie</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;Kurumi&quot;</span>);<br><span class="hljs-comment">// æ”¾å…¥å“åº”å¯¹è±¡</span><br>resp.addCookie(cookie);<br></code></pre></td></tr></table></figure><p>è·å–cookieï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// è·å–è¯·æ±‚ä¸­æºå¸¦çš„cookie</span><br>Cookie[] cookies = req.getCookies();<br><span class="hljs-comment">// è¯·æ±‚ä¸­çš„å¤šä¸ªcookieä¼šè¿›å…¥è¯¥æ•°ç»„</span><br><span class="hljs-comment">// å¦‚æœæ²¡æœ‰æºå¸¦ä»»ä½•cookieï¼Œæ•°ç»„ä¸ºnull,æ— æ³•è¿­ä»£</span><br><span class="hljs-keyword">if</span>(cookies != <span class="hljs-literal">null</span>) &#123;<br>    <span class="hljs-keyword">for</span>(Cookie cookie : cookies) &#123;<br>        System.out.println(cookie.getName() + <span class="hljs-string">&quot;=&quot;</span> + cookie.getValue());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ—¶æ•ˆæ€§">æ—¶æ•ˆæ€§</h3><div class="note note-success">            <p>é»˜è®¤æƒ…å†µä¸‹Cookieçš„æœ‰æ•ˆæœŸæ˜¯ä¸€æ¬¡ä¼šè¯èŒƒå›´å†…ï¼Œå…³é—­æµè§ˆå™¨åCookieå°±ä¼šæ¶ˆå¤±ï¼Œå¯ä»¥é€šè¿‡cookieçš„setMaxAge()æ–¹æ³•è®©CookieæŒä¹…åŒ–ä¿å­˜åˆ°æµè§ˆå™¨ä¸Š</p>          </div><p><code>cookie.setMaxAge(int expiry)</code>å‚æ•°å•ä½æ˜¯ç§’ï¼Œè¡¨ç¤ºcookieçš„æŒä¹…åŒ–æ—¶é—´ï¼Œå¦‚æœè®¾ç½®å‚æ•°ä¸º0ï¼Œè¡¨ç¤ºå°†æµè§ˆå™¨ä¸­ä¿å­˜çš„è¯¥cookieåˆ é™¤ã€‚</p><ul><li>servletAè®¾ç½®ä¸€ä¸ªCookieä¸ºæŒä¹…åŒ–cookie</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(&quot;/servletA&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServletA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">// åˆ›å»ºCookie</span><br>        <span class="hljs-type">Cookie</span> <span class="hljs-variable">cookie1</span> <span class="hljs-operator">=</span><span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;c1&quot;</span>,<span class="hljs-string">&quot;c1_message&quot;</span>);<br>        cookie1.setMaxAge(<span class="hljs-number">60</span>);<br>        <span class="hljs-type">Cookie</span> <span class="hljs-variable">cookie2</span> <span class="hljs-operator">=</span><span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;c2&quot;</span>,<span class="hljs-string">&quot;c2_message&quot;</span>);<br>        <span class="hljs-comment">// å°†cookieæ”¾å…¥å“åº”å¯¹è±¡</span><br>        resp.addCookie(cookie1);<br>        resp.addCookie(cookie2);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é™åˆ¶æäº¤è·¯å¾„">é™åˆ¶æäº¤è·¯å¾„</h3><div class="note note-success">            <p>è®¿é—®äº’è”ç½‘èµ„æºæ—¶ä¸èƒ½æ¯æ¬¡éƒ½éœ€è¦æŠŠæ‰€æœ‰Cookieå¸¦ä¸Šã€‚è®¿é—®ä¸åŒçš„èµ„æºæ—¶,å¯ä»¥æºå¸¦ä¸åŒçš„cookie,æˆ‘ä»¬å¯ä»¥é€šè¿‡cookieçš„setPath(Stringpath) å¯¹cookieçš„è·¯å¾„è¿›è¡Œè®¾ç½®</p>          </div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServletA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">// åˆ›å»ºCookie</span><br>        <span class="hljs-type">Cookie</span> <span class="hljs-variable">cookie1</span> <span class="hljs-operator">=</span><span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;c1&quot;</span>,<span class="hljs-string">&quot;c1_message&quot;</span>);<br>        <span class="hljs-comment">// è®¾ç½®cookieçš„æäº¤è·¯å¾„</span><br>        cookie1.setPath(<span class="hljs-string">&quot;/web03_war_exploded/servletB&quot;</span>);<br>        <span class="hljs-type">Cookie</span> <span class="hljs-variable">cookie2</span> <span class="hljs-operator">=</span><span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;c2&quot;</span>,<span class="hljs-string">&quot;c2_message&quot;</span>);<br>        <span class="hljs-comment">// å°†cookieæ”¾å…¥å“åº”å¯¹è±¡</span><br>        resp.addCookie(cookie1);<br>        resp.addCookie(cookie2);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="session">Session</h2><p>HttpSessionæ˜¯ä¸€ç§ä¿ç•™æ›´å¤šä¿¡æ¯åœ¨æœåŠ¡ç«¯çš„ä¸€ç§æŠ€æœ¯,æœåŠ¡å™¨ä¼šä¸ºæ¯ä¸€ä¸ªå®¢æˆ·ç«¯å¼€è¾Ÿä¸€å—å†…å­˜ç©ºé—´,å³sessionå¯¹è±¡.å®¢æˆ·ç«¯åœ¨å‘é€è¯·æ±‚æ—¶,éƒ½å¯ä»¥ä½¿ç”¨è‡ªå·±çš„session.è¿™æ ·æœåŠ¡ç«¯å°±å¯ä»¥é€šè¿‡sessionæ¥è®°å½•æŸä¸ªå®¢æˆ·ç«¯çš„çŠ¶æ€äº†ã€‚</p><p>å’Œcookieçš„åŒºåˆ«ï¼š</p><ul><li>cookieæ˜¯å­˜å‚¨åœ¨<strong>å®¢æˆ·ç«¯</strong>ï¼ˆæµè§ˆå™¨ï¼‰çš„å°å—æ–‡æœ¬æ•°æ®ï¼ŒåˆæœåŠ¡å™¨å‘é€å¹¶ä¿å­˜åœ¨æµè§ˆå™¨ä¸­ï¼Œæ¯æ¬¡è¯·æ±‚æ—¶æµè§ˆå™¨éƒ½ä¼šè‡ªåŠ¨æŠŠå®ƒä»¬å‘é€ç»™æœåŠ¡å™¨ï¼Œç”¨äºæ‰¾å›æœåŠ¡å™¨ä¸­ä¿å­˜çš„Sessionæ•°æ®ã€‚</li><li>sessionæ˜¯å­˜å‚¨åœ¨<strong>æœåŠ¡å™¨</strong>çš„æ•°æ®ï¼Œè®°å½•äº†ç”¨æˆ·çš„ä¼šè¯çŠ¶æ€ï¼Œæ¯”å¦‚ç™»å½•ä¿¡æ¯ã€è´­ç‰©è½¦å†…å®¹ç­‰ã€‚</li><li>sessionçš„å®‰å…¨æ€§æ›´é«˜ï¼Œå®¹é‡æ²¡æœ‰æ˜ç¡®çš„é™åˆ¶ï¼›cookieçš„å®‰å…¨æ€§ä½ï¼Œå®¹é‡ä¸€èˆ¬ä¸è¶…è¿‡4kbã€‚</li></ul><p><strong>Session å’Œ Cookie çš„å…³ç³»ï¼š</strong></p><ul><li>Session ä¾èµ– Cookie æ¥å®ç°è¯†åˆ«ç”¨æˆ·èº«ä»½ã€‚</li><li>é€šå¸¸ï¼ŒæœåŠ¡å™¨åœ¨åˆ›å»ºä¸€ä¸ª Session æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ SessionIDã€‚</li><li>è¿™ä¸ª Session ID ä¼šé€šè¿‡ Set-Cookieå“åº”å¤´è¢«å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä¼šæŠŠè¿™ä¸ª ID ä¿å­˜åœ¨ Cookie ä¸­ã€‚</li><li>åç»­å®¢æˆ·ç«¯çš„è¯·æ±‚ä¼šè‡ªåŠ¨æºå¸¦è¿™ä¸ª Session ID çš„Cookieï¼ŒæœåŠ¡å™¨å°±å¯ä»¥ç”¨è¿™ä¸ª ID æ‰¾å›ä¹‹å‰ä¿å­˜çš„ Sessionæ•°æ®ï¼Œä»è€Œè¯†åˆ«ç”¨æˆ·çŠ¶æ€ã€‚</li></ul><p>Sessionçš„åŸç†å›¾ï¼š</p><figure><img src="https://s21.ax1x.com/2025/05/14/pEjl0Cn.png"alt="Sessionçš„åŸç†å›¾" /><figcaption aria-hidden="true">Sessionçš„åŸç†å›¾</figcaption></figure><p>ç¤ºä¾‹ï¼šå‡å¦‚æœ‰ä¸€ä¸ªè¡¨å•nameå±æ€§ä¸º<code>username</code>ï¼Œç°åœ¨ä½¿ç”¨ServeletAå°†è¡¨å•æäº¤çš„ç”¨æˆ·åå­˜å…¥Sessionï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(&quot;/servletA&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServletA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">// è·å–è¯·æ±‚ä¸­çš„å‚æ•°</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>        <span class="hljs-comment">// è·å–sessionå¯¹è±¡</span><br>        <span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> req.getSession();<br>         <span class="hljs-comment">// è·å–Sessionçš„ID</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">jSessionId</span> <span class="hljs-operator">=</span> session.getId();<br>        System.out.println(jSessionId);<br>        <span class="hljs-comment">// åˆ¤æ–­sessionæ˜¯ä¸æ˜¯æ–°åˆ›å»ºçš„session</span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">isNew</span> <span class="hljs-operator">=</span> session.isNew();<br>        System.out.println(isNew);<br>        <span class="hljs-comment">// å‘sessionå¯¹è±¡ä¸­å­˜å…¥æ•°æ®</span><br>        session.setAttribute(<span class="hljs-string">&quot;username&quot;</span>,username);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨<code>getSession()</code>æ–¹æ³•å¯ä»¥è·å–å½“å‰ä¼šè¯çš„å®ä¾‹ï¼Œè·å–çš„é€»è¾‘å¦‚ä¸‹ï¼š</p><figure><img src="https://s21.ax1x.com/2025/05/14/pEjluAH.png"alt="getSessionæ–¹æ³•çš„æ“ä½œé€»è¾‘" /><figcaption aria-hidden="true">getSessionæ–¹æ³•çš„æ“ä½œé€»è¾‘</figcaption></figure><p>è¿™æ—¶è¿”å›ç»™å®¢æˆ·ç«¯çš„å“åº”ä¸­åŒ…å«ä¸€ä¸ªé”®ä¸º<code>JSESSIONID</code>çš„cookieã€‚</p><p>ç„¶ååœ¨å¦ä¸€ä¸ªServletBä¸­å°±å¯ä»¥å–å‡ºç”¨æˆ·åï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(&quot;/servletB&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServletB</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">// è·å–sessionå¯¹è±¡</span><br>        <span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> req.getSession();<br>         <span class="hljs-comment">// è·å–Sessionçš„ID</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">jSessionId</span> <span class="hljs-operator">=</span> session.getId();<br>        System.out.println(jSessionId);<br>        <span class="hljs-comment">// åˆ¤æ–­sessionæ˜¯ä¸æ˜¯æ–°åˆ›å»ºçš„session</span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">isNew</span> <span class="hljs-operator">=</span> session.isNew();<br>        System.out.println(isNew);<br>        <span class="hljs-comment">// ä»sessionä¸­å–å‡ºæ•°æ®</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> (String)session.getAttribute(<span class="hljs-string">&quot;username&quot;</span>);<br>        System.out.println(username);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è°ƒç”¨servletBæ—¶å¯ä»¥çœ‹åˆ°è¯·æ±‚ä¸­ä¹Ÿæºå¸¦äº†ä¸€ä¸ªJSESSIONIDçš„cookieã€‚</p><p><strong>Sessionçš„æ—¶æ•ˆæ€§</strong>ï¼š</p><p>é»˜è®¤çš„sessionæœ€å¤§é—²ç½®æ—¶é—´(ä¸¤æ¬¡ä½¿ç”¨åŒä¸€ä¸ªsessionä¸­çš„é—´éš”æ—¶é—´)åœ¨tomcat/conf/web.xmlé…ç½®ä¸º30åˆ†é’Ÿã€‚</p><p>ä¹Ÿå¯ä»¥é€šè¿‡HttpSessionçš„APIå¯¹æœ€å¤§é—²ç½®æ—¶é—´è¿›è¡Œ<strong>æ‰‹åŠ¨è®¾å®š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// è®¾ç½®æœ€å¤§é—²ç½®æ—¶é—´</span><br>session.setMaxInactiveInterval(<span class="hljs-number">60</span>);<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç›´æ¥è®©session<strong>å¤±æ•ˆ</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ç›´æ¥è®©sessionå¤±æ•ˆ</span><br>session.invalidate();<br></code></pre></td></tr></table></figure><h1 id="åŸŸå¯¹è±¡">åŸŸå¯¹è±¡</h1><p>åŸŸå¯¹è±¡æ˜¯ç”¨äº<strong>å­˜å‚¨å’Œä¼ é€’æ•°æ®</strong>çš„å¯¹è±¡ã€‚</p><p>æ¯”è¾ƒé‡è¦çš„åŸŸï¼šè¯·æ±‚åŸŸï¼Œä¼šè¯åŸŸï¼Œåº”ç”¨åŸŸã€‚</p><ul><li>è¯·æ±‚åŸŸå¯¹è±¡ï¼šHttpServletRequestï¼Œä¼ é€’æ•°æ®çš„èŒƒå›´æ˜¯ä¸€æ¬¡è¯·æ±‚ä¹‹å†…å’Œå¤šæ¬¡è½¬å‘ã€‚</li><li>ä¼šè¯åŸŸå¯¹è±¡ï¼šHttpSessionï¼Œä¼ é€’æ•°æ®çš„èŒƒå›´æ˜¯ä¸€æ¬¡ä¼šè¯ä¹‹å†…ï¼ŒåŒä¸€ä¸ªæµè§ˆå™¨å‘èµ·çš„è¯·æ±‚å¯ä»¥å…±äº«è¯¥å¯¹è±¡ï¼Œä½†æ˜¯æ¢ä¸€ä¸ªæµè§ˆå™¨å°±ä¸å¯ä»¥äº†ã€‚</li><li>åº”ç”¨åŸŸï¼šServletContextï¼Œä¼ é€’æ•°æ®çš„èŒƒå›´æ˜¯æœ¬åº”ç”¨ä¹‹å†…ã€‚</li></ul><figure><img src="https://s21.ax1x.com/2025/05/14/pEjn4II.png" alt="è¯·æ±‚åŸŸ" /><figcaption aria-hidden="true">è¯·æ±‚åŸŸ</figcaption></figure><figure><img src="https://s21.ax1x.com/2025/05/14/pEjnoJP.png" alt="ä¼šè¯åŸŸ" /><figcaption aria-hidden="true">ä¼šè¯åŸŸ</figcaption></figure><figure><img src="https://s21.ax1x.com/2025/05/14/pEjnTRf.png" alt="åº”ç”¨åŸŸ" /><figcaption aria-hidden="true">åº”ç”¨åŸŸ</figcaption></figure><figure><img src="https://s21.ax1x.com/2025/05/14/pEjn7z8.png"alt="æ‰€æœ‰åŸŸåˆåœ¨ä¸€èµ·" /><figcaption aria-hidden="true">æ‰€æœ‰åŸŸåˆåœ¨ä¸€èµ·</figcaption></figure><h1 id="è¿‡æ»¤å™¨">è¿‡æ»¤å™¨</h1><p>è¿‡æ»¤å™¨çš„å·¥ä½œä½ç½®ï¼š</p><p><img src="https://s21.ax1x.com/2025/05/14/pEjuw6S.png" /></p><h2 id="è¿‡æ»¤å™¨çš„ä½¿ç”¨">è¿‡æ»¤å™¨çš„ä½¿ç”¨</h2><h3 id="æ—¥å¿—è®°å½•">æ—¥å¿—è®°å½•</h3><p><strong>éª¨æ¶ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> jakarta.servlet.*;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggingFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span> &#123;<br>    <span class="hljs-comment">// è¯·æ±‚åˆ°è¾¾ä¹‹å‰å…ˆä½¿ç”¨è¯¥æ–¹æ³•ã€‚</span><br>    <span class="hljs-comment">// å¯ä»¥åœ¨è¯¥æ–¹æ³•å†…ç›´æ¥è¿”å›å“åº”</span><br>    <span class="hljs-comment">// è¿”å›å“åº”ä¹‹å‰è¿˜ä¼šè°ƒç”¨è¯¥æ–¹æ³•</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException &#123;<br>        <span class="hljs-comment">// 1. è¯·æ±‚åˆ°è¾¾ç›®æ ‡èµ„æºä¹‹å‰çš„åŠŸèƒ½ä»£ç </span><br>        <span class="hljs-comment">//      åˆ¤æ–­æ˜¯å¦ç™»å½•ï¼›æ ¡éªŒæƒé™æ˜¯å¦æ»¡è¶³ç­‰</span><br>        <span class="hljs-comment">// 2. æ”¾è¡Œä»£ç   </span><br>        <span class="hljs-comment">// 3. å“åº”ä¹‹å‰ HttpServletResponse è½¬æ¢ä¸ºå“åº”æ¶ˆæ¯ä¹‹å‰çš„åŠŸèƒ½ä»£ç       </span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¼ å…¥å‚æ•°ä¸­çš„<code>FilterChain</code>æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå†…éƒ¨å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">FilterChain</span> &#123;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServletRequest var1, ServletResponse var2)</span> <span class="hljs-keyword">throws</span> IOException, ServletException;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„è¿™ä¸ª<code>doFilter</code>å’Œ<code>LoggingFilter</code>ç±»é‡å†™çš„<code>doFilter</code>æ–¹æ³•ä¸æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™é‡Œæ²¡æœ‰é€’å½’ã€‚è¿™é‡Œçš„<code>doFilter</code>æ–¹æ³•çš„ä½œç”¨æ˜¯ï¼š</p><p><strong>åœ¨å¤šä¸ª Filterä¹‹é—´ä¼ é€’è¯·æ±‚å’Œå“åº”å¯¹è±¡ï¼Œæˆ–è€…æœ€ç»ˆå°†è¯·æ±‚ä¼ é€’ç»™ç›®æ ‡ Servlet</strong>ã€‚</p><h3 id="æ”¾è¡Œä»£ç ">æ”¾è¡Œä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">filterChain.doFilter(servletRequest, servletResponse);<br></code></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆè°ƒç”¨<code>doFilter</code>å°±æ˜¯æ”¾è¡Œäº†ï¼Ÿä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰è¿™æ ·ä¸€æ¡è¿‡æ»¤å™¨é“¾ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Request --&gt; FilterA --&gt; FilterB --&gt; FilterC --&gt; Servlet<br></code></pre></td></tr></table></figure><p>å¦‚æœåœ¨<code>FilterB</code>ä¸­è°ƒç”¨äº†<code>chain.doFilter(request, response);</code>ï¼Œé‚£ä¹ˆè¯·æ±‚æ‰ä¼šç»§ç»­å¾€ä¸‹ä¼ ï¼Œä¼ åˆ°ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ã€‚åä¹‹ï¼Œå¦‚æœä¸è°ƒç”¨è¯¥æ–¹æ³•ï¼Œé‚£ä¹ˆè¯·æ±‚å°±ä¼šå¡åœ¨è¿‡æ»¤å™¨Bä¸­ï¼Œè¾¾åˆ°äº†<strong>æ‹¦æˆª</strong>çš„æ•ˆæœã€‚</p><p>é€šè¿‡è®¾è®¡<code>doFilter</code>æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿‡æ»¤å™¨ä¸­å¤„ç†è¯·æ±‚ï¼Œç»è¿‡ä»”ç»†åˆ¤æ–­ä¹‹åå†å†³å®šè¦ä¸è¦å¾€ä¸‹ä¼ ã€‚è°ƒç”¨<code>doFilter</code>ï¼Œåˆ™ç›¸å½“äºé€šè¿‡è¿‡æ»¤å™¨ï¼Œä¼ ç»™ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨æˆ–Servletï¼›ä¸è°ƒç”¨åˆ™ä¸å†å¾€ä¸‹ä¼ é€’ï¼Œè§†ä¸ºæ‹¦æˆªã€‚</p><hr /><p>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼š<strong>å¤šä¸ªè¿‡æ»¤å™¨é“¾å¼è°ƒç”¨çš„æ—¶å€™ï¼Œå®ƒä»¬çš„å…ˆåé¡ºåºæ˜¯æ€ä¹ˆç¡®å®šçš„</strong>ï¼Ÿç­”æ¡ˆæ˜¯<code>web.xml</code>ä¸­çš„<code>&lt;filter-mapping&gt;</code>çš„å‰åé¡ºåºå†³å®šæ‰§è¡Œé¡ºåºã€‚</p><p>å¦‚æœé‡‡ç”¨ Servlet 3.0+çš„æ ‡å‡†æ³¨è§£å½¢å¼ï¼Œé‚£ä¹ˆæ‰§è¡Œé¡ºåºå–å†³äºç±»ååœ¨å­—å…¸ä¸­çš„é¡ºåºã€‚åœ¨ä½¿ç”¨ Springçš„æƒ…å†µä¸‹æ‰å¯ä»¥é€šè¿‡æ³¨è§£æ˜ç¡®æŒ‡å®šæ‰§è¡Œé¡ºåºã€‚</p><figure><img src="https://s21.ax1x.com/2025/05/14/pEjMCb4.png"alt="è¿‡æ»¤å™¨é“¾å›¾è§£" /><figcaption aria-hidden="true">è¿‡æ»¤å™¨é“¾å›¾è§£</figcaption></figure><h3 id="é…ç½®è¿‡æ»¤å™¨">é…ç½®è¿‡æ»¤å™¨</h3><p><strong>æ–¹æ³•ä¸€</strong>ï¼šé€šè¿‡<code>web.xml</code>é…ç½®</p><p>åˆå§‹åŒ–è¿‡æ»¤å™¨ï¼›</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>LoggingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>com.kzn.filters.LoggingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br></code></pre></td></tr></table></figure><p>é…ç½®è¿‡æ»¤å™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>LoggingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>Servlet1<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- &lt;url-pattern&gt;&lt;/url-pattern&gt; --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><code>servlet-name</code>:æ ¹æ®servletçš„<code>name</code>å±æ€§è¿‡æ»¤ï¼ˆè¿™ä¸ªå±æ€§çš„é»˜è®¤å€¼ä¸º<code>""</code>ï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®ï¼‰</li><li><code>url-pattern</code>:æ ¹æ®è¯·æ±‚çš„èµ„æºè·¯å¾„æ¥è¿‡æ»¤èµ„æºã€‚å…·ä½“è§„åˆ™ï¼š<code>ç²¾ç¡®è·¯å¾„åŒ¹é…/servlet, è·¯å¾„åŒ¹é…/*, æ‰©å±•ååŒ¹é…*.action,é»˜è®¤åŒ¹é… /  ä¼˜å…ˆçº§ä¾æ¬¡é å</code>ã€‚å¦‚æœä½¿ç”¨<code>/*</code>ï¼Œè¯´æ˜æ‰€æœ‰çš„è¯·æ±‚å’Œå“åº”éƒ½ä¼šç»è¿‡è¿™ä¸ªè¿‡æ»¤å™¨ã€‚</li></ul><p>ä¸¤è€…ä¸èƒ½æ··ç”¨ï¼Œå¦åˆ™ä¼šå¯¼è‡´åŒä¸€ä¸ªè¿‡æ»¤å™¨è¢«é”™è¯¯åœ°é‡å¤æ‰§è¡Œã€‚</p><p>ç®€æ˜“æ—¥å¿—çš„å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggingFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span> &#123;<br>    <span class="hljs-comment">// è·å–æ—¥æœŸå¯¹è±¡</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">dateFormat</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException &#123;<br><br>        <span class="hljs-comment">// å¼ºè½¬ï¼Œæ–¹ä¾¿è·å–uri</span><br>        <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">httpRequest</span> <span class="hljs-operator">=</span> (HttpServletRequest) servletRequest;<br>        <br>        <span class="hljs-type">String</span> <span class="hljs-variable">uri</span> <span class="hljs-operator">=</span> httpRequest.getRequestURI();<br>        <span class="hljs-comment">// æ—¥å¿—çš„æ ¼å¼ï¼šyyyy-MM-dd HH:mm:ss è¯·æ±‚ è€—æ—¶ xx æ¯«ç§’</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">dateTime</span> <span class="hljs-operator">=</span> dateFormat.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>());<br>        <span class="hljs-type">String</span> <span class="hljs-variable">beforeLogin</span> <span class="hljs-operator">=</span> dateTime + <span class="hljs-string">&quot; : &quot;</span> +uri + <span class="hljs-string">&quot;was logged in&quot;</span>;<br>        <span class="hljs-comment">// è¾“å‡ºæ—¥å¿—</span><br>        System.out.println(beforeLogin);<br><br>        <span class="hljs-comment">// è®¡æ—¶å¼€å§‹</span><br>        <span class="hljs-type">long</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> System.currentTimeMillis();<br><br>        <span class="hljs-comment">// æ”¾è¡Œçš„ä»£ç </span><br>        filterChain.doFilter(servletRequest, servletResponse);<br>        System.out.println(<span class="hljs-string">&quot;after filter invoked&quot;</span>);<br><br>        <span class="hljs-comment">// è®¡æ—¶ç»“æŸ</span><br>        <span class="hljs-type">long</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> System.currentTimeMillis();<br><br>        <span class="hljs-type">String</span> <span class="hljs-variable">afterLogin</span> <span class="hljs-operator">=</span> uri + <span class="hljs-string">&quot; has spent &quot;</span> + (t2 - t1) + <span class="hljs-string">&quot; milliseconds&quot;</span>;<br>        <span class="hljs-comment">// è¾“å‡ºæ—¥å¿—</span><br>        System.out.println(afterLogin);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ">è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ</h2><blockquote><p>è¿‡æ»¤å™¨ä½œä¸ºwebé¡¹ç›®çš„ç»„ä»¶ä¹‹ä¸€,å’ŒServletçš„ç”Ÿå‘½å‘¨æœŸç±»ä¼¼,ç•¥æœ‰ä¸åŒ,æ²¡æœ‰servletçš„load-on-startupçš„é…ç½®,é»˜è®¤å°±æ˜¯ç³»ç»Ÿå¯åŠ¨ç«‹åˆ»æ„é€ </p></blockquote><table style="width:100%;"><thead><tr><th>é˜¶æ®µ</th><th>å¯¹åº”æ–¹æ³•</th><th>æ‰§è¡Œæ—¶æœº</th><th>æ‰§è¡Œæ¬¡æ•°</th></tr></thead><tbody><tr><td>åˆ›å»ºå¯¹è±¡</td><td>æ„é€ å™¨</td><td>webåº”ç”¨å¯åŠ¨æ—¶</td><td>1</td></tr><tr><td>åˆå§‹åŒ–æ–¹æ³•</td><td><code>void init(FilterConfig filterConfig)</code></td><td>æ„é€ å®Œæ¯•</td><td>1</td></tr><tr><td>è¿‡æ»¤è¯·æ±‚</td><td><code>void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</code></td><td>æ¯æ¬¡è¯·æ±‚</td><td>å¤šæ¬¡</td></tr><tr><td>é”€æ¯</td><td><code>default void destroy()</code></td><td>webåº”ç”¨å…³é—­æ—¶</td><td>1æ¬¡</td></tr></tbody></table><h1 id="ç›‘å¬å™¨">ç›‘å¬å™¨</h1><p>ä½¿ç”¨é¢‘ç‡ä¸å¦‚è¿‡æ»¤å™¨ã€‚</p><p><strong>ç›‘å¬å™¨</strong>ï¼šä¸“é—¨ç”¨äºå¯¹åŸŸå¯¹è±¡å¯¹è±¡èº«ä¸Šå‘ç”Ÿçš„äº‹ä»¶æˆ–çŠ¶æ€æ”¹å˜è¿›è¡Œç›‘å¬å’Œç›¸åº”å¤„ç†çš„å¯¹è±¡ã€‚</p><p><strong>ç›‘å¬å¯¹è±¡</strong>ï¼šåŸŸå¯¹è±¡å‘ç”Ÿçš„äº‹ä»¶ï¼Œä¾‹å¦‚ï¼šåŸŸå¯¹è±¡çš„åˆ›å»ºã€é”€æ¯ï¼Œæ•°æ®çš„ä¿®æ”¹ã€åˆ é™¤ç­‰ï¼Œå½“è¿™äº›äº‹ä»¶å‘ç”Ÿæ—¶ç›‘å¬å™¨æ‰§è¡Œç›¸åº”çš„ä»£ç ã€‚</p><h2 id="application-listener">application listener</h2><p>é…ç½®æ–¹å¼ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">listener</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">listener-class</span>&gt;</span>com.kzn.Listener<span class="hljs-tag">&lt;/<span class="hljs-name">listener-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">listener</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨æ³¨è§£ï¼š<code>@WebListener</code></p><hr /><p>å¦‚æœæƒ³è¦ç›‘å¬<strong>åº”ç”¨åŸŸçš„åˆå§‹åŒ–å’Œé”€æ¯äº‹ä»¶</strong>,éœ€è¦å®ç°<code>ServletContextListener</code>æ¥å£:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebListener</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Listener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ServletContextListener</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">contextInitialized</span><span class="hljs-params">(ServletContextEvent sce)</span> &#123;<br>        <span class="hljs-type">ServletContext</span> <span class="hljs-variable">servletContext</span> <span class="hljs-operator">=</span> sce.getServletContext();<br>        System.out.println(servletContext.hashCode()+<span class="hljs-string">&quot; contextInitialized&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">contextDestroyed</span><span class="hljs-params">(ServletContextEvent sce)</span> &#123;<br>        <span class="hljs-type">ServletContext</span> <span class="hljs-variable">servletContext</span> <span class="hljs-operator">=</span> sce.getServletContext();<br>        System.out.println(servletContext.hashCode()+<span class="hljs-string">&quot; contextDestroyed&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨åº”ç”¨å¯åŠ¨å’Œé”€æ¯æ—¶å„æ‰§è¡Œä¸€æ¬¡.</p><p>å¦‚æœç›‘å¬ ServletContextçš„<strong>å‚æ•°çš„å˜åŒ–</strong>,éœ€è¦å®ç°<code>ServletContextAttributeListener</code>,ä¸€å…±ä¸‰ä¸ªæŠ½è±¡æ–¹æ³•:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ServletContextAttributeListener</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">EventListener</span> &#123;<br>    <span class="hljs-comment">// å±æ€§æ•°é‡å¢åŠ </span><br>    <span class="hljs-keyword">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">attributeAdded</span><span class="hljs-params">(ServletContextAttributeEvent scae)</span> &#123;<br>    &#125;<br>    <span class="hljs-comment">// å±æ€§è¢«ç§»é™¤</span><br>    <span class="hljs-keyword">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">attributeRemoved</span><span class="hljs-params">(ServletContextAttributeEvent scae)</span> &#123;<br>    &#125;<br>    <span class="hljs-comment">// å±æ€§è¢«ä¿®æ”¹</span><br>    <span class="hljs-keyword">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">attributeReplaced</span><span class="hljs-params">(ServletContextAttributeEvent scae)</span> &#123;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä¼šè¯åŸŸå’Œè¯·æ±‚åŸŸ">ä¼šè¯åŸŸå’Œè¯·æ±‚åŸŸ</h2><p>å’Œåº”ç”¨åŸŸå®Œå…¨ç±»ä¼¼ï¼Œåªä¸è¿‡è°ƒç”¨çš„æ–¹æ³•çš„<code>ServletContext</code>æ›¿æ¢æˆ<code>Session</code>å’Œ<code>Request</code>ã€‚</p><p><code>Session</code>è¿˜æœ‰ä¸¤ä¸ªç‰¹æ®Šçš„ç›‘å¬å™¨ï¼š</p><ul><li><code>HttpSessionBindingListener</code>ç›‘å¬å½“å‰ç›‘å¬å™¨å¯¹è±¡åœ¨SessionåŸŸä¸­çš„å¢åŠ ä¸ç§»é™¤</li><li><code>HttpSessionBindingEvent</code>å¯¹è±¡ä»£è¡¨å±æ€§å˜åŒ–äº‹ä»¶</li><li><code>HttpSessionActivationListener</code>ç›‘å¬é’åŒ–å’Œæ´»åŒ–ï¼Œå°†å†…å­˜ä¸­çš„sessionåºåˆ—åŒ–å˜æˆç£ç›˜ä¸­çš„æ–‡ä»¶ç§°ä¹‹ä¸ºé’åŒ–ï¼Œååºåˆ—åŒ–å˜æˆå†…å­˜ä¸­çš„å¯¹è±¡ç§°ä¹‹ä¸ºæ´»åŒ–ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>Web Development</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>MyBatisé…ç½®è¿‡ç¨‹å’ŒåŸºæœ¬ç”¨æ³•</title>
    <link href="/2025/05/14/MyBatis%E9%85%8D%E7%BD%AE%E8%BF%87%E7%A8%8B%E5%92%8C%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/"/>
    <url>/2025/05/14/MyBatis%E9%85%8D%E7%BD%AE%E8%BF%87%E7%A8%8B%E5%92%8C%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯-mybatis">ä»€ä¹ˆæ˜¯ MyBatis</h1><p>MyBatisæ˜¯ä¸€ä¸ªJavaæŒä¹…åŒ–æ¡†æ¶ï¼Œå®ƒé€šè¿‡XMLæè¿°ç¬¦æˆ–æ³¨è§£æŠŠå¯¹è±¡ä¸å­˜å‚¨è¿‡ç¨‹æˆ–SQLè¯­å¥å…³è”èµ·æ¥ï¼Œæ˜ å°„æˆæ•°æ®åº“å†…å¯¹åº”çš„çºªå½•ã€‚<ahref="https://mybatis.org/mybatis-3/zh_CN/index.html">å®˜æ–¹æ–‡æ¡£åœ°å€</a></p><p>MyBatis å±äº SSMæ¡†æ¶çš„æ•°æ®è®¿é—®å±‚ï¼Œæœ‰äº†å®ƒå°±ä¸å¿…å†å†™JDBCé‚£ç§ç¹ççš„æ“ä½œæ•°æ®åº“çš„ä»£ç ï¼Œæ›´ç®€å•æ˜“ç”¨ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">Controllerï¼ˆæ§åˆ¶å±‚ï¼‰       &lt;<span class="hljs-comment">-- SpringMVC</span><br>   â†“<br>Serviceï¼ˆä¸šåŠ¡é€»è¾‘å±‚ï¼‰       &lt;<span class="hljs-comment">-- Spring</span><br>   â†“<br>DAO / Mapperï¼ˆæ•°æ®è®¿é—®å±‚ï¼‰ &lt;<span class="hljs-comment">-- MyBatis</span><br>   â†“<br><span class="hljs-keyword">Database</span>ï¼ˆæ•°æ®åº“ï¼‰<br></code></pre></td></tr></table></figure><h1 id="é…ç½®-mybatis">é…ç½® MyBatis</h1><ol type="1"><li>ä½¿ç”¨IDEA<strong>åˆ›å»º</strong>ä¸€ä¸ªMavenå·¥ç¨‹ï¼ŒåŠ å…¥mybatis, junit,mysql-connector-jä¾èµ–ï¼š</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.16<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.13.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/com.mysql/mysql-connector-j --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>9.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="2" type="1"><li>åœ¨resourcesç›®å½•ä¸‹<strong>åˆ›å»º</strong><code>mybatis-config.xml</code>é…ç½®æ–‡ä»¶ï¼ˆå‚æ•°æ”¹æˆè‡ªå·±çš„ï¼‰</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">configuration</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;https://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- è®¾ç½®å®ä½“ç±»çš„åˆ«åï¼Œè¿™æ ·ä»¥åå¯ä»¥ç›´æ¥ä½¿ç”¨ç±»åè€Œä¸ç”¨å†å†™å…¨ç±»åäº† --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.kzn.pojo&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/schedule_system&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;************&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;org/mybatis/example/BlogMapper.xml&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="3" type="1"><li>åœ¨javaç›®å½•ä¸‹<strong>åˆ›å»º</strong>pojoåŒ…å’ŒmapperåŒ…ï¼Œåˆ†åˆ«å­˜æ”¾è¡¨å¯¹åº”çš„å®ä½“ç±»å’Œå¤„ç†æ˜ å°„å…³ç³»çš„æ¥å£ã€‚å­˜åœ¨è¿™æ ·çš„å¯¹åº”å…³ç³»ï¼š<code>è¡¨â€”â€”å®ä½“ç±»â€”â€”mapperæ¥å£â€”â€”æ˜ å°„æ–‡ä»¶</code>ã€‚</li></ol><p>ç„¶ååˆ›å»ºæ˜ å°„æ–‡ä»¶ã€‚æ˜ å°„æ–‡ä»¶ç”¨äºå°†æˆ‘ä»¬åˆ›å»ºçš„æ¥å£å’Œsqlè¯­å¥å»ºç«‹è”ç³»ã€‚è€ƒè™‘åˆ°ä¸€ä¸ªé¡¹ç›®ä¸­ä¼šå­˜åœ¨å¤šä¸ªæ¥å£ï¼Œå› æ­¤åœ¨resourcesç›®å½•ä¸‹åˆ›å»ºmappersæ–‡ä»¶å¤¹ç»Ÿä¸€ç®¡ç†<code>.xml</code>æ–‡ä»¶ï¼š</p><figure><img src="https://s21.ax1x.com/2025/05/14/pEj8Phj.png" alt="é¡¹ç›®ç»“æ„" /><figcaption aria-hidden="true">é¡¹ç›®ç»“æ„</figcaption></figure><ol start="4" type="1"><li><strong>MyBatis é¢å‘æ¥å£ç¼–ç¨‹çš„ä¸¤ä¸ªä¸€è‡´</strong><ol type="1"><li>æ˜ å°„æ–‡ä»¶çš„<code>namespace</code>å’Œå¯¹åº”æ¥å£çš„<strong>å…¨ç±»å</strong>ä¿æŒä¸€è‡´</li><li>æ˜ å°„æ–‡ä»¶ä¸­sqlè¯­å¥çš„idå’Œmapperæ¥å£ä¸­å®šä¹‰çš„<strong>æ–¹æ³•å</strong>ä¸€è‡´</li></ol></li></ol><p>ä»¥ä¸Šä¸¤ç‚¹æ˜¯å¦‚ä½•ä½“ç°çš„å‘¢ï¼Ÿå…ˆå†™<code>UserMapper.xml</code>é…ç½®ï¼ˆè¿™é‡Œæ˜¯sqlçš„æ’å…¥è¯­å¥ï¼‰ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;https://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- å‘½åç©ºé—´æ˜¯æ¥å£çš„å…¨ç±»å --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.kzn.mapper.UserMapper&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;insertUser&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--è¿™é‡Œå°±å¯ä»¥æ„‰å¿«åœ°å†™ sql è¯­å¥å•¦--&gt;</span><br>        <span class="hljs-comment">&lt;!-- è¿™é‡Œä½¿ç”¨åŠ¨æ€sql --&gt;</span><br>        insert into sys_user (username, user_pwd)<br>        values (#&#123;username&#125;, #&#123;user_pwd&#125;)<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯å¯¹åº”çš„æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å‘è¡¨ä¸­æ’å…¥æ–°ç”¨æˆ·</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> user æ–°ç”¨æˆ·çš„å®ä¾‹</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> å¯¹æ•°æ®åº“å½±å“çš„è¡Œæ•°</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">insertUser</span><span class="hljs-params">(User user)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å†™é…ç½®æ–‡ä»¶æ—¶å°±éµå¾ªäº†è¿™ä¸¤ä¸ªåŸåˆ™ï¼š</p><ul><li><code>namespace</code>æ”¹æˆå¯¹åº”æ¥å£çš„å…¨ç±»åï¼š<code>com/kzn/mapper/UserMapper</code></li><li><code>mapper</code>æ ‡ç­¾å†…éƒ¨å†™æ˜ å°„è¯­å¥ï¼Œå¹¶ä¸”æ˜ å°„è¯­å¥çš„æ ‡ç­¾åå°±æ˜¯è¦å¯¹æ•°æ®åº“è¿›è¡Œçš„æ“ä½œ(<code>insert</code>)ï¼›<code>id</code>å±æ€§è¦å’Œæ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•å(æ­¤å¤„ä¸º<code>insertUser</code>)ä¿æŒä¸€è‡´ã€‚</li></ul><ol start="5" type="1"><li><strong>å‘æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼•å…¥æ˜ å°„æ–‡ä»¶</strong></li></ol><p><code>mappers</code>æ ‡ç­¾åœ¨åˆšæ‰å¤åˆ¶ç²˜è´´çš„æ¨¡æ¿ä¸­å·²ç»å­˜åœ¨ï¼Œåªéœ€è¦ä¿®æ”¹å†…å®¹å³å¯ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;mappers/UserMapper.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="6" type="1"><li>æµ‹è¯•åŠŸèƒ½æ˜¯å¦å¯ä»¥æ­£å¸¸ä½¿ç”¨</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestMyBatis</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testSelect</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">//åŠ è½½æ ¸å¿ƒé…ç½®æ–‡ä»¶</span><br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis-config.xml&quot;</span>);<br>        <span class="hljs-comment">// è·å–SqlSessionFactoryBuilder ï¼ˆå·¥å‚æ¨¡å¼ï¼‰</span><br>        <span class="hljs-type">SqlSessionFactoryBuilder</span> <span class="hljs-variable">builder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>();<br>        <span class="hljs-comment">// è·å–SqlSessionFactory</span><br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> builder.build(is);<br>        <span class="hljs-comment">// è·å–SqlSession: Javaç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„å¯¹è¯</span><br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> factory.openSession();<br>        <span class="hljs-comment">// è·å–mapperæ¥å£çš„å®ç°ç±»çš„å®ä¾‹å¯¹è±¡ï¼ˆåº•å±‚é‡‡ç”¨ä»£ç†æ¨¡å¼ï¼‰</span><br>        <span class="hljs-type">UserMapper</span> <span class="hljs-variable">userMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br>        <span class="hljs-comment">// ç„¶ååˆ©ç”¨æ¥å£çš„å®ç°ç±»å¯¹è±¡ï¼Œè°ƒç”¨å¯¹åº”çš„æ–¹æ³•</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> userMapper.insertUser(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-literal">null</span>, <span class="hljs-string">&quot;Origami&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>));<br>        <span class="hljs-comment">// æäº¤äº‹åŠ¡</span><br>        sqlSession.commit();<br>        System.out.println(result);<br><br>        sqlSession.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>factory.openSession();</code>å¯ä»¥ä¼ å…¥<code>boolean</code>å‚æ•°å†³å®šæ˜¯å¦è‡ªåŠ¨æäº¤ï¼Œ<code>true</code>ä¸ºå¼€å¯è‡ªåŠ¨æäº¤ï¼Œ<code>false</code>ä¸ºå…³é—­è‡ªåŠ¨æäº¤ã€‚é»˜è®¤ä¸º<code>false</code>ã€‚</p><p>è·å–mapperæ¥å£çš„å®ç°ç±»çš„å®ä¾‹å¯¹è±¡ä¹‹å‰çš„ä»£ç å¯¹äºæ¯ä¸ªæµ‹è¯•éƒ½æ˜¯ç›¸åŒçš„ï¼Œä¸å¦¨æŠŠå®ƒå°è£…æˆä¸€ä¸ªæµ‹è¯•ç±»<code>MyBatisUtils.java</code>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyBatisUtils</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SqlSessionFactory sqlSessionFactory;<br><br>    <span class="hljs-keyword">static</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis-config.xml&quot;</span>);<br>            sqlSessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(is);<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;åˆå§‹åŒ–SqlSessionFactoryå¤±è´¥&quot;</span>, e);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// è·å– SqlSessionï¼ˆå¯ä»¥è‡ªåŠ¨æäº¤æˆ–æ‰‹åŠ¨æäº¤ï¼‰</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SqlSession <span class="hljs-title function_">getSqlSession</span><span class="hljs-params">(<span class="hljs-type">boolean</span> autoCommit)</span> &#123;<br>        <span class="hljs-keyword">return</span> sqlSessionFactory.openSession(autoCommit);<br>    &#125;<br>    <span class="hljs-comment">// è·å– SqlSession é»˜è®¤æ‰‹åŠ¨æäº¤</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SqlSession <span class="hljs-title function_">getSqlSession</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> getSqlSession(<span class="hljs-literal">false</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœ‰äº†è¿™æ ·ä¸€ä¸ªå·¥å…·ç±»ä»¥åï¼Œå°±å¯ä»¥åœ¨æµ‹è¯•ä¸­ç›´æ¥ä½¿ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">try</span> (<span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> MyBatisUtils.getSqlSession()) &#123;<br>    <span class="hljs-comment">// é€šè¿‡ sqlSession è·å–æ¥å£çš„å®ç°ç±»çš„å®ä¾‹å¯¹è±¡</span><br><br>    <span class="hljs-comment">//è°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³•</span><br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ—¥å¿—çš„é…ç½®">æ—¥å¿—çš„é…ç½®</h2><p>Mybatisé€šè¿‡ä½¿ç”¨å†…ç½®çš„æ—¥å¿—å·¥å‚æä¾›æ—¥å¿—åŠŸèƒ½ã€‚å†…ç½®æ—¥å¿—å·¥å‚å°†ä¼šæŠŠæ—¥å¿—å·¥ä½œå§”æ‰˜ç»™ä¸‹é¢çš„å®ç°ä¹‹ä¸€ï¼š</p><ul><li>SLF4J</li><li>Apache Commons Logging</li><li>Log4j 2</li><li>Log4jï¼ˆ3.5.9èµ·åºŸå¼ƒï¼‰</li><li>JDK logging</li></ul><p>è¿™é‡Œä½¿ç”¨çš„æ˜¯ Log4j2 ã€‚</p><p>å¼•å…¥ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>log4j-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.23.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å‘<code>log4j2.xml</code>ä¸­åŠ å…¥è¯­å¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">Configuration</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://logging.apache.org/log4j/2.0/config&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Appenders</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">Console</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;stdout&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;SYSTEM_OUT&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">PatternLayout</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;%5level [%t] - %msg%n&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">Console</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">Appenders</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Loggers</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">Logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.kzn.mapper.UserMapper&quot;</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;trace&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">Root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;info&quot;</span> &gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">AppenderRef</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;stdout&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">Root</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">Loggers</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">Configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å…¶ä¸­<code>com.kzn.mapper.UserMapper</code>è¦æ¢æˆè‡ªå·±æ¥å£çš„å…¨ç±»åã€‚å½“ç„¶ä¹Ÿå¯ä»¥å°†æ—¥å¿—çš„è®°å½•æ–¹å¼ä»æ¥å£çº§åˆ«åˆ‡æ¢åˆ°è¯­å¥çº§ï¼Œåªéœ€å°†è¿™ä¸€é¡¹æ”¹ä¸ºå¯¹åº”æ–¹æ³•çš„åç§°ã€‚<code>level</code>æ˜¯æ—¥å¿—çº§åˆ«ï¼Œå¯ä»¥è‡ªå·±è®¾ç½®ï¼Œæ—¥å¿—çš„æ‰€æœ‰çº§åˆ«å¦‚ä¸‹ï¼š</p><p>FATAL&gt;ERROR&gt;WARN&gt;INFO&gt;DUBUG</p><p>è¿™æ—¶è¿è¡Œæµ‹è¯•ä»£ç ï¼Œå¾—åˆ°çš„è¾“å‡ºä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">DEBUG [main] - ==&gt;  Preparing: insert into sys_user (username, user_pwd) values (?, ?)<br>DEBUG [main] - ==&gt; Parameters: xQc(String), 123(String)<br>DEBUG [main] - &lt;==    Updates: 1<br>1<br></code></pre></td></tr></table></figure><h1 id="æŸ¥è¯¢">æŸ¥è¯¢</h1><h2 id="é’ˆå¯¹å·²çŸ¥å€¼çš„æŸ¥è¯¢">é’ˆå¯¹å·²çŸ¥å€¼çš„æŸ¥è¯¢</h2><p>ç›®æ ‡ï¼šå®ç°å¯¹<code>sys_user</code>è¡¨ä¸­çš„å•ä¸ªç”¨æˆ·çš„æŸ¥è¯¢å’Œæ‰€æœ‰ç”¨æˆ·çš„æŸ¥è¯¢ã€‚</p><p>å¦‚æœæŸ¥è¯¢çš„æ•°æ®æœ‰å¤šæ¡ï¼Œå¿…é¡»ä½¿ç”¨<code>List</code>æ¥æ”¶ã€‚</p><h3 id="åŸºäº-xml-çš„æ–¹å¼">åŸºäº XML çš„æ–¹å¼</h3><h4 id="å®šä¹‰æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•">å®šä¹‰æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•</h4><p>å‘<code>UserMapper.java</code>æ¥å£ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æŸ¥è¯¢å•ä¸ªç”¨æˆ·</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> uid ç”¨æˆ·çš„å”¯ä¸€uid</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> ç”¨æˆ·ç±»çš„å®ä¾‹</span><br><span class="hljs-comment"> */</span><br>User <span class="hljs-title function_">selectUserById</span><span class="hljs-params">(<span class="hljs-type">int</span> uid)</span>;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ï¼Œè¿”å›ç”¨æˆ·ç»„æˆçš„åˆ—è¡¨</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> ç”¨æˆ·åˆ—è¡¨</span><br><span class="hljs-comment"> */</span><br>List&lt;User&gt; <span class="hljs-title function_">selectAllUsers</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure><p>æŸ¥è¯¢å•ä¸ªç”¨æˆ·ç›´æ¥è¿”å›å¯¹åº”ç”¨æˆ·çš„<code>User</code>å¯¹è±¡ï¼ŒæŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·å°±è¿”å›ç»„æˆçš„åˆ—è¡¨ã€‚</p><h4 id="xml-æ˜ å°„æ–‡ä»¶">XML æ˜ å°„æ–‡ä»¶</h4><p>åœ¨æ˜ å°„æ–‡ä»¶<code>UserMapper.xml</code>çš„<code>&lt;mapper&gt;</code>æ ‡ç­¾å†…éƒ¨å¼•å…¥æ–¹æ³•çš„æ˜ å°„ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--User selectUserById(int uid);--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUserById&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;Integer&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.kzn.pojo.User&quot;</span>&gt;</span><br>    SELECT *<br>    FROM sys_user<br>    WHERE uid = #&#123;uid&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--List&lt;User&gt; selectAllUsers();--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectAllUsers&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.kzn.pojo.User&quot;</span>&gt;</span><br>    SELECT *<br>    FROM sys_user<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªè¯­å¥åä¸º selectUserByIdï¼Œæ¥å—ä¸€ä¸ª intï¼ˆæˆ–Integerï¼‰ç±»å‹çš„å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª User ç±»å‹çš„å¯¹è±¡ã€‚æ³¨æ„å‚æ•°ç¬¦å·</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">&#123;<span class="hljs-built_in">id</span>&#125;</span><br></code></pre></td></tr></table></figure><p>è¿™å°±å‘Šè¯‰ MyBatisåˆ›å»ºä¸€ä¸ª<strong>é¢„å¤„ç†è¯­å¥</strong>ï¼ˆPreparedStatementï¼‰å‚æ•°ã€‚è¿™å…¶å®ç›¸å½“äºJDBCä¸­çš„é¢„å¤„ç†è¯­å¥ï¼Œå½“æ—¶æˆ‘ä»¬æ˜¯è¿™æ ·å¤„ç†çš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// å®šä¹‰sqlè¯­å¥ï¼Œå‚æ•°å€¼ç”¨ï¼Ÿæ›¿ä»£</span><br><span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;select * from sys_user where uid=?&quot;</span>;<br><span class="hljs-comment">// è·å–PreparedStatement å¯¹è±¡</span><br><span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">preparedStatement</span> <span class="hljs-operator">=</span> connection.prepareStatement(sql);<br><span class="hljs-comment">// è®¾ç½®å‚æ•°å€¼</span><br><span class="hljs-comment">// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç¼–å·ï¼Œä» 1 å¼€å§‹ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯èµ‹å€¼</span><br>preparedStatement.setInt(<span class="hljs-number">1</span>, uid);<br></code></pre></td></tr></table></figure><p><code>select</code>å…ƒç´ å…è®¸ä½ é…ç½®å¾ˆå¤šå±æ€§æ¥é…ç½®æ¯æ¡è¯­å¥çš„è¡Œä¸ºç»†èŠ‚ã€‚è¿™é‡Œç”¨åˆ°çš„å±æ€§æœ‰ï¼š</p><ul><li><code>id</code>: åœ¨å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œä¸€èˆ¬å†™æˆæ–¹æ³•å</li><li><code>parameterType</code>:å°†ä¼šä¼ å…¥è¿™æ¡è¯­å¥çš„<strong>å‚æ•°çš„ç±»å…¨é™å®šåæˆ–åˆ«å</strong>ã€‚è¿™ä¸ªå±æ€§æ˜¯<strong>å¯é€‰</strong>çš„ï¼Œå› ä¸ºMyBatiså¯ä»¥æ ¹æ®è¯­å¥ä¸­å®é™…ä¼ å…¥çš„å‚æ•°è®¡ç®—å‡ºåº”è¯¥ä½¿ç”¨çš„ç±»å‹å¤„ç†å™¨ï¼ˆTypeHandlerï¼‰ï¼Œé»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ã€‚</li><li><code>resultType</code>:æœŸæœ›ä»è¿™æ¡è¯­å¥ä¸­<strong>è¿”å›ç»“æœçš„ç±»å…¨é™å®šåæˆ–åˆ«å</strong>ã€‚æ³¨æ„ï¼Œå¦‚æœè¿”å›çš„æ˜¯é›†åˆï¼Œé‚£åº”è¯¥è®¾ç½®ä¸º<strong>é›†åˆåŒ…å«çš„ç±»å‹</strong>ï¼ˆè¿™é‡Œä¸º<code>com.kzn.pojo.User</code>ï¼‰ï¼Œè€Œä¸æ˜¯é›†åˆæœ¬èº«çš„ç±»å‹ã€‚<code>resultType</code>å’Œ<code>resultMap</code>ä¹‹é—´åªèƒ½åŒæ—¶ä½¿ç”¨ä¸€ä¸ªã€‚<ul><li>MyBatisä¸­è®¾ç½®äº†é»˜è®¤çš„ç±»å‹åˆ«åï¼Œä¾‹å¦‚<code>int</code>æˆ–<code>_int</code>éƒ½å¯æ­£ç¡®åœ°å¯¹åº”<code>Integer</code>ã€‚</li></ul></li></ul><h4 id="æµ‹è¯•">æµ‹è¯•</h4><p>å¾—ç›Šäºæˆ‘ä»¬å¯¹<code>MyBatisUtils</code>å·¥å…·ç±»çš„å°è£…ï¼Œç°åœ¨çš„æµ‹è¯•ä»£ç ä¼šç®€æ´å¾ˆå¤šï¼š</p><p>å¯¹äº†ï¼Œä¸ºäº†ä¿è¯<code>userList.forEach(System.out::println);</code>èƒ½æ­£ç¡®æ‰“å°å‡ºç”¨æˆ·æ‰€æœ‰å­—æ®µçš„ä¿¡æ¯è€Œä¸æ˜¯å…·ä½“çš„åœ°å€ï¼Œåœ¨è¿è¡Œä¹‹å‰æœ‰å¿…è¦é‡å†™<code>User</code>ç±»çš„<code>toString()</code>æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testSelectAllUsers</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">try</span> (<span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> MyBatisUtils.getSqlSession()) &#123;<br><br>        <span class="hljs-comment">// è·å–mapperæ¥å£çš„å®ç°ç±»çš„å®ä¾‹å¯¹è±¡ï¼ˆåº•å±‚é‡‡ç”¨ä»£ç†æ¨¡å¼ï¼‰</span><br>        <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> mapper.selectUserById(<span class="hljs-number">1</span>);<br>        System.out.println(user);<br><br>        List&lt;User&gt; userList = mapper.selectAllUsers();<br>        userList.forEach(System.out::println);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ‰“å°ç»“æœï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs text">DEBUG [main] - ==&gt;  Preparing: SELECT * FROM sys_user WHERE uid = ?<br>DEBUG [main] - ==&gt; Parameters: 1(Integer)<br>TRACE [main] - &lt;==    Columns: uid, username, user_pwd<br>TRACE [main] - &lt;==        Row: 1, zhangsan, 114411<br>DEBUG [main] - &lt;==      Total: 1<br>User&#123;uid=1, username=&#x27;zhangsan&#x27;, user_pwd=&#x27;114411&#x27;&#125;<br>DEBUG [main] - ==&gt;  Preparing: SELECT * FROM sys_user<br>DEBUG [main] - ==&gt; Parameters: <br>TRACE [main] - &lt;==    Columns: uid, username, user_pwd<br>TRACE [main] - &lt;==        Row: 1, zhangsan, 114411<br>TRACE [main] - &lt;==        Row: 2, lisi, 223322<br>TRACE [main] - &lt;==        Row: 3, CowBoy, 2233<br>TRACE [main] - &lt;==        Row: 4, ddd, 1234<br>TRACE [main] - &lt;==        Row: 5, Asuka, 456<br>TRACE [main] - &lt;==        Row: 8, Spike, 123455<br>TRACE [main] - &lt;==        Row: 11, Origami, 123456<br>TRACE [main] - &lt;==        Row: 14, xQc, 123<br>DEBUG [main] - &lt;==      Total: 8<br>User&#123;uid=1, username=&#x27;zhangsan&#x27;, user_pwd=&#x27;114411&#x27;&#125;<br>User&#123;uid=2, username=&#x27;lisi&#x27;, user_pwd=&#x27;223322&#x27;&#125;<br>User&#123;uid=3, username=&#x27;CowBoy&#x27;, user_pwd=&#x27;2233&#x27;&#125;<br>User&#123;uid=4, username=&#x27;ddd&#x27;, user_pwd=&#x27;1234&#x27;&#125;<br>User&#123;uid=5, username=&#x27;Asuka&#x27;, user_pwd=&#x27;456&#x27;&#125;<br>User&#123;uid=8, username=&#x27;Spike&#x27;, user_pwd=&#x27;123455&#x27;&#125;<br>User&#123;uid=11, username=&#x27;Origami&#x27;, user_pwd=&#x27;123456&#x27;&#125;<br>User&#123;uid=14, username=&#x27;xQc&#x27;, user_pwd=&#x27;123&#x27;&#125;<br></code></pre></td></tr></table></figure><p>çœ‹èµ·æ¥æ¯”è¾ƒé•¿ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘å¯ç”¨äº†æ—¥å¿—æ‰“å°åŠŸèƒ½ã€‚</p><h3 id="åŸºäºæ³¨è§£çš„æ–¹å¼">åŸºäºæ³¨è§£çš„æ–¹å¼</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> &#123;<br>    <span class="hljs-meta">@Select(&quot;SELECT id, username, password FROM users WHERE id = #&#123;id&#125;&quot;)</span><br>    User <span class="hljs-title function_">selectUserById</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;id&quot;)</span> <span class="hljs-type">int</span> id)</span>;<br><br>    <span class="hljs-meta">@Select(&quot;SELECT id, username, password FROM users&quot;)</span><br>    List&lt;User&gt; <span class="hljs-title function_">selectAllUsers</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å®ç°çš„åŠŸèƒ½å’Œå‰é¢æ˜¯ä¸€æ ·çš„ã€‚</p><h1 id="ç‰¹æ®Š-sql">ç‰¹æ®Š SQL</h1><h2 id="æ¨¡ç³ŠåŒ¹é…">æ¨¡ç³ŠåŒ¹é…</h2><p>ä¸Šè¿°æŸ¥è¯¢æ“ä½œä¸­çš„æ‰€æœ‰æ“ä½œç¬¦éƒ½æ˜¯é’ˆå¯¹å·²çŸ¥å€¼è¿›è¡Œè¿‡æ»¤çš„ï¼Œæœ‰æ—¶å€™å¹¶ä¸å¥½ç”¨ï¼Œä¾‹å¦‚ï¼Œæ€æ ·æœç´¢äº§å“åä¸­åŒ…å«æ–‡æœ¬anvilçš„æ‰€æœ‰äº§å“ï¼Ÿç”¨ç®€å•çš„æ¯”è¾ƒæ“ä½œç¬¦è‚¯å®šä¸è¡Œï¼Œå¿…é¡»ä½¿ç”¨é€šé…ç¬¦ã€‚MySQLä¸­ä½¿ç”¨<code>LIKE</code>å…³é”®å­—è¡¨åæ¥ä¸‹æ¥è¦æ‰§è¡Œæ¨¡ç³ŠåŒ¹é…ï¼Œä¸ä¹‹å¯¹åº”çš„é€šé…ç¬¦æœ‰ï¼š</p><ul><li>ç™¾åˆ†å·<code>%</code>: åŒ¹é…å¤šä¸ªå­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºå­—ç¬¦å’Œç©ºæ ¼ï¼‰</li><li>ä¸‹åˆ’çº¿<code>_</code>: åªåŒ¹é…å•ä¸ªå­—ç¬¦</li></ul><p>åœ¨ MyBatis ä¸­å†™sqlè¯­å¥æ—¶ï¼Œä¸‹é¢è¿™ç§èµ‹å€¼æ–¹å¼ä¸å¯å–ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> sys_user <span class="hljs-keyword">where</span> username <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%#&#123;username&#125;&#x27;</span><br></code></pre></td></tr></table></figure><p>å› ä¸ºè¿™é‡Œçš„<code>#&#123;&#125;</code>è¢«å½“æˆå­—ç¬¦ä¸²å¤„ç†äº†ï¼Œæ— æ³•å¼•ç”¨ä¼ å…¥çš„å‚æ•°ã€‚å¦‚æœæŠŠå®ƒæ¢æˆ<code>$&#123;&#125;</code>ï¼Œè™½ç„¶å¯ä»¥è¿è¡Œï¼Œä½†æ˜¯ä¸æ¨èï¼Œå› ä¸ºè¿™æ—¶å­˜åœ¨<strong>SQLæ³¨å…¥</strong>çš„é—®é¢˜ã€‚ä¾‹å¦‚å½“username=<code>"' or '1'='1"</code>æ—¶ï¼Œsqlè¯­å¥å®é™…ä¸Šå˜æˆäº†</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> sys_user <span class="hljs-keyword">where</span> username <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%&#x27;</span> <span class="hljs-keyword">or</span> <span class="hljs-string">&#x27;1&#x27;</span><br></code></pre></td></tr></table></figure><p>whereæ¡ä»¶å§‹ç»ˆæˆç«‹ï¼Œè¿™ä¼šå¯¼è‡´æ•´ä¸ªè¡¨çš„æ•°æ®éƒ½è¢«è¿”å›ã€‚æ­£ç¡®çš„åšæ³•æ˜¯ä½¿ç”¨<code>#&#123;&#125;</code>é…åˆæ–‡æœ¬å¤„ç†å‡½æ•°<code>concat</code>ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> sys_user <span class="hljs-keyword">where</span> username <span class="hljs-keyword">like</span> concat(<span class="hljs-string">&#x27;%&#x27;</span>, #&#123;username&#125;)<br></code></pre></td></tr></table></figure><p>è¿™ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ã€‚</p><h2 id="æ‰¹é‡åˆ é™¤">æ‰¹é‡åˆ é™¤</h2><p>è€ƒè™‘è¿™æ ·ä¸€ä¸ªæƒ…æ™¯ï¼šç”¨æˆ·åœ¨é‚®ç®±ä¸­ä¸€æ¬¡æ€§é€‰ä¸­å¤šä¸ªæ–‡ä»¶è¿›è¡Œæ‰¹é‡åˆ é™¤ã€‚ç”¨æˆ·æŒ‰ä¸‹åˆ é™¤æŒ‰é’®åï¼Œå‰ç«¯å‘åç«¯å‘æ¥è¢«é€‰ä¸­çš„åºå·æ„æˆçš„æ•°ç»„ï¼Œåç«¯æ ¹æ®è¿™ä¸ªæ•°ç»„æ‰§è¡Œæ•°æ®åº“çš„åˆ é™¤æ“ä½œã€‚ä¸ºæ­¤å¯ä»¥å†™å‡ºä»¥ä¸‹æ¥å£æŠ½è±¡æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteUsersByIds</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;ids&quot;)</span> List&lt;Integer&gt; ids)</span>;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨åˆ—è¡¨è€Œä¸æ˜¯æ•°ç»„å‚¨å­˜æ•°æ®ï¼Œå› ä¸ºåˆ—è¡¨çš„è¯æ›´å…·é€šç”¨æ€§ã€‚</p><p>é‡å¤´æˆæ˜¯<code>.xml</code>é…ç½®æ–‡ä»¶ã€‚æˆ‘ä½¿ç”¨çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;deleteUsersByIds&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><br>    DELETE FROM sys_user<br>    WHERE uid IN<br>    <span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">&quot;ids&quot;</span> <span class="hljs-attr">item</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">open</span>=<span class="hljs-string">&quot;(&quot;</span> <span class="hljs-attr">separator</span>=<span class="hljs-string">&quot;,&quot;</span> <span class="hljs-attr">close</span>=<span class="hljs-string">&quot;)&quot;</span>&gt;</span><br>        #&#123;id&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å…³é”®åœ¨äº<code>foraeach</code>æ ‡ç­¾ã€‚<code>&lt;foreach&gt;</code>ç”¨äºç”Ÿæˆ<strong>åŠ¨æ€SQL</strong>ï¼Œæ¯”å¦‚æ„é€ <code>IN (...)</code>å­å¥ï¼Œä»¥æ”¯æŒæ‰¹é‡æ“ä½œï¼ˆæ’å…¥ã€åˆ é™¤ã€æ›´æ–°ç­‰ï¼‰ã€‚</p><ul><li><code>collection</code>:æŒ‡å®šè¦éå†çš„é›†åˆåç§°ï¼Œä¹Ÿå°±æ˜¯ä¼ å…¥çš„é›†åˆå<code>ids</code></li><li><code>item</code>:éå†é›†åˆä¸­çš„æ¯ä¸ªå˜é‡æ—¶ä½¿ç”¨çš„ä¸´æ—¶å˜é‡çš„åå­—ï¼Œç±»ä¼¼äºå¢å¼ºå‹ for å¾ªç¯ã€‚</li><li><code>open="xxx"</code>:æŒ‡å®šéå†å¼€å§‹å‰å°±è¾“å‡ºçš„å†…å®¹ã€‚å› ä¸ºæˆ‘ä»¬è¦æ„é€ çš„æ˜¯<code>IN(...)</code>å­—å¥ï¼Œæ‰€ä»¥å¼€å§‹ä½ç½®å…ˆæ”¾ä¸Šä¸€ä¸ªå·¦æ‹¬å·</li><li><code>separator="xxx"</code>: æ¯ä¸ªå…ƒç´ ä¹‹é—´çš„åˆ†éš”ç¬¦</li><li><code>close="xxx"</code>:éå†ç»“æŸåè¾“å‡ºçš„å†…å®¹ï¼Œè¿™é‡Œæ”¾ä¸€ä¸ªå³æ‹¬å·ã€‚</li></ul><p>ä¸‹é¢ç»“åˆæµ‹è¯•ç”¨ä¾‹çœ‹ä¸€ä¸‹æ•ˆæœï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testDeleteUsersByIds</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// åˆ é™¤uidä¸º2ï¼Œ4çš„è®°å½•</span><br>    userMapper.deleteUsersByIds(List.of(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>));<br>    sqlSession.commit();<br>&#125;<br></code></pre></td></tr></table></figure><p>ç›¸å½“äºæ‰§è¡Œ<code>DELETE FROM sys_user WHERE uid IN(2, 4)</code>ï¼Œæ‰“å°ç»“æœï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">DEBUG [main] - ==&gt;  Preparing: DELETE FROM sys_user WHERE uid IN ( ? , ? )<br>DEBUG [main] - ==&gt; Parameters: 2(Integer), 4(Integer)<br>DEBUG [main] - &lt;==    Updates: 2<br></code></pre></td></tr></table></figure><p>æˆåŠŸåˆ é™¤ä¸¤æ¡è®°å½•ã€‚</p><h1 id="mybatis-è·å–æ•°æ®å€¼çš„ä¸¤ç§æ–¹å¼">MyBatis è·å–æ•°æ®å€¼çš„ä¸¤ç§æ–¹å¼</h1><h2 id="ç»†èŠ‚">ç»†èŠ‚</h2><p>ä½¿ç”¨<code>#&#123;&#125;</code>å‚æ•°è¯­æ³•æ—¶ï¼ŒMyBatisä¼šåˆ›å»º<code>PreparedStatement</code>å‚æ•°å ä½ç¬¦ï¼Œå¹¶é€šè¿‡å ä½ç¬¦å®‰å…¨åœ°è®¾ç½®å‚æ•°ï¼ˆå°±åƒä½¿ç”¨<code>?</code>ä¸€æ ·ï¼‰ã€‚è¿™æ ·åšæ›´å®‰å…¨ï¼Œæ›´è¿…é€Ÿï¼Œé€šå¸¸ä¹Ÿæ˜¯é¦–é€‰åšæ³•ï¼Œä¸è¿‡æœ‰æ—¶ä½ å°±æ˜¯æƒ³ç›´æ¥åœ¨ SQLè¯­å¥ä¸­ç›´æ¥æ’å…¥ä¸€ä¸ªä¸è½¬ä¹‰çš„å­—ç¬¦ä¸²ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨<code>$&#123;&#125;</code>ã€‚</p><div class="note note-secondary">            <p><code>${}</code>çš„æœ¬è´¨å°±æ˜¯å­—ç¬¦ä¸²çš„æ‹¼æ¥<code>str1 + str2</code>ï¼Œ<code>#{}</code>çš„æœ¬è´¨å°±æ˜¯å ä½ç¬¦èµ‹å€¼ã€‚</p>          </div><p><code>$&#123;&#125;</code>çš„ä½¿ç”¨æƒ…æ™¯ä¸»è¦æ˜¯åŠ¨æ€è®¾ç½®è¡¨åã€åˆ—åã€ORDER BYåŠ¨æ€æ’åºç­‰ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-keyword">ORDER</span> <span class="hljs-title">BY</span> $&#123;columnName&#125;<br></code></pre></td></tr></table></figure><p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä½ æƒ³<code>select</code>ä¸€ä¸ªè¡¨ä»»æ„ä¸€åˆ—çš„æ•°æ®æ—¶ï¼Œå¯ä»¥ç›´æ¥å†™æˆ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-variable">@Select</span>(&quot;select * from user where $&#123;column&#125; = #&#123;value&#125;&quot;)<br><span class="hljs-keyword">User</span> findByColumn(<span class="hljs-variable">@Param</span>(&quot;column&quot;) String <span class="hljs-keyword">column</span>, <span class="hljs-variable">@Param</span>(&quot;value&quot;) String <span class="hljs-keyword">value</span>);<br></code></pre></td></tr></table></figure><p><code>$&#123;column&#125;</code>å¼•ç”¨ä¸€ä¸ªåŠ¨æ€çš„å­—æ®µåï¼Œæ¯”å¦‚<code>uid</code>ï¼Œ<code>user_pwd</code>ã€‚è¿™æ ·å°±ä¸å¿…ä¸ºæ¯ä¸ªå­—æ®µéƒ½å•ç‹¬å†™ä¸€ä¸ªæŸ¥è¯¢æ–¹æ³•äº†ï¼Œè¿™ä¹Ÿé€‚ç”¨äºæ›¿æ¢è¡¨åçš„æƒ…å†µã€‚</p><p>ä½†æ˜¯ï¼Œå‡¡æ˜¯ä½¿ç”¨<code>$&#123;&#125;</code>å‡ºç°çš„åœ°æ–¹éƒ½æœ‰<strong>SQLæ³¨å…¥</strong>çš„é£é™©ï¼Œå¦‚æœè¦ä½¿ç”¨è¿™ç§å†™æ³•ï¼Œå› æ­¤ï¼Œè¦ä¹ˆä¸å…è®¸ç”¨æˆ·è¾“å…¥è¿™äº›å­—æ®µï¼Œè¦ä¹ˆè‡ªè¡Œè½¬ä¹‰å¹¶æ£€éªŒè¿™äº›å‚æ•°ã€‚</p><hr /><p><code>#&#123;&#125;</code>ç”¨äºç»™å‚æ•°èµ‹å€¼ï¼ŒMyBatis<strong>é»˜è®¤åªèƒ½è¯†åˆ«å•ä¸ªå‚æ•°</strong>ã€‚</p><p>å¤šä¸ªå‚æ•°æ—¶ï¼ŒMyBatisä¼šæŠŠè¿™äº›å‚æ•°æ”¾åˆ°ä¸€ä¸ªmapä¸­ï¼Œåœ¨æ²¡æœ‰æ˜¾å¼å‘½åå‚æ•°çš„æƒ…å†µä¸‹ï¼š</p><ul><li><code>$&#123;&#125;</code>ï¼Œä»¥<code>param1, param2...</code>ä¸ºé”®ï¼Œå‚æ•°ä¸ºå€¼<br /></li><li><code>#&#123;&#125;</code>ï¼Œä»¥<code>arg0, arg1...</code>ä¸ºé”®ï¼Œå‚æ•°ä¸ºå€¼</li></ul><p>æ­¤æ—¶æœ€å¥½åœ¨æ¥å£çš„æ–¹æ³•ä¸­ç”¨<code>@Param</code>ä¸ºå‚æ•°<strong>æ˜¾å¼å‘½å</strong>ï¼Œæ–¹ä¾¿åœ¨sqlè¯­å¥ä¸­å¼•ç”¨ã€‚è¿™ç§æƒ…å†µä¸‹MyBatisåˆ›å»ºçš„é›†åˆä¸­å®é™…ä¸ŠåŒæ—¶å­˜åœ¨ä¸¤ç§å¼•ç”¨æ–¹å¼ï¼Œé»˜è®¤å’Œè‡ªå®šä¹‰éƒ½å¯ä½¿ç”¨ï¼Œå½“ç„¶ä¸€èˆ¬éƒ½æ˜¯ç”¨è‡ªå®šä¹‰çš„åå­—ã€‚</p><p>å¯¹å•å‚æ•°å’Œå¤šå‚æ•°å„ä¸¾ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æŸ¥è¯¢å•ä¸ªç”¨æˆ·</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> uid ç”¨æˆ·çš„å”¯ä¸€uid</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> ç”¨æˆ·ç±»çš„å®ä¾‹</span><br><span class="hljs-comment"> */</span><br>User <span class="hljs-title function_">selectUserById</span><span class="hljs-params">(<span class="hljs-type">int</span> uid)</span>;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç å¯¹åº”çš„äººæ˜¯å¦å­˜åœ¨ï¼ˆä»…ä½œä¸ºæµ‹è¯•ï¼Œå®é™…æ•°æ®åº“ä¸­ä¸å¯èƒ½å­˜å‚¨æ˜æ–‡å¯†ç ï¼‰</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> username ç”¨æˆ·å</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> password å¯†ç </span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> æ˜¯å¦å­˜åœ¨</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">boolean</span> <span class="hljs-title function_">checkUserExists</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;username&quot;)</span> String username, <span class="hljs-meta">@Param(&quot;password&quot;)</span> String password)</span>;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--User selectUserById(int uid);--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUserById&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;Integer&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;User&quot;</span>&gt;</span><br>    SELECT *<br>    FROM sys_user<br>    WHERE uid = #&#123;uid&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- boolean checkUserExists(@Param(&quot;username&quot;) String username, @Param(&quot;password&quot;) String password); --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;checkUserExists&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;boolean&quot;</span>&gt;</span><br>    SELECT COUNT(*) &gt; 0 <span class="hljs-comment">&lt;!--ç”¨äºæ£€æµ‹æ»¡è¶³åé¢çš„è®°å½•æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨çš„è¯å°±è¿”å›true--&gt;</span><br>    FROM sys_user<br>    WHERE username = #&#123;username&#125; AND user_pwd = #&#123;password&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p><code>selectUserById</code>åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥æ— éœ€æ˜¾å¼å‘½åï¼Œç›´æ¥åœ¨é…ç½®æ–‡ä»¶ä¸­ç”¨<code>#&#123;uid&#125;</code>è¡¨ç¤ºï¼ˆè¿™é‡Œçš„åå­—å¯ä»¥éšä¾¿èµ·ï¼Œä¸ä¸€å®šæ˜¯uidï¼‰ã€‚ä½†æ˜¯ç¬¬äºŒä¸ªæ–¹æ³•ä¼ å…¥äº†ä¸¤ä¸ªå‚æ•°ï¼Œæ˜¾å¼å‘½åä¸º<code>username</code>å’Œ<code>password</code>ï¼Œè¿™æ ·åœ¨xmlé…ç½®æ–‡ä»¶ä¸­å°±å¯ä»¥ä½¿ç”¨<code>#&#123;username&#125;</code>å’Œ<code>#&#123;password&#125;</code>å¼•ç”¨ä¼ å…¥çš„å€¼äº†ã€‚</p><hr /><p>è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯ä¼ å…¥çš„å‚æ•°åˆšå¥½æ˜¯æŸä¸ªå®ä½“ç±»çš„ç±»å‹ï¼Œå¦‚æœè¦ä½¿ç”¨sqlè®¿é—®å®ä½“ç±»çš„å±æ€§å€¼ï¼Œä½¿ç”¨<code>#&#123;&#125;</code>å’Œ<code>$&#123;&#125;</code>éƒ½å¯ã€‚ä¹‹å‰æŸ¥è¯¢éƒ¨åˆ†çš„ä»£ç å°±å±äºè¿™ç§æƒ…å†µï¼Œä¸å†èµ˜è¿°ã€‚</p><h2 id="æ€»ç»“">æ€»ç»“</h2><p><strong>è·å–æ•°æ®å€¼çš„ä¸¤ç§æ–¹å¼ï¼š</strong></p><ul><li><code>$&#123;&#125;</code>: å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œä¸å®‰å…¨ï¼Œå°‘ç”¨</li><li><code>#&#123;&#125;</code>: å ä½ç¬¦èµ‹å€¼ï¼Œå®‰å…¨ï¼Œä¼˜å…ˆä½¿ç”¨ã€‚</li></ul><p><strong>æ¥å£æ–¹æ³•ä¸­ä¼ å…¥çš„å‚æ•°ä¹Ÿå¯ä»¥åˆ†æˆä¸¤å¤§ç±»ï¼š</strong></p><ul><li>å¦‚æœä¼ å…¥çš„å‚æ•°æ˜¯æŸä¸ªå®ä½“ç±»çš„ç±»å‹ï¼Œsqlè¯­å¥å¯ä»¥ç›´æ¥ä½¿ç”¨<code>#&#123;å±æ€§å&#125;</code>è®¿é—®æŸä¸ªå®ä½“ç±»çš„å€¼ï¼Œå¦‚<code>insert into sys_user (username, user_pwd) values (#&#123;username&#125;, #&#123;user_pwd&#125;)</code></li><li>å¦‚æœä¼ å…¥äº†ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œå»ºè®®éƒ½ä½¿ç”¨<code>@Param</code>æ˜¾å¼å‘½åå‚æ•°ï¼Œä¹‹åsqlè¯­å¥å°±å¯ä»¥ç›´æ¥ä½¿ç”¨åˆ«åæ¥å¼•ç”¨å‚æ•°çš„å€¼</li></ul>]]></content>
    
    
    <categories>
      
      <category>MyBatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>JavaWebå¼€å‘ï¼ˆä¸€ï¼‰</title>
    <link href="/2025/05/11/JavaWeb1/"/>
    <url>/2025/05/11/JavaWeb1/</url>
    
    <content type="html"><![CDATA[<p><img src="https://s21.ax1x.com/2025/05/05/pEqJr6K.jpg" /></p><h1 id="tomcatç®€ä»‹">Tomcatç®€ä»‹</h1><p>Tomcatæ˜¯ç”±Apacheè½¯ä»¶åŸºé‡‘ä¼šå±ä¸‹Jakartaé¡¹ç›®å¼€å‘çš„Servletå®¹å™¨ï¼ŒæŒ‰ç…§SunMicrosystemsæä¾›çš„æŠ€æœ¯è§„èŒƒï¼Œå®ç°äº†å¯¹Servletå’ŒJavaServerPageï¼ˆJSPï¼‰çš„æ”¯æŒï¼Œå¹¶æä¾›äº†ä½œä¸ºWebæœåŠ¡å™¨çš„ä¸€äº›ç‰¹æœ‰åŠŸèƒ½ï¼Œå¦‚Tomcatç®¡ç†å’Œæ§åˆ¶å¹³å°ã€å®‰å…¨å±€ç®¡ç†å’ŒTomcaté˜€ç­‰ã€‚<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="https://zh.wikipedia.org/wiki/Apache_Tomcat">[1]</span></a></sup></p><p>Jakarta EEå¹³å°æ˜¯Java EEå¹³å°çš„æ¼”è¿›ã€‚Tomcat10åŠä»¥åçš„ç‰ˆæœ¬å®ç°äº†ä½œä¸ºJakarta EEä¸€éƒ¨åˆ†å¼€å‘çš„è§„èŒƒã€‚Tomcat9å’Œæ›´æ—©ç‰ˆæœ¬çš„å®ç°è§„èŒƒæ˜¯ä½œä¸ºJava EEçš„ä¸€éƒ¨åˆ†å¼€å‘çš„ã€‚</p><p>ApacheTomcatæœ¬èº«å®Œå…¨å¼€æºå…è´¹ï¼Œè¿™ä¹Ÿæ˜¯å®ƒå—åˆ°çƒ­çƒˆæ¬¢è¿çš„åŸå› ä¹‹ä¸€ã€‚Tomcatçš„ä½œç”¨æ˜¯è‡ªå·±å¼€å‘çš„APPï¼Œå®ƒçš„è¿è¡Œéœ€è¦jreã€‚jreæ˜¯é’ˆå¯¹JavaSEçš„ï¼Œå¦‚æœéœ€è¦è¿è¡ŒJavaEEçš„ç¨‹åºå°±æä¾›æ›´å¤šçš„æ”¯æŒï¼ŒTomcatçš„ä½œç”¨å°±æ˜¯è¿™ä¸ªã€‚</p><h1 id="webé¡¹ç›®çš„æ ‡å‡†ç»“æ„">Webé¡¹ç›®çš„æ ‡å‡†ç»“æ„</h1><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">Web Root<br>     |<br>     â”œâ”€â”€â”€ WEB<span class="hljs-literal">-INF</span><br>     â”‚      â”œâ”€â”€â”€ web.<span class="hljs-keyword">xml</span><br>     <span class="hljs-title">â”‚      â”œâ”€â”€â”€ classes</span><br>     â”‚      â””â”€â”€â”€ lib<br>     â”‚<br>     â”œâ”€â”€â”€ Static Resources<br>     â”‚      â”œâ”€â”€â”€ HTML Files<br>     â”‚      â”œâ”€â”€â”€ CSS Files<br>     â”‚      â””â”€â”€â”€ JavaScript Files<br>     â”‚<br>     â”œâ”€â”€â”€ Dynamic Resources<br>     â”‚      â”œâ”€â”€â”€ JSP Files<br>     â”‚      â””â”€â”€â”€ Servlet Files<br>     â”‚<br>     â””â”€â”€â”€ Configuration Files<br>            â”œâ”€â”€â”€ web.<span class="hljs-keyword">xml</span><br>            <span class="hljs-title">â”œâ”€â”€â”€ context</span>.<span class="hljs-keyword">xml</span><br>            <span class="hljs-title">â””â”€â”€â”€ log4j</span>.properties      <br></code></pre></td></tr></table></figure><p><sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="https://www.cnblogs.com/mamamia/p/17748456.html">[2]</span></a></sup>å…¶ä¸­<strong>WEB-INF</strong>ç›®å½•ä¸‹çš„èµ„æºæ˜¯è¢«ä¿æŠ¤çš„èµ„æºï¼Œä¸å¯ä»¥è¢«æµè§ˆå™¨è®¿é—®ã€‚ç”¨æ¥æ”¾ç¬¬ä¸‰æ–¹jaråŒ…ï¼Œclassesï¼Œweb.xmlç­‰ã€‚</p><p><strong>JSP æ–‡ä»¶</strong>ï¼šJavaServer Pagesï¼ˆJSPï¼‰æ–‡ä»¶æ˜¯ç”¨äºåˆ›å»ºåŠ¨æ€Web å†…å®¹çš„æ–‡ä»¶ã€‚å®ƒä»¬é€šå¸¸ä½äº Web æ ¹ç›®å½•ä¸‹çš„æŸä¸ªä½ç½®ã€‚JSP æ–‡ä»¶åŒ…å« HTMLä»£ç å’Œ Java ä»£ç ï¼Œç”¨äºç”ŸæˆåŠ¨æ€å†…å®¹ã€‚å½“ JSPæ–‡ä»¶è¢«è®¿é—®æ—¶ï¼Œå®ƒä»¬ä¼šè¢«æœåŠ¡å™¨ç¼–è¯‘æˆ Servletç±»ï¼Œå¹¶ç”±æœåŠ¡å™¨è¿›è¡Œå¤„ç†å’Œæ‰§è¡Œã€‚</p><p><strong>Servlet æ–‡ä»¶</strong>ï¼šServlet æ˜¯ Java Webåº”ç”¨ç¨‹åºçš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ï¼Œç”¨äºå¤„ç†å®¢æˆ·ç«¯è¯·æ±‚å¹¶ç”ŸæˆåŠ¨æ€å†…å®¹ã€‚Servletæ–‡ä»¶é€šå¸¸ä½äº WEB-INF ç›®å½•ä¸‹çš„æŸä¸ªä½ç½®ï¼Œå¯ä»¥é€šè¿‡æ˜ å°„ URL æ¥è®¿é—®ã€‚Servletæ–‡ä»¶æ˜¯ Java ç±»ï¼Œå®ç°äº† Servlet æ¥å£æˆ–æ‰©å±•äº† HttpServletç±»ï¼Œé€šè¿‡é‡å†™ç›¸åº”çš„æ–¹æ³•æ¥å¤„ç†è¯·æ±‚å’Œç”Ÿæˆå“åº”ã€‚</p><h1 id="servlet">Servlet</h1><h2 id="ç®€ä»‹">ç®€ä»‹</h2><div class="note note-success">            <p>Servlet æ˜¯ Java EEï¼ˆç°åœ¨ç§°ä¸º Jakarta EEï¼‰å¹³å°ä¸­ç”¨äºå¤„ç† Webè¯·æ±‚å¹¶ç”Ÿæˆå“åº”çš„ä¸€ç§ Javaç¼–ç¨‹æŠ€æœ¯ã€‚ä¸æ˜¯æ‰€æœ‰çš„Javaç±»éƒ½èƒ½å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œèƒ½å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚å¹¶åšå‡ºå“åº”çš„ä¸€å¥—æŠ€æœ¯æ ‡å‡†å°±æ˜¯Servletã€‚Servlet æ˜¯è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„ï¼Œæ‰€ä»¥å¿…é¡»åœ¨ Web é¡¹ç›®ä¸­å¼€å‘å¹¶ä¸”åœ¨Tomcat è¿™æ ·çš„æœåŠ¡å®¹å™¨ä¸­è¿è¡Œã€‚</p>          </div><ul><li>é™æ€èµ„æºï¼šåœ¨ç¨‹åºè¿è¡Œä¹‹å‰å°±å†™å¥½äº†çš„èµ„æºï¼Œæ¯”å¦‚hexoé™æ€åšå®¢ä¸­çš„jsï¼Œcssï¼Œhtmlæ–‡ä»¶</li><li>åŠ¨æ€èµ„æºï¼šç¨‹åºè¿è¡Œæ—¶é€šè¿‡ä»£ç è¿è¡Œç”Ÿæˆçš„èµ„æºï¼ŒæŒ‡çš„ä¸æ˜¯jsåˆ›å»ºçš„åŠ¨ç”»æ•ˆæœ</li></ul><p>Servletç”¨äºæ¥æ”¶ã€å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ã€å“åº”ç»™æµè§ˆå™¨çš„åŠ¨æ€èµ„æºã€‚æ˜¯è¿è¡Œåœ¨Tomcatçš„Javaå°ç¨‹åºï¼Œæ˜¯sumå…¬å¸æä¾›çš„ä¸€å¥—è‡ªå®šä¹‰åŠ¨æ€èµ„æºè§„èŒƒï¼Œä»ä»£ç å±‚é¢ä¸Šè®²Servlet å°±æ˜¯ä¸€ä¸ªæ¥å£ã€‚</p><h2 id="å·¥ä½œæµç¨‹">å·¥ä½œæµç¨‹</h2><ol type="1"><li>Tomcatæ¥æ”¶åˆ°è¯·æ±‚ä»¥åï¼Œä¼šæŠŠè¯·æ±‚çš„ä¿¡æ¯è½¬æ¢æˆä¸€ä¸ª<code>HttpServletRequest</code>å¯¹è±¡ï¼ŒåŒ…å«äº†è¯·æ±‚æ¶ˆæ¯ä¸­çš„æ‰€æœ‰ä¿¡æ¯ã€‚</li><li>TomcatåŒæ—¶åˆ›å»ºäº†ä¸€ä¸ª<code>HttpServletResponse</code>å¯¹è±¡ï¼Œç”¨æ¥è£…è¦å“åº”ç»™å®¢æˆ·ç«¯çš„ä¿¡æ¯ï¼Œæœªæ¥è¿™ä¸ªå¯¹è±¡ä¼šè¢«è½¬æ¢æˆå“åº”æ¶ˆæ¯ã€‚</li><li>Tomcat æ ¹æ®æä¾›çš„è·¯å¾„æ‰¾åˆ°å¯¹åº”çš„Servletï¼Œå®ä¾‹åŒ–ï¼Œè°ƒç”¨<code>service</code>æ–¹æ³•ï¼ŒåŒæ—¶ä¼ å…¥ä¸¤ä¸ªå¯¹è±¡ï¼š<code>HttpServletRequest</code>å’Œ<code>HttpServletResponse</code>ã€‚ä»è€Œè·å–è¯·æ±‚æ¶ˆæ¯ï¼›ç„¶åæ ¹æ®è¯·æ±‚æ¶ˆæ¯ç”Ÿæˆè¦å“åº”ç»™å®¢æˆ·ç«¯çš„æ•°æ®ï¼Œå°†ç›¸åº”çš„æ•°æ®æ”¾å…¥<code>HttpServletResponse</code>å¯¹è±¡ã€‚</li><li>æœ€å<code>HttpServletResponse</code>è¢«è½¬æ¢æˆå“åº”æ¶ˆæ¯å‘å›å®¢æˆ·ç«¯ã€‚</li></ol><p>æˆ‘ä»¬éœ€è¦è‡ªå·±å®šä¹‰ä¸€ä¸ª Servletç±»ï¼Œå®ç°æ¥å£<code>Servlet</code>ï¼Œé‡å†™<code>service</code>æ–¹æ³•ã€‚</p><p><img src="https://s21.ax1x.com/2025/05/06/pEq6res.png" /></p><hr /><p>ä¸¾ä¸ªä¾‹å­ï¼Œå®¢æˆ·ç«¯æäº¤ä¸€ä¸ªç”¨æˆ·åï¼Œå¦‚æœç”¨æˆ·åå·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆè¿”å›<code>No</code>ã€‚</p><ol type="1"><li>åˆ›å»ºä¸€ä¸ªJavaé¡¹ç›®ï¼ŒåŒæ—¶æŠŠ Tomacat æ·»åŠ ä¸ºä¾èµ–</li><li>é‡å†™<code>protected void service(HttpServletRequest req, HttpServletResponse resp)</code></li><li>åœ¨<code>service</code>æ–¹æ³•ä¸­å®šä¹‰ä¸šåŠ¡å¤„ç†ä»£ç </li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- é…ç½®Servletç±»ï¼Œèµ·ä¸€ä¸ªåˆ«å--&gt;</span><br><span class="hljs-comment">&lt;!-- servlet-class ç”¨äºå‘ŠçŸ¥tomcatè¦å®ä¾‹åŒ–çš„ç±»</span><br><span class="hljs-comment">     name ç”¨äºå…³è”è¯·æ±‚çš„è·¯å¾„--&gt;</span><br><span class="hljs-comment">&lt;!--ç”¨äºå‘Šè¯‰å®¹å™¨è¿™ä¸ª Servlet å­˜åœ¨ï¼Œä»¥åŠå®ƒçš„ç±»åœ¨å“ªã€‚--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>userServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>servlet.UserServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--è¿™æ˜¯ Servlet çš„ URL æ˜ å°„éƒ¨åˆ†ï¼Œç”¨äºå‘Šè¯‰æœåŠ¡å™¨ï¼šå½“è®¿é—®æŸä¸ª URL æ—¶ï¼Œè¦è°ƒç”¨å“ªä¸ª Servletã€‚--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>userServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/absolute<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸€ä¸ª<code>servlet-name</code>å¯ä»¥å¯¹åº”å¤šä¸ª<code>url-pattern</code>ï¼Œä½†æ˜¯ä¸€ä¸ª<code>url-pattern</code>åªèƒ½å’Œä¸€ä¸ª<code>servlet-name</code>å¯¹åº”ã€‚</p><p>ä½¿ç”¨æ³¨è§£çš„æ–¹å¼å¯ä»¥å®Œå…¨æ›¿ä»£ä¸Šé¢å¤æ‚çš„<code>web.xml</code>ä»£ç ï¼Œåªéœ€è¦åœ¨è‡ªå®šä¹‰çš„<code>public class UserServlet extends HttpServlet</code>ç±»å‰åŠ ä¸Šæ³¨è§£<code>@WebServlet("/è‡ªå®šä¹‰")</code>ï¼ˆä¹Ÿå¯ä»¥å®šä¹‰å¤šä¸ªurlï¼‰ã€‚è¿™ä¸¤ç§æ–¹å¼äºŒé€‰å…¶ä¸€ï¼Œä¸èƒ½é‡å¤ã€‚</p><h2 id="æ’æ›²">æ’æ›²</h2><p>servlet-api.jarç¼–ç çš„æ—¶å€™éœ€è¦ï¼Œä½†æ˜¯æœåŠ¡å™¨å†…ç½®ï¼Œæ‰€ä»¥ä¸å‚ä¸æ‰“åŒ…ï¼Œä½œç”¨èŒƒå›´æ˜¯<code>provided</code>ã€‚</p><p>å“åº”å¤´ä¸­çš„ Content-Type æ˜¾ç¤ºçš„æ˜¯MIMEç±»å‹ï¼ŒMIMEç±»å‹ç”¨äºå‘Šè¯‰å®¢æˆ·ç«¯å“åº”çš„æ•°æ®æ˜¯ä»€ä¹ˆç±»å‹çš„æ•°æ®ã€‚ä»€ä¹ˆæ˜¯MIMEç±»å‹ï¼Ÿ</p><blockquote><p>MIME ç±»å‹ï¼ˆMultipurpose Internet Mail Extensionsï¼‰ æ˜¯ä¸€ç§åœ¨ HTTPé€šä¿¡æˆ–é‚®ä»¶ä¼ è¾“ä¸­æ ‡è¯†æ–‡ä»¶å†…å®¹ç±»å‹çš„æ ‡å‡†æ–¹å¼ã€‚å®ƒå‘Šè¯‰æµè§ˆå™¨æˆ–å…¶ä»–å®¢æˆ·ç«¯ï¼šæœåŠ¡å™¨å‘é€çš„å†…å®¹å±äºå“ªç§æ ¼å¼ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†ã€‚</p></blockquote><p>MIMEæ ¼å¼ï¼š<code>ä¸»ç±»å‹/å­ç±»å‹</code>ï¼Œä¾‹å¦‚<code>text/html</code>æŒ‡çš„æ˜¯HTMLæ–‡ä»¶ã€‚</p><p><code>conf/web.xml</code>ä¸­è®°å½•äº†å‡ ä¹æ‰€æœ‰æ–‡ä»¶ç±»å‹å¯¹åº”çš„MIMEç±»å‹ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"> <span class="hljs-tag">&lt;<span class="hljs-name">mime-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">extension</span>&gt;</span>htm<span class="hljs-tag">&lt;/<span class="hljs-name">extension</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mime-type</span>&gt;</span>text/html<span class="hljs-tag">&lt;/<span class="hljs-name">mime-type</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mime-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mime-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">extension</span>&gt;</span>html<span class="hljs-tag">&lt;/<span class="hljs-name">extension</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mime-type</span>&gt;</span>text/html<span class="hljs-tag">&lt;/<span class="hljs-name">mime-type</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mime-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><p><code>extension</code>æŒ‡çš„æ˜¯æ–‡ä»¶æ‹“å±•åã€‚Tomcat é€šè¿‡è¿™é‡Œè®°å½•çš„å…³ç³»å¯¹Content-Typeèµ‹å€¼ã€‚å°†ç›¸åº”çš„æ•°æ®æ”¾å…¥å“åº”ä½“ä¸­æ—¶å¯ä»¥è°ƒç”¨å¯¹åº”çš„æ–¹æ³•æ‰‹åŠ¨æŒ‡å®šã€‚</p><h2 id="servlet-ç”Ÿå‘½å‘¨æœŸ">Servlet ç”Ÿå‘½å‘¨æœŸ</h2><h3 id="æ™®é€š-servlet">æ™®é€š Servlet</h3><ol type="1"><li>å®ä¾‹åŒ–â€”â€”æ„é€ å™¨ï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚//æœåŠ¡å¯åŠ¨ï¼ˆè¿™ä¸ªæ‰§è¡Œé˜¶æ®µå¯è‡ªå·±æŒ‡å®šï¼Œå…³é”®è¯<code>loadOnStartUp</code>ï¼‰</li><li>åˆå§‹åŒ–â€”â€”initï¼Œæ„é€ å®Œæ¯•æ‰§è¡Œä¸€æ¬¡</li><li>æ¥æ”¶è¯·æ±‚ï¼Œå¤„ç†è¯·æ±‚ æœåŠ¡â€”â€”serviceï¼Œæ¯æ¬¡è¯·æ±‚éƒ½æ‰§è¡Œ</li><li>é”€æ¯â€”â€”destroyï¼Œå…³é—­æœåŠ¡æ—¶è¯·æ±‚</li></ol><p><code>Servlet</code>åœ¨ Tomcatä¸­æ˜¯å•ä¾‹çš„ã€‚å…¶ä¸­çš„æˆå‘˜å˜é‡åœ¨å¤šä¸ªçº¿ç¨‹ä¸­æ˜¯å…±äº«çš„ï¼Œæ‰€ä»¥ä¸å»ºè®®åœ¨serviceæ–¹æ³•ä¸­ä¿®æ”¹æˆå‘˜å˜é‡ï¼Œå¦åˆ™ä¼šå¼•å‘çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p><h3 id="defaultservlet">DefaultServlet</h3><p>å®ƒè¢«å®šä¹‰åœ¨ Tomcat å®‰è£…ç›®å½•ä¸‹çš„<code>\conf\web.xml</code>ä¸­</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>default<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.apache.catalina.servlets.DefaultServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- debug=0 è°ƒè¯•ä¿¡æ¯ç­‰çº§0ï¼Œè¡¨ç¤ºä¸è¾“å‡ºdebugä¿¡æ¯ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>debug<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- listings=false ç¦æ­¢ç›®å½•åˆ—è¡¨æµè§ˆåŠŸèƒ½--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>listings<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- ä¼˜å…ˆçº§1ï¼Œè¡¨ç¤ºå®¹å™¨å¯åŠ¨æ—¶ç«‹å³åŠ è½½æ­¤ Servlet --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p>â€œ<strong>ç›®å½•åˆ—è¡¨æµè§ˆåŠŸèƒ½</strong>â€ï¼šå½“ä½ åœ¨æµè§ˆå™¨ä¸­è®¿é—®ä¸€ä¸ªç›®å½•è·¯å¾„ï¼Œå¦‚æœè¿™ä¸ªç›®å½•ä¸‹æ²¡æœ‰é»˜è®¤çš„é¦–é¡µæ–‡ä»¶ï¼ˆå¦‚<code>index.html</code>æˆ–<code>index.jsp</code>ï¼‰ï¼ŒTomcatä¼šå°è¯•åˆ—å‡ºè¿™ä¸ªç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œè¿™ä¸ªåŠŸèƒ½å°±æ˜¯æ‰€è°“çš„ç›®å½•åˆ—è¡¨æµè§ˆï¼ˆDirectoryListingï¼‰ã€‚</p><p>åœ¨ç¦æ­¢ç›®å½•åˆ—è¡¨æµè§ˆåŠŸèƒ½çš„æƒ…å†µä¸‹ï¼Œå°±ç®—æ‰¾ä¸åˆ°é»˜è®¤é¦–é¡µæ–‡ä»¶ï¼Œä¹Ÿä¸ä¼šå±•ç¤ºç›®å½•åˆ—è¡¨ï¼Œç›´æ¥è¿”å›403ã€‚è¿™æ ·å¯ä»¥é˜²æ­¢ç”¨æˆ·å‘ç°æ•æ„Ÿæ–‡ä»¶ï¼Œä¸æš´éœ²Webåº”ç”¨çš„å†…éƒ¨ç»“æ„ã€‚</p></blockquote><p>å®ƒä¸»è¦å¤„ç†ï¼š</p><ul><li>é™æ€æ–‡ä»¶ï¼ˆå¦‚<code>.html</code>ã€<code>.css</code>ã€<code>.js</code>ã€å›¾ç‰‡ç­‰ï¼‰è¯·æ±‚ï¼ˆæœ€é‡è¦ï¼‰</li><li>æ‰¾ä¸åˆ°åŒ¹é…çš„<code>servlet</code>æˆ–æ˜ å°„æ—¶ï¼Œä½œä¸ºâ€œå…œåº•â€å¤„ç†è¯·æ±‚</li></ul><p>SpringMVC ä¼šå¯¼è‡´ DefaultServletå¤±æ•ˆï¼Œæ— æ³•è®¿é—®é™æ€èµ„æºï¼Œè¿™æ—¶éœ€è¦é‡æ–°é…ç½® DefaultServletã€‚</p><h2 id="servlet-æ¥å£">Servlet æ¥å£</h2><p>ä½äºåŒ…<code>javax.servlet</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Servlet</span> &#123;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(ServletConfig config)</span> <span class="hljs-keyword">throws</span> ServletException;<br>    ServletConfig <span class="hljs-title function_">getServletConfig</span><span class="hljs-params">()</span>;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(ServletRequest req, ServletResponse res)</span> <span class="hljs-keyword">throws</span> ServletException, IOException;<br>    String <span class="hljs-title function_">getServletInfo</span><span class="hljs-params">()</span>;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><code>void init</code>: åˆå§‹åŒ– Servletï¼Œåªåœ¨ Servletç¬¬ä¸€æ¬¡è¢«åŠ è½½æ—¶è°ƒç”¨ä¸€æ¬¡ã€‚</li><li><code>ServletConfig getServletConfig</code>: è¿”å› Servletçš„é…ç½®å¯¹è±¡ï¼ˆServletConfigï¼‰ï¼ŒåŒ…å«åˆå§‹åŒ–å‚æ•°ç­‰ä¿¡æ¯ã€‚</li><li><code>void service</code>: å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œæ˜¯ Servletçš„æ ¸å¿ƒæ–¹æ³•ã€‚</li><li><code>String getServletInfo</code>: è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨äºæè¿° Servletçš„ä¿¡æ¯ã€‚ä¸€èˆ¬ç”¨å¤„ä¸å¤§ï¼Œå¯ä»¥å†™ä½œè€…åã€ç‰ˆæœ¬å·ç­‰ã€‚</li><li><code>void destroy</code>: åœ¨ Servletè¢«é”€æ¯ä¹‹å‰è°ƒç”¨ï¼Œç”¨äºé‡Šæ”¾èµ„æºã€‚å¯ä»¥ç”¨äºå…³é—­æ•°æ®åº“è¿æ¥ã€æ¸…ç†çº¿ç¨‹æ± ç­‰ã€‚</li></ul><h2 id="servlet-å®ç°ç±»">Servlet å®ç°ç±»</h2><p>è¿™ä¸ªæ¥å£æœ‰ä¸¤ä¸ªå®ç°ç±»ï¼š<code>GenericServlet</code>å’Œ<code>HttpServlet</code></p><h3 id="genericservlet">GenericServlet</h3><p>æ‰€åœ¨åŒ…ï¼š<code>javax.servlet</code>ã€‚GenericServletæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ç°äº† Servletæ¥å£çš„å¤§éƒ¨åˆ†æ–¹æ³•ï¼Œä½†æ˜¯æ²¡æœ‰å®ç°<code>service()</code>ï¼Œæ‰€ä»¥è¿˜æ˜¯æŠ½è±¡ç±»ã€‚å®ƒä¸åè®®æ— å…³ã€‚</p><p>ä½¿ç”¨å®ƒçš„æ—¶å€™åªéœ€è¦é‡å†™<code>service(ServletRequest req, ServletResponse res)</code>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">GenericServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(ServletRequest req, ServletResponse res)</span><br>            <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        res.getWriter().write(<span class="hljs-string">&quot;Hello from GenericServlet&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="httpservlet">HttpServlet</h3><p>æ‰€åœ¨åŒ…ï¼š<code>javax.servlet.http</code>ï¼Œæ˜¯<code>GenericServlet</code>çš„å­æŠ½è±¡ç±»ï¼Œä¸“ä¸ºå¤„ç†HTTP è¯·æ±‚è®¾è®¡ã€‚å®ƒä¸º HTTP è¯·æ±‚æ–¹æ³•ï¼ˆGETã€POSTã€PUTç­‰ï¼‰æä¾›äº†å¯¹åº”çš„å›è°ƒæ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HttpServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">GenericServlet</span>&#123;...&#125;<br></code></pre></td></tr></table></figure><p><strong>å…³é”®æºç </strong>ï¼šè¿™æ˜¯æˆ‘ä»¬åˆ›å»ºè‡ªå®šä¹‰ç±»æ—¶è¦é‡å†™çš„æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(ServletRequest req, ServletResponse res)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>     <span class="hljs-comment">// å‘ä¸‹è½¬å‹</span><br>     HttpServletRequest request;<br>     HttpServletResponse response;<br>     <span class="hljs-keyword">try</span> &#123; <span class="hljs-comment">// æ•è·å¼ºè½¬å¼‚å¸¸</span><br>         request = (HttpServletRequest)req;<br>         response = (HttpServletResponse)res;<br>     &#125; <span class="hljs-keyword">catch</span> (ClassCastException var6) &#123;<br>         <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServletException</span>(lStrings.getString(<span class="hljs-string">&quot;http.non_http&quot;</span>));<br>     &#125;<br>     <span class="hljs-comment">// è°ƒç”¨è¿™ä¸ªç±»ä¸­çš„å¦ä¸€ä¸ªserviceæ–¹æ³•</span><br>     <span class="hljs-built_in">this</span>.service(request, response);<br> &#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„å½¢å‚åˆ—è¡¨ä¸­çš„<code>ServletRequest</code>å’Œ<code>ServletResponse</code>æ˜¯å®é™…ä½¿ç”¨çš„<code>HttpServletRequest</code>å’Œ<code>HttpServletResponse</code>çš„çˆ¶ç±»ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™è‡ªåŠ¨å‘ä¸‹è½¬å‹ã€‚</p><p>è¿™ä¸ªæ–¹æ³•æ‰§è¡Œåˆ°æœ€åä¼šè°ƒç”¨å¦ä¸€ä¸ªè¢«<code>protected</code>çš„é‡è½½æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    <span class="hljs-comment">// è·å–è¯·æ±‚æ–¹æ³•å</span><br>    <span class="hljs-type">String</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> req.getMethod();<br>    <span class="hljs-comment">// å¤„ç†GETè¯·æ±‚</span><br>    <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">&quot;GET&quot;</span>)) &#123;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">lastModified</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getLastModified(req); <span class="hljs-comment">// è·å–èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´</span><br>        <span class="hljs-keyword">if</span> (lastModified == -<span class="hljs-number">1L</span>) &#123; <span class="hljs-comment">// -1è¯´æ˜æ²¡æœ‰ä½¿ç”¨ç¼“å­˜æœºåˆ¶ï¼Œç›´æ¥è°ƒç”¨ doGet() å¤„ç†è¯·æ±‚</span><br>            <span class="hljs-built_in">this</span>.doGet(req, resp);<br>        &#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">// å¦‚æœä½¿ç”¨äº†ç¼“å­˜æœºåˆ¶</span><br>            <span class="hljs-type">long</span> ifModifiedSince; <span class="hljs-comment">// å®¢æˆ·ç«¯è¯·æ±‚ä¸­è‡ªå¸¦ If-Modified-Since å¤´å­—æ®µï¼Œè¡¨ç¤ºå®ƒç¼“å­˜çš„æ—¶é—´ã€‚</span><br>            <span class="hljs-keyword">try</span> &#123; <span class="hljs-comment">// è·å–è¿™ä¸ªå­—æ®µ</span><br>                ifModifiedSince = req.getDateHeader(<span class="hljs-string">&quot;If-Modified-Since&quot;</span>);<br>            &#125; <span class="hljs-keyword">catch</span> (IllegalArgumentException var9) &#123;<br>                <span class="hljs-comment">// å¦‚æœè§£æé”™è¯¯ï¼Œè®¾ç½®ä¸º-1</span><br>                ifModifiedSince = -<span class="hljs-number">1L</span>;<br>            &#125;<br>                <span class="hljs-comment">// ç¼“å­˜çš„æ—¶é—´ &lt; æœ€åä¿®æ”¹æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œè¯´æ˜ç¼“å­˜å¤ªæ—§è¿˜æ²¡æ¥å¾—åŠæ›´æ–°</span><br>            <span class="hljs-keyword">if</span> (ifModifiedSince &lt; lastModified / <span class="hljs-number">1000L</span> * <span class="hljs-number">1000L</span>) &#123;<br>                <span class="hljs-comment">// è¿™æ—¶å€™è¦é€šçŸ¥å®¢æˆ·ç«¯é‡æ–°è®¾ç½®ç¼“å­˜</span><br>                <span class="hljs-comment">// è®¾ç½® Last-Modified å“åº”å¤´ï¼Œå¹¶è°ƒç”¨ doGet() è¿”å›è¿‡å»æ–°æ•°æ®ã€‚</span><br>                <span class="hljs-built_in">this</span>.maybeSetLastModified(resp, lastModified);<br>                <span class="hljs-built_in">this</span>.doGet(req, resp);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-comment">// 304 çŠ¶æ€ç å‘Šè¯‰å®¢æˆ·ç«¯ä½¿ç”¨æœ¬åœ°ç¼“å­˜</span><br>                resp.setStatus(<span class="hljs-number">304</span>);<br>            &#125;<br>        &#125;<br>    <span class="hljs-comment">// å¤„ç† HEAD è¯·æ±‚ </span><br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">&quot;HEAD&quot;</span>)) &#123;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">lastModified</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getLastModified(req);<br>        <span class="hljs-built_in">this</span>.maybeSetLastModified(resp, lastModified);<br>        <span class="hljs-built_in">this</span>.doHead(req, resp);<br>    <span class="hljs-comment">// å¤„ç†å…¶ä»– HTTP æ–¹æ³•</span><br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">&quot;POST&quot;</span>)) &#123;<br>        <span class="hljs-built_in">this</span>.doPost(req, resp);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">&quot;PUT&quot;</span>)) &#123;<br>        <span class="hljs-built_in">this</span>.doPut(req, resp);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">&quot;DELETE&quot;</span>)) &#123;<br>        <span class="hljs-built_in">this</span>.doDelete(req, resp);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">&quot;OPTIONS&quot;</span>)) &#123;<br>        <span class="hljs-built_in">this</span>.doOptions(req, resp);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">&quot;TRACE&quot;</span>)) &#123;<br>        <span class="hljs-built_in">this</span>.doTrace(req, resp);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// å¦‚æœè¯·æ±‚ä½¿ç”¨äº†ä¸æ”¯æŒçš„HTTPæ–¹æ³•ï¼Œè¿”å› 501 Not Implemented é”™è¯¯</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">errMsg</span> <span class="hljs-operator">=</span> lStrings.getString(<span class="hljs-string">&quot;http.method_not_implemented&quot;</span>);<br>        Object[] errArgs = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[<span class="hljs-number">1</span>];<br>        errArgs[<span class="hljs-number">0</span>] = method;<br>        errMsg = MessageFormat.format(errMsg, errArgs);<br>        resp.sendError(<span class="hljs-number">501</span>, errMsg);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªæ–¹æ³•è´Ÿè´£æ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚çš„ HTTP æ–¹æ³•ï¼Œè‡ªåŠ¨å°†è¯·æ±‚åˆ†å‘åˆ°å¯¹åº”çš„doGet, doPost ç­‰æ–¹æ³•ã€‚ä¸‹é¢æ¥çœ‹<code>doGet</code>æ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">msg</span> <span class="hljs-operator">=</span> lStrings.getString(<span class="hljs-string">&quot;http.method_get_not_supported&quot;</span>);<br>    <span class="hljs-built_in">this</span>.sendMethodNotAllowed(req, resp, msg);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½œç”¨æ˜¯ï¼šå¦‚æœæ²¡æœ‰é‡å†™<code>doGet</code>ï¼Œå½“ç”¨æˆ·å‘èµ· GETè¯·æ±‚æ—¶ï¼Œå°±ä¼šç”¨è‹±æ–‡æç¤ºâ€œGET ä¸è¢«æ”¯æŒâ€è¿”å› 405 é”™è¯¯ã€‚</p><p>å…¶ä»–å‡ ä¸ªè¯·æ±‚æ–¹æ³•ä¹Ÿéƒ½æ˜¯ä¸€æ ·çš„é€»è¾‘ã€‚åªè¦ç”¨æˆ·æ²¡æœ‰é‡å†™è¿™äº›æ–¹æ³•ï¼Œéƒ½ä¼šè¿”å›é”™è¯¯ä¿¡æ¯ã€‚è¿™æ ·ä¿è¯äº†éœ€è¦ä»€ä¹ˆå°±ç”¨ä»€ä¹ˆï¼Œç”¨ä¸åˆ°çš„è¯·æ±‚æ–¹æ³•ä¹Ÿä¸ä¼šè¢«æ„å¤–è°ƒç”¨ã€‚</p><p>ä¸è¿‡ï¼Œè¯è™½å¦‚æ­¤ï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­ç›´æ¥é‡å†™<code>service</code>ä¹Ÿæ˜¯å®Œå…¨å¯ä»¥ä½¿ç”¨çš„ï¼Œè¿™æ ·ä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ã€‚</p><p>åç»­ä½¿ç”¨ Spring æ¡†æ¶åï¼Œå°±ä¸ç”¨å†å†™è¿™äº›äº†...</p><h2 id="servletconfig">ServletConfig</h2><p>ServletConfig æ˜¯ä»€ä¹ˆï¼Ÿ</p><blockquote><p><code>ServletConfig</code>æ˜¯ä¸ºServletæä¾›åˆå§‹é…ç½®å‚æ•°çš„ä¸€ç§å¯¹è±¡ï¼Œæ¯ä¸ªServletéƒ½æœ‰è‡ªå·±<strong>ç‹¬ç«‹å”¯ä¸€</strong>çš„ServletConfigå¯¹è±¡ã€‚</p><p>å®¹å™¨ä¼šä¸ºæ¯ä¸ªServletå®ä¾‹åŒ–ä¸€ä¸ªServletConfigå¯¹è±¡ï¼Œå¹¶é€šè¿‡Servletçš„ç”Ÿå‘½å‘¨æœŸçš„initæ–¹æ³•ä¼ å…¥ç»™Serveltä½œä¸ºå±æ€§ã€‚</p></blockquote><p><strong>ä¸€èˆ¬é…ç½®æ–¹å¼</strong>ï¼š</p><p>åœ¨<code>web.xml</code>ä¸­é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>servlet1<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>servlet.Servlet1<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><br>     <span class="hljs-comment">&lt;!--é…ç½®åˆå§‹å‚æ•°--&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>keya<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>valueA<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>     <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>keyb<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>valueB<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>     <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br> <br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>servlet1<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/s1<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥åœ¨ Servletä¸­è¯»å–<code>&lt;init-param&gt;</code>ä¸­çš„å‚æ•°äº†ï¼Œè¿™é‡Œæä¾›äº†ä¸¤ç§æ–¹å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Servlet1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-type">ServletConfig</span> <span class="hljs-variable">servletConfig</span> <span class="hljs-operator">=</span> getServletConfig();<br>        <span class="hljs-comment">/*ç¬¬ä¸€ç§æ–¹æ³•*/</span><br>        <span class="hljs-comment">// è·å–åˆå§‹é…ç½®ä¿¡æ¯</span><br>        <span class="hljs-comment">// æ ¹æ®å‚æ•°åè·å–å‚æ•°å€¼</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">a_parameter</span> <span class="hljs-operator">=</span> servletConfig.getInitParameter(<span class="hljs-string">&quot;keya&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;A: &quot;</span> + a_parameter);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">b_parameter</span> <span class="hljs-operator">=</span> servletConfig.getInitParameter(<span class="hljs-string">&quot;keyb&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;B: &quot;</span> + b_parameter);<br>        System.out.println();<br><br>        <span class="hljs-comment">/* ç¬¬äºŒç§æ–¹æ³• */</span><br>        <span class="hljs-comment">// è·å–æ‰€æœ‰çš„åˆå§‹å‚æ•°çš„åå­—  è¿­ä»£å™¨ï¼</span><br>        Enumeration&lt;String&gt; initParameterNames = servletConfig.getInitParameterNames();<br>        <span class="hljs-comment">// åˆ¤æ–­æœ‰æ²¡æœ‰ä¸‹ä¸€ä¸ªå‚æ•°;</span><br>        <span class="hljs-keyword">while</span> (initParameterNames.hasMoreElements()) &#123;<br>            <span class="hljs-comment">// å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´   å¹¶å‘ä¸‹ç§»åŠ¨æ¸¸æ ‡ï¼ˆè¿­ä»£å™¨çš„æŒ‡é’ˆï¼‰</span><br>            <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> initParameterNames.nextElement();<br>            System.out.println(name + <span class="hljs-string">&quot; : &quot;</span> + servletConfig.getInitParameter(name));<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨è§£æ–¹å¼é…ç½®</strong></p><p>ä½¿ç”¨<code>@WebServlet</code>æ³¨è§£å¯ä»¥æ›´ç®€å•åœ°å®Œæˆä¸Šè¿°é…ç½®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(</span><br><span class="hljs-meta">        urlPatterns = &quot;/s1&quot;,</span><br><span class="hljs-meta">        initParams = &#123;@WebInitParam(name=&quot;keya&quot;, value=&quot;valuea&quot;)&#125;</span><br><span class="hljs-meta">)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Servlet1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-type">ServletConfig</span> <span class="hljs-variable">servletConfig</span> <span class="hljs-operator">=</span> getServletConfig();<br>        <span class="hljs-comment">/*ç¬¬ä¸€ç§æ–¹æ³•*/</span><br>        <span class="hljs-comment">// è·å–åˆå§‹é…ç½®ä¿¡æ¯</span><br>        <span class="hljs-comment">// æ ¹æ®å‚æ•°åè·å–å‚æ•°å€¼</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">a_parameter</span> <span class="hljs-operator">=</span> servletConfig.getInitParameter(<span class="hljs-string">&quot;keya&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;A: &quot;</span> + a_parameter);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">b_parameter</span> <span class="hljs-operator">=</span> servletConfig.getInitParameter(<span class="hljs-string">&quot;keyb&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;B: &quot;</span> + b_parameter);<br>        System.out.println();<br><br>        <span class="hljs-comment">/* ç¬¬äºŒç§æ–¹æ³• */</span><br>        <span class="hljs-comment">// è·å–æ‰€æœ‰çš„åˆå§‹å‚æ•°çš„åå­—  è¿­ä»£å™¨ï¼</span><br>        Enumeration&lt;String&gt; initParameterNames = servletConfig.getInitParameterNames();<br>        <span class="hljs-comment">// åˆ¤æ–­æœ‰æ²¡æœ‰ä¸‹ä¸€ä¸ªå‚æ•°;</span><br>        <span class="hljs-keyword">while</span> (initParameterNames.hasMoreElements()) &#123;<br>            <span class="hljs-comment">// å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´   å¹¶å‘ä¸‹ç§»åŠ¨æ¸¸æ ‡ï¼ˆè¿­ä»£å™¨çš„æŒ‡é’ˆï¼‰</span><br>            <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> initParameterNames.nextElement();<br>            System.out.println(name + <span class="hljs-string">&quot; : &quot;</span> + servletConfig.getInitParameter(name));<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ‰“å°ç»“æœï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">A: valuea<br>B: null<br><br>keya : valuea<br></code></pre></td></tr></table></figure><p>å› ä¸ºè¿™æ—¶æ²¡æœ‰å®šä¹‰<code>keyb</code>å‚æ•°ï¼Œæ‰€ä»¥ç¬¬ä¸€ç§æ–¹æ³•æ‰“å°å‡ºæ¥Bä¸ºnullï¼Œä½¿ç”¨è¿­ä»£çš„æ–¹æ³•æ²¡æœ‰æ‰“å°B</p><h2 id="servletcontext">ServletContext</h2><p>ä¸<code>ServletConfig</code>ç±»ä¼¼ï¼Œå®ƒä¹Ÿå¯ä»¥æä¾›åˆå§‹åŒ–é…ç½®å‚æ•°ï¼Œä½†<code>ServletContext</code>æ˜¯ä¸ºæ‰€æœ‰çš„Servletå¯¹è±¡æä¾›<strong>å…¬å…±</strong>çš„å‚æ•°ã€‚</p><p><img src="https://s21.ax1x.com/2025/05/08/pELBgdP.png" /></p><p>ServletContextæ˜¯ä¸€ä¸ªå…¨å±€çš„å‚¨å­˜ä¿¡æ¯çš„ç©ºé—´ï¼Œ<strong>å®ƒè¢«æ‰€æœ‰å®¢æˆ·ç«¯å…±äº«</strong>ï¼Œå› æ­¤Servletå¯¹è±¡ä¹‹é—´å¯ä»¥é€šè¿‡ServletContext å¯¹è±¡æ¥å®ç°é€šè®¯ã€‚</p><p><strong>ä¿®æ”¹ ServeletContext</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">context-param</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">context-param</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context-param</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>password<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>123456<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">context-param</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>è·å– ServletContext å¯¹è±¡</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> ServletContext <span class="hljs-title function_">getServletContext</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.getServletConfig().getServletContext();<br>&#125;<br></code></pre></td></tr></table></figure><p>è°ƒç”¨<code>servletå¯¹è±¡.getServletContext()</code>æ¥è·å– ServletContextå¯¹è±¡ã€‚</p><p>æ‰“å°æ‰€æœ‰<code>ServeletContext</code>çš„å…¨å±€å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿­ä»£çš„æ–¹æ³•ï¼ŒåŒ<code>ServletConfig</code>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">ServletContext</span> <span class="hljs-variable">servletContext</span> <span class="hljs-operator">=</span> getServletContext();<br>Enumeration&lt;String&gt; initParameterNames = servletContext.getInitParameterNames();<br><span class="hljs-keyword">while</span> (initParameterNames.hasMoreElements()) &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">initParameterName</span> <span class="hljs-operator">=</span> initParameterNames.nextElement();<br>    <span class="hljs-type">String</span> <span class="hljs-variable">initParameterValue</span> <span class="hljs-operator">=</span> servletContext.getInitParameter(initParameterName);<br>    System.out.println(initParameterName + <span class="hljs-string">&quot;: &quot;</span> + initParameterValue);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯æ³¨æ„ï¼šè¿™é‡Œè°ƒç”¨<code>getInitParameter()</code><strong>è·å–çš„æ˜¯æ¥è‡ªweb.xmlæˆ–æ³¨è§£é…ç½®çš„åˆå§‹åŒ–å‚æ•°ï¼Œä¸å¯å˜ï¼Œç¨‹åºå¯åŠ¨åä¸å¯æ”¹</strong>ã€‚å¦‚æœæƒ³è¦è·å–ç¨‹åºè¿è¡Œæ—¶<strong>åŠ¨æ€</strong>ä¿®æ”¹è¿‡çš„ServletContext å±æ€§ï¼Œåº”å½“ä½¿ç”¨<code>getAttribute</code>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java">System.out.println(<span class="hljs-string">&quot;--------- ServletContext init params ---------&quot;</span>);<br>Enumeration&lt;String&gt; initParams = servletContext.getInitParameterNames();<br><span class="hljs-keyword">while</span> (initParams.hasMoreElements()) &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> initParams.nextElement();<br>    System.out.println(<span class="hljs-string">&quot;init param: &quot;</span> + name + <span class="hljs-string">&quot; = &quot;</span> + servletContext.getInitParameter(name));<br>&#125;<br><br>System.out.println(<span class="hljs-string">&quot;--------- ServletContext attributes ---------&quot;</span>);<br>Enumeration&lt;String&gt; attrNames = servletContext.getAttributeNames();<br><span class="hljs-keyword">while</span> (attrNames.hasMoreElements()) &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> attrNames.nextElement();<br>    System.out.println(<span class="hljs-string">&quot;attribute: &quot;</span> + name + <span class="hljs-string">&quot; = &quot;</span> + servletContext.getAttribute(name));<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="è·å–èµ„æºçœŸå®è·¯å¾„-api">è·å–èµ„æºçœŸå®è·¯å¾„ API</h3><p><code>getServletContext().getRealPath("/ç›®å½•å")</code></p><p><strong>ç¤ºä¾‹</strong>ï¼š</p><p>åœ¨<code>src/Servlet3.java</code>ä¸­å†™å¦‚ä¸‹ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(</span><br><span class="hljs-meta">        urlPatterns = &quot;/s3&quot;,</span><br><span class="hljs-meta">        initParams = &#123;@WebInitParam(name = &quot;s3&quot;, value = &quot;sdeddd&quot;)&#125;</span><br><span class="hljs-meta">)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Servlet3</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-type">ServletContext</span> <span class="hljs-variable">servletContext</span> <span class="hljs-operator">=</span> getServletContext();<br>        <span class="hljs-comment">// è·å–çœŸå®è·¯å¾„</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> servletContext.getRealPath(<span class="hljs-string">&quot;upload&quot;</span>);<br>        System.out.println(path);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">D:\Develop\web-all\out\artifacts\demo03_servletConfig_servletContext_war_exploded\upload<br></code></pre></td></tr></table></figure><hr /><p><strong>ä½œç”¨</strong>ï¼š</p><p>è·å–<strong>é¡¹ç›®éƒ¨ç½²è·¯å¾„</strong>ï¼Œä¹Ÿå«ä¸Šä¸‹æ–‡è·¯å¾„ã€‚ä¸æ‰‹åŠ¨æŒ‡å®šçš„æ–¹å¼ä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªè·¯å¾„ä¸æ˜¯å†™æ­»çš„ï¼Œéšé¡¹ç›®éƒ¨ç½²ä½ç½®çš„æ”¹å˜è€Œè‡ªåŠ¨å˜åŒ–ã€‚è¿™æ ·ä¸€æ¥ï¼Œä¸ç®¡è¯¥é¡¹ç›®å®åœ¨æœ¬åœ°è¿è¡Œè¿˜æ˜¯æœªæ¥æ”¾åˆ°æœåŠ¡å™¨ä¸­è¿è¡Œï¼Œéƒ½å¯ä»¥æˆåŠŸæ‰¾åˆ°æ­£ç¡®çš„è·¯å¾„ã€‚</p><p>æœ¬ä¾‹ä¸­çš„é¡¹ç›®ç»“æ„ä¸º</p><p><img src="https://s21.ax1x.com/2025/05/09/pEOZBV0.png" /></p><p><code>web</code>å³é¡¹ç›®çš„è®¿é—®è·¯å¾„ï¼Œ<code>upload</code>åœ¨<strong>å¼€å‘é¡¹ç›®</strong>ä¸­çš„çš„ç¡®åˆ‡ä½ç½®ä¸º<code>web/upload</code>ï¼›åœ¨<strong>éƒ¨ç½²é¡¹ç›®</strong>ä¸­çš„ä½ç½®å˜æˆäº†<code>demo03_servletConfig_servletContext_war_exploded\upload</code>ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åˆšæ‰è·å–çš„çœŸå®è·¯å¾„ã€‚</p><h3 id="åŸŸå¯¹è±¡ç›¸å…³-api">åŸŸå¯¹è±¡ç›¸å…³ API</h3><p>åŸŸå¯¹è±¡ï¼šå³å…·æœ‰<strong>ä½œç”¨åŸŸ</strong>(Scope)çš„å¯¹è±¡ã€‚å®ƒä»¬ç”¨äº<strong>åœ¨Webåº”ç”¨ä¸­ä¿å­˜å’Œå…±äº«æ•°æ®</strong>ã€‚è¯´ç™½äº†ï¼ŒåŸŸå¯¹è±¡å°±æ˜¯ä¸€ä¸ªæ”¾æ•°æ®çš„å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡åŸŸå¯¹è±¡æ¥å­˜å€¼å’Œå–å€¼ï¼Œä¸åŒçš„åŸŸå¯¹è±¡çš„èŒƒå›´ä¸ä¸€æ ·ï¼Œä¹Ÿå°±é™åˆ¶äº†å“ªäº›ç±»å¯ä»¥è®¿é—®è¿™ä¸ªå¯¹è±¡ï¼Œè¿›è¡Œå€¼çš„å­˜å‚¨ï¼Œä»¥è¾¾åˆ°æ•°æ®äº¤æ¢çš„ç›®çš„ã€‚</p><p>åˆšæ‰æåˆ°çš„<code>ServletContext</code>åœ¨ä¸€ä¸ªWebAppä¸­æ˜¯å”¯ä¸€çš„ï¼Œä»£è¡¨äº†è¿™ä¸ªåº”ç”¨ï¼Œä¹Ÿå«<strong>åº”ç”¨åŸŸ</strong>ï¼Œæ˜¯ Web Appä¸­æœ€å¤§çš„åŸŸã€‚</p><p><strong>å¸¸è§çš„åŸŸå¯¹è±¡</strong></p><table><thead><tr><th>åŸŸå¯¹è±¡åç§°</th><th>æ¥å£ç±»å‹</th><th>å¸¸ç”¨è·å–æ–¹å¼</th></tr></thead><tbody><tr><td><strong>request</strong></td><td><code>HttpServletRequest</code></td><td>Servlet æ–¹æ³•å‚æ•°æˆ– JSP ä¸­éšå«å¯¹è±¡</td></tr><tr><td><strong>session</strong></td><td><code>HttpSession</code></td><td><code>request.getSession()</code></td></tr><tr><td><strong>application</strong>ï¼ˆå³ <code>ServletContext</code>ï¼‰</td><td><code>ServletContext</code></td><td><code>getServletContext()</code> æˆ–<code>application</code>ï¼ˆJSPï¼‰</td></tr><tr><td><strong>page</strong>ï¼ˆåªåœ¨ JSP ä¸­ï¼‰</td><td><code>PageContext</code></td><td>JSP ä¸­éšå«å¯¹è±¡ <code>pageContext</code></td></tr></tbody></table><p><strong>åŸŸå¯¹è±¡å¸¸ç”¨ API æ–¹æ³•</strong></p><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>setAttribute(String name, Object value)</code></td><td>è®¾ç½®ï¼ˆæ·»åŠ æˆ–ä¿®æ”¹ï¼‰ä¸€ä¸ªå±æ€§ï¼ˆé”®å€¼å¯¹ï¼‰</td></tr><tr><td><code>getAttribute(String name)</code></td><td>è·å–æŒ‡å®šå±æ€§çš„å€¼</td></tr><tr><td><code>removeAttribute(String name)</code></td><td>ç§»é™¤æŒ‡å®šå±æ€§</td></tr><tr><td><code>getAttributeNames()</code></td><td>è¿”å›æ‰€æœ‰å±æ€§åçš„æšä¸¾ï¼ˆEnumeration ç±»å‹ï¼‰</td></tr></tbody></table><ol type="1"><li><code>setAttribute</code></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">setAttribute</span><span class="hljs-params">(String var1, Object var2)</span>;<br></code></pre></td></tr></table></figure><ul><li><code>var1</code>:ç›¸å½“äºå“ˆå¸Œè¡¨ä¸­çš„<strong>é”®</strong>ï¼Œä¸è¿‡å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä¸å¯é‡å¤</li><li><code>var2</code>: ç›¸å½“äºå“ˆå¸Œè¡¨ä¸­çš„å€¼</li></ul><ol start="2" type="1"><li><code>getAttribute(String name): Object</code></li></ol><ul><li>è·å–é”®å¯¹åº”çš„å€¼ï¼Œä½†æ˜¯<code>Object</code>ç±»å‹ï¼Œç±»ä¼¼äºJavaçš„ä¸‹ç•Œé€šé…ç¬¦ï¼Œå†™å…¥å®‰å…¨ä½†æ˜¯è¯»å–å—é™</li></ul><p>Tomcat åœ¨å¯åŠ¨ Web åº”ç”¨æ—¶ä¼šæŠŠTomcatå†…éƒ¨è¿è¡Œæ‰€éœ€çš„ç»„ä»¶ã€è·¯å¾„ã€ç¼“å­˜ç­‰å¯¹è±¡è‡ªåŠ¨æ”¾å…¥ ServletContext çš„ attributeå±æ€§è¡¨ä¸­ï¼Œæ‰€ä»¥å¦‚æœè¿è¡Œä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">System.out.println(<span class="hljs-string">&quot;--------- ServletContext attributes ---------&quot;</span>);<br>Enumeration&lt;String&gt; attrNames = servletContext.getAttributeNames();<br><span class="hljs-keyword">while</span> (attrNames.hasMoreElements()) &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> attrNames.nextElement();<br>    System.out.println(<span class="hljs-string">&quot;attribute: &quot;</span> + name + <span class="hljs-string">&quot; = &quot;</span> + servletContext.getAttribute(name));<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¼šå¾—åˆ°åŒ…å«ç”¨æˆ·è‡ªå®šä¹‰å±æ€§åœ¨å†…çš„éå¸¸é•¿çš„ä¸€ä¸²è¾“å‡ºï¼Œä½†æ˜¯å…¶ä¸­ç³»ç»Ÿè‡ªå¸¦çš„å±æ€§å¹¶ä¸æ˜¯æˆ‘ä»¬æ‰€å…³å¿ƒçš„ã€‚å› æ­¤ï¼Œå¦‚æœè¦æŸ¥çœ‹è‡ªå·±å®šä¹‰çš„å±æ€§ï¼Œæœ€å¥½ä½¿ç”¨<code>getAttribute(String name)</code>ã€‚</p><h2 id="httpservletrequest">HttpServletRequest</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">HttpServletRequest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ServletRequest</span> &#123;...&#125;<br></code></pre></td></tr></table></figure><p>å®ƒå‡ºç°åœ¨<code>service</code>æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> &#123;...&#125;<br></code></pre></td></tr></table></figure><p><code>HttpServletRequest</code>æä¾›äº†ä¸€ç³»åˆ—å¯ç”¨äºå¤„ç† HTTPè¯·æ±‚çš„æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(&quot;/s4&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Servlet4</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        System.out.println(req.getMethod()); <span class="hljs-comment">// è¯·æ±‚æ–¹å¼</span><br>        System.out.println(req.getScheme()); <span class="hljs-comment">// åè®®</span><br>        System.out.println(req.getProtocol()); <span class="hljs-comment">// åè®®å’Œç‰ˆæœ¬å·</span><br>        System.out.println(req.getRequestURI()); <span class="hljs-comment">// é¡¹ç›®å†…çš„èµ„æºè·¯å¾„</span><br>        System.out.println(req.getRequestURL()); <span class="hljs-comment">// é¡¹ç›®å†…èµ„æºçš„å®Œæ•´è·¯å¾„</span><br>        System.out.println(req.getLocalPort()); <span class="hljs-comment">// æœ¬åº”ç”¨æ‰€åœ¨å®¹å™¨çš„ç«¯å£å·  8080</span><br>        System.out.println(req.getServerName()); <span class="hljs-comment">// å®¢æˆ·ç«¯å‘è¯·æ±‚æ—¶ç”¨çš„ç«¯å£å·ï¼Œå› ä¸ºä»£ç†çš„å­˜åœ¨å¯èƒ½å’ŒLocalPortä¸ä¸€æ ·</span><br>        System.out.println(req.getRemoteHost()); <span class="hljs-comment">// å®¢æˆ·ç«¯è½¯ä»¶çš„ç«¯å£å·</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œä¸€ä¸‹ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs text">GET<br>http<br>HTTP/1.1<br>/demo03/s4<br>http://localhost:8080/demo03/s4<br>8080<br>localhost<br>0:0:0:0:0:0:0:1<br></code></pre></td></tr></table></figure><p>URI:ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ã€‚ç”¨äº<strong>æ ‡è¯†æŸä¸ªèµ„æº</strong>ã€‚åªè¦èƒ½å”¯ä¸€åœ°å®šä½èµ„æºï¼Œå°±æ˜¯URIã€‚<br />URL: ç»Ÿä¸€èµ„æºå®šä½ç¬¦ã€‚URIçš„ä¸€ç§ï¼Œ<strong>ä¸ä»…æ ‡è¯†èµ„æºï¼Œè¿˜æŒ‡å®šäº†è·å–èµ„æºçš„åè®®å’Œåœ°å€</strong>ã€‚<br />å³ï¼šURL æ˜¯ URI çš„ä¸€ä¸ªå­é›†ï¼ŒURI æ›´å®½æ³›ï¼ŒURL æ›´å…·ä½“ã€‚</p><p><code>0:0:0:0:0:0:0:1</code>æ˜¯ IPv6 è¡¨ç¤ºå½¢å¼çš„æœ¬åœ°å›ç¯åœ°å€ï¼Œç­‰ä»·äºIPv4 çš„ 127.0.0.1ã€‚</p><p><strong>è·å–å¤´</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">Enumeration&lt;String&gt; headerNames = req.getHeaderNames();<br><span class="hljs-keyword">while</span> (headerNames.hasMoreElements()) &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">headerName</span> <span class="hljs-operator">=</span> headerNames.nextElement();<br>    System.out.println(headerName + <span class="hljs-string">&quot;: &quot;</span> + req.getHeader(headerName));<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è·å–è¯·æ±‚å‚æ•°</strong></p><p><code>getParameterMap()</code>è¿”å›ä¸€ä¸ª<code>Map&lt;String, String[]&gt;</code>çš„å˜é‡ï¼Œä½¿ç”¨<code>forEach</code>éå†æ‰€æœ‰å‚æ•°ï¼Œè¿™ç§å¤„ç†æ–¹å¼ä¹Ÿé€‚ç”¨äºå¤šé€‰çš„æƒ…å†µã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(&quot;/s5&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Servlet5</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">// æ ¹æ®æŒ‡å®šçš„nameè·å–é”®å€¼å¯¹å½¢å¼çš„å‚æ•°</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> req.getParameter(<span class="hljs-string">&quot;password&quot;</span>);<br>        System.out.println(username + <span class="hljs-string">&quot; &quot;</span> + password);<br><br>        <span class="hljs-comment">// è¿”å›æ‰€æœ‰ map çš„é›†åˆï¼ˆæ›´é€šç”¨ï¼‰</span><br>        Map&lt;String, String[]&gt; parameterMap = req.getParameterMap();<br>        parameterMap.forEach((key, value) -&gt; &#123;<br>            System.out.println(key + <span class="hljs-string">&quot; &quot;</span> + Arrays.toString(value));<br>        &#125;);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ä»¥ä¸ŠAPIä¸“é—¨ç”¨äºé”®å€¼å¯¹å½¢å¼çš„å‚æ•°ï¼Œæ— è®ºè¿™äº›å‚æ•°æ˜¯åœ¨urlä¸­è¿˜æ˜¯è¯·æ±‚ä½“ä¸­</strong>ã€‚getè¯·æ±‚å‚æ•°ä»¥é”®å€¼å¯¹çš„å½¢å¼æ”¾åœ¨urlä¸­ï¼Œä¸€èˆ¬çº¦å®šä¸æ”¾åœ¨è¯·æ±‚ä½“ä¸­ã€‚postæ–¹å¼æ”¾åœ¨è¯·æ±‚ä½“ä¸­ã€‚</p><p>ä»¥ä¸‹APIç”¨äºè¯»å–æ–‡æœ¬/æ–‡ä»¶/JSONï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">BufferedReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> req.getReader(); <span class="hljs-comment">// å­—ç¬¦æµ æ–‡æœ¬æ•°æ®</span><br><span class="hljs-type">ServletInputStream</span> <span class="hljs-variable">inputStream</span> <span class="hljs-operator">=</span> req.getInputStream(); <span class="hljs-comment">// å­—èŠ‚æµ äºŒè¿›åˆ¶æ•°æ®</span><br></code></pre></td></tr></table></figure><h2 id="httpservletresponse">HttpServletResponse</h2><p>æä¾›äº†ä¸€ç³»åˆ—ç”¨äºå¤„ç†å“åº”æ¶ˆæ¯çš„æ–¹æ³•ï¼š</p><ul><li><code>setStatus</code>: è®¾ç½®çŠ¶æ€ç </li><li><code>setHeader</code>: è®¾ç½®å“åº”å¤´çš„å­—æ®µï¼Œä¼ å…¥å­—æ®µåå’Œå­—æ®µå€¼</li><li><code>setContentType</code>: è®¾ç½® MIMEç±»å‹ï¼Œå¦‚å‰æ‰€è¿°ï¼Œä½œç”¨æ˜¯å‘Šè¯‰å®¢æˆ·ç«¯å“åº”çš„æ•°æ®æ˜¯ä»€ä¹ˆç±»å‹çš„æ•°æ®ã€‚å…¶å®ç”¨<code>setHeader</code>ä¹Ÿèƒ½å®Œæˆï¼Œä½†æ˜¯å› ä¸ºå¤ªè¿‡é‡è¦æ‰€ä»¥å•ç‹¬å°è£…äº†ä¸€ä¸ªæ–¹æ³•</li><li><code>setContentLength</code>:è®¾ç½®ä¼ è¾“çš„å†…å®¹é•¿åº¦ï¼ŒåŒæ ·ç”¨<code>setHeader</code>ä¹Ÿèƒ½å®Œæˆï¼Œä½†æ˜¯å› ä¸ºå¤ªè¿‡é‡è¦æ‰€ä»¥å•ç‹¬å°è£…äº†ä¸€ä¸ªæ–¹æ³•</li><li><code>getWriter</code>:è·å–ä¸€ä¸ªå­—ç¬¦è¾“å‡ºæµ<code>PrintWriter</code>ï¼Œç”¨äºè®¾ç½®å“åº”ä½“çš„å†…å®¹</li></ul><h1 id="è¯·æ±‚è½¬å‘å’Œå“åº”é‡å®šå‘">è¯·æ±‚è½¬å‘å’Œå“åº”é‡å®šå‘</h1><p>è¯·æ±‚è½¬å‘(Forward)å“åº”é‡å®šå‘(Redirect)<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="https://www.cnblogs.com/Qian123/p/5345527.html#!comments">[3]</span></a></sup></p><h2 id="forward-è½¬å‘">forward è½¬å‘</h2><p>æœåŠ¡å™¨å†…éƒ¨è·³è½¬ï¼Œæµè§ˆå™¨åœ°å€æ ä¸å˜ã€‚</p><p>ç”¨æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(&quot;/s1&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">servlet1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        System.out.println(<span class="hljs-string">&quot;servlet1 service&quot;</span>);<br>        <span class="hljs-comment">// getRequestDispatcher è·å–ä¸€ä¸ªå¯ä»¥å°†å½“å‰è¯·æ±‚è½¬å‘æˆ–åŒ…å«åˆ°æŒ‡å®šèµ„æºçš„è¯·æ±‚åˆ†æ´¾å™¨å¯¹è±¡</span><br>        <span class="hljs-type">RequestDispatcher</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> req.getRequestDispatcher(<span class="hljs-string">&quot;s2&quot;</span>);<br>        <span class="hljs-comment">// forward å®ç°è¯·æ±‚è½¬å‘åŠŸèƒ½ï¼ŒæŠŠè¯·æ±‚è½¬å‘ç»™å¦ä¸€ä¸ªServlet</span><br>        s2.forward(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯åªäº§ç”Ÿä¸€æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡ç«¯åªäº§ç”Ÿä¸€æ¬¡reqå’Œrespï¼Œè¿™ä¸€å¯¹reqå’Œrespå¯ä»¥ä¸€ç›´ä¼ é€’ä¸‹å»ã€‚</p><p>å½“ç„¶ï¼Œ<code>getRequestDispatcher</code>ä¼ å…¥çš„å‚æ•°ä¸ä»…ä»…å±€é™äº Servletï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">req.getRequestDispatcher(<span class="hljs-string">&quot;test.html&quot;</span>).forward(req, resp);<br><span class="hljs-comment">// è¿è¡Œåé¡µé¢æ˜¾ç¤ºä¸º test.html ï¼Œä½†æ˜¯åœ°å€æ ä»ç„¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚</span><br></code></pre></td></tr></table></figure><p>å°±ç®—æ˜¯ WEB-INF ä¸­çš„èµ„æºä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼è¢«è®¿é—®ï¼Œè¿™ä¹Ÿæ˜¯ WEB-INFè®¿é—®çš„å”¯ä¸€æ–¹å¼ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç›®æ ‡èµ„æºæ—¢å¯ä»¥æ˜¯åŠ¨æ€èµ„æºï¼Œä¹Ÿå¯ä»¥æ˜¯é™æ€èµ„æºï¼Œä¹Ÿå¯ä»¥æ˜¯å—ä¿æŠ¤çš„èµ„æºï¼Œä½†æ˜¯ä¸èƒ½æ˜¯å¤–éƒ¨èµ„æºã€‚</p><h2 id="redirect-é‡å®šå‘">redirect é‡å®šå‘</h2><p>è¯­æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">resp.sendRedirect(<span class="hljs-string">&quot;test.html&quot;</span>);<br></code></pre></td></tr></table></figure><ul><li>é€šè¿‡<code>HttpServeltResponse</code>å¯¹è±¡çš„<code>sendRedirect</code>æ–¹æ³•å®ç°</li><li>å“åº”é‡å®šå‘æ˜¯æœåŠ¡ç«¯é€šè¿‡302å“åº”ç å’Œ<code>location</code>èµ„æºè·¯å¾„ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯è®©å®ƒè‡ªå·±å»æ‰¾å…¶ä»–èµ„æºï¼Œå±äºåœ¨æœåŠ¡å™¨çš„æç¤ºä¸‹çš„å®¢æˆ·ç«¯çš„è¡Œä¸ºã€‚</li><li>å®¢æˆ·ç«¯è‡³å°‘å‘é€äº†ä¸¤æ¬¡è¯·æ±‚ï¼Œå®¢æˆ·ç«¯åœ°å€æ æ˜¯è¦å˜åŒ–çš„ã€‚</li><li>æœåŠ¡ç«¯äº§ç”Ÿäº†å¤šå¯¹è¯·æ±‚å’Œå“åº”å¯¹è±¡ï¼Œä¸”è¯·æ±‚å’Œå“åº”å¯¹è±¡<strong>ä¸ä¼šä¼ é€’</strong>ç»™ä¸‹ä¸€ä¸ªèµ„æº</li><li>é‡å®šå‘å¯ä»¥æ˜¯ServletåŠ¨æ€èµ„æºï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–é™æ€èµ„æº</li><li>ä¸å¯ä»¥è®¿é—®WEB-INFä¸‹å—ä¿æŠ¤çš„èµ„æºï¼ˆæ˜¾ç„¶ï¼‰</li><li>å¯ä»¥é‡å®šå‘åˆ°æœ¬é¡¹ç›®ä»¥å¤–çš„èµ„æºã€‚</li></ul><h1 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h1><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1"class="footnote-text"><span>https://zh.wikipedia.org/wiki/Apache_Tomcat<a href="#fnref:1" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li><li><span id="fn:2"class="footnote-text"><span>https://www.cnblogs.com/mamamia/p/17748456.html<a href="#fnref:2" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li><li><span id="fn:3"class="footnote-text"><span>https://www.cnblogs.com/Qian123/p/5345527.html#!comments<a href="#fnref:3" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Web Development</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>IPåè®®</title>
    <link href="/2025/05/11/IP%E5%8D%8F%E8%AE%AE/"/>
    <url>/2025/05/11/IP%E5%8D%8F%E8%AE%AE/</url>
    
    <content type="html"><![CDATA[<p>å‚è€ƒï¼š<ahref="https://www.cnblogs.com/kuangtf/articles/16354512.html">IPåè®®çœ‹è¿™ç¯‡å°±å¤Ÿäº†</a>ã€å°æ—codingã€<ahref="https://zh.wikipedia.org/wiki/IP%E5%9C%B0%E5%9D%80">wiki</a></p><h1 id="æ¦‚å†µ">æ¦‚å†µ</h1><p>TCPæ¨¡å—å°†ç½‘ç»œåŒ…å§”æ‰˜ç»™ IP æ¨¡å—æ‰èƒ½å‘é€ç»™é€šä¿¡å¯¹è±¡ã€‚</p><p>IP åè®®çš„ç‰¹ç‚¹ï¼šIPåè®®æä¾›<strong>æ— è¿æ¥çš„</strong>ã€<strong>ä¸å¯é çš„</strong>ã€<strong>å°½åŠ›çš„</strong>æ•°æ®æŠ¥æŠ•é€’æœåŠ¡ï¼š</p><ul><li>æ— è¿æ¥çš„ï¼šé€šä¿¡åŒæ–¹æ— éœ€åƒTCPé‚£æ ·å»ºç«‹è¿æ¥ä¾¿å¯ç›´æ¥é€šä¿¡ï¼Œå‘é€ç«¯å¯ä»¥åœ¨ä»»ä½•æ—¶åˆ»å‘é€æ•°æ®ï¼Œæ¥æ”¶æ–¹æ°¸è¿œä¹Ÿä¸çŸ¥é“è‡ªå·±ä»€ä¹ˆæ—¶å€™ä¼šæ”¶åˆ°æ•°æ®ã€‚</li><li>ä¸å¯é çš„ï¼šIPåè®®æ—¢ä¸ä¿è¯æ•°æ®åŒ…èƒ½æˆåŠŸä¼ è¾“ç»™å¯¹æ–¹ï¼Œä¹Ÿä¸ä¼šå¯¹ä¼ è¾“å¤±è´¥åšä»»ä½•æ£€æµ‹ï¼Œæ›´ä¸ä¼šé€šçŸ¥å¯¹æ–¹æœ¬æ¬¡ä¼ è¾“æ˜¯å¦æˆåŠŸã€‚</li><li>å°½åŠ›çš„ï¼šæœ€å¤§ä¼ è¾“å•å…ƒï¼ˆMTUï¼‰è§„å®šäº†ä¸€ä¸ªç½‘ç»œåŒ…çš„æœ€å¤§é•¿åº¦ï¼Œä»¥å¤ªç½‘ä¸­ä¸€èˆ¬ä¸º1500å­—èŠ‚ã€‚å¯¹äºè¾ƒé•¿çš„æ•°æ®ï¼ŒIPåè®®ä¼šæŠŠåŸå§‹æ•°æ®åˆ†å‰²æˆä¸€ä¸ªä¸€ä¸ªçš„æ•°æ®åŒ…è¿›è¡Œå‘é€ã€‚</li></ul><h1 id="å¤šç½‘å¡">å¤šç½‘å¡</h1><p>å½“å®¢æˆ·ç«¯è®¾å¤‡æœ‰<strong>å¤šä¸ªç½‘å¡</strong>ï¼ˆæ¯ä¸ªç½‘å¡å„è‡ªæœ‰ä¸€ä¸ª IPåœ°å€ï¼‰ï¼Œç³»ç»Ÿåœ¨å‘é€ IPåŒ…æ—¶ä¼šæ ¹æ®<strong>è·¯ç”±è¡¨</strong>é€‰æ‹©åˆé€‚çš„ç½‘å¡å’Œæº IPåœ°å€ã€‚è‡³äºåˆ°åº•é€‰æ‹©é‚£ä¸ªç½‘å¡ï¼Ÿç³»ç»Ÿä¼šæŸ¥æ‰¾è·¯ç”±è¡¨ä¸­å“ªä¸ªç½‘ç»œå‰ç¼€å’Œå½“å‰IPçš„<strong>åŒ¹é…ç¨‹åº¦æœ€é«˜</strong>ï¼Œå°†è¿™ä¸ªç½‘å¡çš„IP ä½œä¸º IP åŒ…çš„æºåœ°å€å†™å…¥å¤´éƒ¨ã€‚</p><p>ä»€ä¹ˆå«åŒ¹é…åº¦æœ€é«˜ï¼Ÿè°å’Œç›®æ ‡IPçš„é‡åˆåº¦æœ€é«˜ï¼Œè°æœ€ä¼˜å…ˆã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾å½“å‰çš„è·¯ç”±è¡¨ä¸­æœ‰ä»¥ä¸‹è·¯ç”±è¡¨</p><table><thead><tr><th>ç½‘ç»œåœ°å€</th><th>å­ç½‘æ©ç </th><th>å‰ç¼€é•¿åº¦</th><th>æ¥å£</th></tr></thead><tbody><tr><td>192.168.1.0</td><td>255.255.255.0</td><td><code>/24</code></td><td>eth0</td></tr><tr><td>192.168.1.128</td><td>255.255.255.128</td><td><code>/25</code></td><td>eth1</td></tr><tr><td>0.0.0.0</td><td>0.0.0.0</td><td><code>default</code></td><td>eth2</td></tr></tbody></table><p>ç°åœ¨æˆ‘ä»¬è¦è®¿é—®IPï¼š<code>192.168.1.130</code></p><ul><li><code>192.168.1.0</code>:æ ¹æ®å­ç½‘æ©ç ï¼Œå¯ä»¥è®¡ç®—è¯¥ç½‘ç»œå·å¯è¦†ç›–çš„çš„èŒƒå›´æ˜¯<code>192.168.1.0 - 192.168.1.255</code></li><li><code>192.168.1.128</code>:åŒæ ·è®¡ç®—ç½‘ç»œçš„èŒƒå›´æ˜¯<code>192.168.1.128 - 192.168.1.255</code></li><li><code>default</code>: åŒ¹é…åº¦ä¸º0ï¼Œå½“æœ¬åœ°IPéƒ½ä¸åŒ¹é…æ—¶æ‰ä½¿ç”¨</li></ul><p>å¯è§è·¯ç”±1å’Œè·¯ç”±2éƒ½è¦†ç›–äº†ç›®æ ‡IPåœ°å€ã€‚ä½†æ˜¯è·¯ç”±2çš„ç½‘ç»œèŒƒå›´æ¯”è·¯ç”±1æ›´å°ï¼ŒåŒ¹é…åº¦æ›´é«˜ï¼Œæ‰€ä»¥ä¼˜å…ˆé€‰æ‹©è·¯ç”±2.</p><p>è¿™å°±æ˜¯æ“ä½œç³»ç»Ÿå’Œè·¯ç”±å™¨é‡‡ç”¨çš„<strong>æœ€é•¿å‰ç¼€åŒ¹é…</strong>çš„æœºåˆ¶ã€‚</p><p>å†ä¸¾ä¸ªä¾‹å­ï¼šå‡è®¾ä½ ç”µè„‘çš„IPåœ°å€æ˜¯ï¼š<code>192.168.1.100</code>ï¼Œå­ç½‘æ©ç æ˜¯ï¼š<code>255.255.255.0</code>ã€‚ä¹Ÿå°±æ˜¯è¯´ä½ çš„æœ¬åœ°ç½‘ç»œå·æ˜¯ï¼š<code>192.168.1.0/24</code>ã€‚ä¹Ÿå°±æ˜¯è¯´åªèƒ½ç›´æ¥è®¿é—®<code>192.168.1.x</code>çš„è®¾å¤‡ã€‚é™¤æ­¤ä¹‹å¤–æ‰€æœ‰çš„IPåœ°å€éƒ½å±äºå¤–éƒ¨ç½‘ç»œï¼Œéœ€è¦äº¤ç»™é»˜è®¤è·¯ç”±çš„ç½‘å…³è½¬å‘ç»™å¤–éƒ¨ç½‘ç»œã€‚</p><p>äº‹å®ä¸Šï¼Œä¸¤å°è®¡ç®—æœºè¦é€šè®¯ï¼Œé¦–å…ˆè¦åˆ¤æ–­çš„å°±æ˜¯æ˜¯å¦å¤„äºåŒä¸€ä¸ªå¹¿æ’­åŸŸå†…ï¼Œå³ç½‘ç»œåœ°å€ï¼ˆç½‘ç»œå·ï¼‰æ˜¯å¦ç›¸åŒï¼š</p><ul><li>å¦‚æœç½‘ç»œåœ°å€ç›¸åŒï¼Œè¡¨æ˜æ¥å—æ–¹åœ¨æœ¬ç½‘ç»œä¸Šï¼ˆ<strong>æœ¬åœ°ç½‘ç»œä¸»æœº</strong>ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥æŠŠæ•°æ®åŒ…ç›´æ¥å‘é€åˆ°ç›®æ ‡ä¸»æœºï¼Œæ— éœ€è½¬å‘ç»™å…¶ä»–çš„ç½‘ç»œã€‚</li><li>ç½‘ç»œå·ä¸ç›¸åŒçš„ä¸»æœºç§°ä¹‹ä¸º<strong>è¿œç¨‹ç½‘ç»œä¸»æœº</strong>ï¼Œè¿œç¨‹ç½‘ç»œä¸­çš„ä¸»æœºè¦ç›¸äº’é€šä¿¡å¿…é¡»é€šè¿‡<strong>æœ¬åœ°ç½‘å…³</strong>(GateWay)æ¥ä¼ é€’è½¬å‘æ•°æ®ã€‚</li></ul><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå½“è®¾å¤‡éœ€è¦ä¸æœ¬åœ°å­ç½‘ä¹‹å¤–çš„ç½‘ç»œï¼ˆæ¯”å¦‚äº’è”ç½‘ï¼‰é€šä¿¡æ—¶ï¼Œä¼šä½¿ç”¨é»˜è®¤è·¯ç”±ã€‚é»˜è®¤è·¯ç”±æ˜¯è·¯ç”±è¡¨ä¸­å”¯ä¸€ä¸æŒ‡å®šå…·ä½“ç›®æ ‡ç½‘ç»œçš„è·¯ç”±æ¡ç›®ï¼Œå…¶ç½‘ç»œç›®æ ‡æ˜¯0.0.0.0ã€‚ä»»ä½•æ— æ³•é€šè¿‡æ›´ç²¾ç¡®åŒ¹é…æ‰¾åˆ°ç›®æ ‡åœ°å€çš„æµé‡éƒ½ä¼šè¢«å¼•å¯¼åˆ°é»˜è®¤è·¯ç”±ã€‚</p><h1 id="ip-åœ°å€">IP åœ°å€</h1><p>å¸¸è§çš„IPåœ°å€åˆ†ä¸ºIPv4ä¸IPv6ä¸¤å¤§ç±»ï¼ŒIPåœ°å€ç”±ä¸€ä¸²æ•°å­—ç»„æˆã€‚IPv4ä¸º<code>32</code>ä½é•¿ï¼Œé€šå¸¸ä¹¦å†™æ—¶ä»¥å››ç»„åè¿›åˆ¶æ•°å­—ç»„æˆï¼Œå¹¶ä»¥ç‚¹åˆ†éš”ï¼Œå¦‚ï¼š<code>172.16.254.1</code>ï¼›IPv6ä¸º<code>128</code>ä½é•¿ï¼Œé€šå¸¸ä¹¦å†™æ—¶ä»¥å…«ç»„åå…­è¿›åˆ¶æ•°å­—ç»„æˆï¼Œä»¥å†’å·åˆ†å‰²ï¼Œå¦‚ï¼š<code>2001:db8:0:1234:0:567:8:1</code>ã€‚</p><h2 id="ipv4">IPv4</h2><p>1981å¹´ï¼ŒIETFå®šä¹‰äº†32ä½IPåœ°å€çš„IPv4ã€‚éšç€äº’è”ç½‘çš„å¿«é€Ÿæˆé•¿ï¼ŒIPv4çš„42äº¿ä¸ªåœ°å€æœ€ç»ˆäº2011å¹´2æœˆ3æ—¥ç”¨å°½ã€‚</p><p>IPv4åœ°å€å¯åˆ†ä¸ºAã€Bã€Cã€Dã€Eäº”å¤§ç±»ï¼Œå…¶ä¸­Eç±»å±äºç‰¹æ®Šä¿ç•™åœ°å€ã€‚</p><table><thead><tr><th>IP ç¬¬ä¸€æ®µèŒƒå›´</th><th>å±äºå“ªä¸€ç±»</th></tr></thead><tbody><tr><td>1 ~ 126</td><td>A ç±»</td></tr><tr><td>128 ~ 191</td><td>B ç±»</td></tr><tr><td>192 ~ 223</td><td>C ç±»</td></tr><tr><td>224 ~ 239</td><td>D ç±»ï¼ˆç»„æ’­ï¼‰</td></tr><tr><td>240 ~ 255</td><td>E ç±»ï¼ˆå®éªŒï¼‰</td></tr></tbody></table><p>è‡³äºè¿™æ ·åˆ’åˆ†çš„åŸå› ï¼Œçœ‹çœ‹ä¸‹é¢è¿™å¼ å›¾å°±æ˜ç™½äº†ï¼š</p><p><img src="https://s21.ax1x.com/2025/05/11/pEX9idg.png" /></p><p>å…¶ä¸­å¯ä»¥åˆ†é…ç»™ä¸»æœºä½¿ç”¨çš„æ˜¯Aã€Bã€Cç±»åœ°å€ã€‚Dç±»ç”¨äºç»„æ’­ï¼ˆMulticastï¼‰ï¼Œæ— å­ç½‘æ©ç ï¼›Eç±»ç”¨äºå®éªŒï¼Œä¹Ÿæ²¡æœ‰å­ç½‘æ©ç ã€‚</p><p>åœ¨Aç±»ã€Bç±»ã€Cç±»IPåœ°å€ä¸­ï¼Œå¦‚æœä¸»æœºå·æ˜¯å…¨1ï¼Œé‚£ä¹ˆè¿™ä¸ªåœ°å€ä¸º<strong>ç›´æ¥å¹¿æ’­åœ°å€</strong>ï¼Œä»£è¡¨æ‰€æœ‰ä¸»æœºï¼Œå®ƒæ˜¯ç”¨æ¥ä½¿è·¯ç”±å™¨å°†ä¸€ä¸ªåˆ†ç»„ä»¥å¹¿æ’­å½¢å¼å‘é€ç»™ç‰¹å®šç½‘ç»œä¸Šçš„æ‰€æœ‰ä¸»æœºã€‚</p><p>å¦‚æœä¸»æœºå·å…¨ä¸º0ï¼Œé‚£ä¹ˆå®ƒä»£è¡¨çš„æ˜¯æŸä¸€ä¸ªç½‘ç»œï¼Œä¸æ˜¯å¯åˆ†ç±»ç»™ä¸»æœºçš„ç½‘ç»œå·ã€‚</p><p><strong>å—é™å¹¿æ’­åœ°å€</strong>ï¼ˆlimited broadcast addressï¼‰æ˜¯æŒ‡ IPv4åœ°å€<code>255.255.255.255</code>ã€‚å®ƒä»…ç”¨äºå‘å½“å‰æœ¬åœ°ç½‘ç»œä¸­çš„æ‰€æœ‰ä¸»æœºå‘é€æ¶ˆæ¯ï¼Œè·¯ç”±å™¨ä¸ä¼šè¯¥åœ°å€çš„å¹¿æ’­ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Computer Networking</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>TCPåè®®</title>
    <link href="/2025/05/10/TCP%E5%8D%8F%E8%AE%AE/"/>
    <url>/2025/05/10/TCP%E5%8D%8F%E8%AE%AE/</url>
    
    <content type="html"><![CDATA[<p>ç¼“æ…¢æŒç»­æ›´æ–°ing</p><p>ä¸»è¦å‚è€ƒï¼šwiki å’Œ å°æ—codingï¼Œä»¥åŠ<ahref="https://www.cnblogs.com/jojop/p/14111160.html">è¿™ç¯‡åšå®¢</a></p><h1 id="tcp-æŠ¥æ–‡å¤´éƒ¨æ ¼å¼">TCP æŠ¥æ–‡å¤´éƒ¨æ ¼å¼</h1><p>ä¸€ä¸ª TCP æŠ¥æ–‡ï¼ˆTCP segmentï¼‰ æ˜¯ TCPåè®®åœ¨ç½‘ç»œä¸­ä¼ è¾“çš„åŸºæœ¬å•ä½ã€‚å®ƒæœ‰ä¸€ä¸ª<strong>å›ºå®šæ ¼å¼çš„å¤´éƒ¨</strong>ï¼ˆHeaderï¼‰å’Œä¸€ä¸ª<strong>å¯å˜é•¿åº¦çš„æ•°æ®éƒ¨åˆ†</strong>ï¼ˆPayloadï¼‰ã€‚</p><figure><img src="https://s21.ax1x.com/2025/05/10/pEODgrd.png"alt="TCPå¤´éƒ¨æ ¼å¼" /><figcaption aria-hidden="true">TCPå¤´éƒ¨æ ¼å¼</figcaption></figure><h2 id="æºç«¯å£å·å’Œç›®æ ‡ç«¯å£å·">æºç«¯å£å·å’Œç›®æ ‡ç«¯å£å·</h2><ul><li><code>Source Port</code>: 16ä½ï¼Œæºç«¯å£å·ï¼Œæ ‡è¯†å‘é€ç«¯å£ã€‚</li><li><code>Destination Port</code>: 16ä½ï¼Œæ ‡è¯†æ¥æ”¶ç«¯å£</li></ul><h2 id="åºåˆ—å·">åºåˆ—å·</h2><ul><li><code>Sequence Number</code>ï¼š32ä½ï¼Œåºå·ï¼ˆæˆ–è€…åºåˆ—å·ï¼‰ï¼Œæœ‰åŒé‡ä½œç”¨ï¼š<ul><li>å¦‚æœ SYNæ ‡å¿—ä½ä¸º1ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯åˆå§‹åºåˆ—å·ã€‚å®é™…çš„ç¬¬ä¸€ä¸ªæ•°æ®å­—èŠ‚çš„åºåˆ—å·ä»¥åŠç›¸åº”ACK ä¸­çš„ç¡®è®¤å·ï¼ˆacknowledged numberï¼Œä¹Ÿå«ACKå·ï¼‰éƒ½ç­‰äºæ­¤åºåˆ—å·åŠ 1ã€‚</li><li>å¦‚æœ SYN æ ‡å¿—ä½ä¸º 0ï¼Œé‚£ä¹ˆè¿™ä¸ªåºåˆ—å·å°±æ˜¯å½“å‰ä¼šè¯ä¸­çš„è¿™ä¸ª segmentä¸­ç¬¬ä¸€ä¸ªæ•°æ®çš„ç´¯è®¡å­—èŠ‚åºå·ã€‚è¿™ä¸»è¦æ˜¯å› ä¸ºåœ¨ TCP è¿æ¥å·²ç»å»ºç«‹ä¹‹åï¼ŒSYNå°±ä¸å†ä½¿ç”¨äº†ï¼ˆä¸º 0ï¼‰ã€‚</li></ul></li></ul><h2 id="æ•°æ®åç§»é‡">æ•°æ®åç§»é‡</h2><ul><li><code>Data Offset</code>(DOffset): 4ä½ï¼Œæ•°æ®åç§»é‡ï¼Œç”¨æŒ‡å®š TCPå¤´çš„sizeï¼Œä»¥wordï¼ˆ32-bitï¼Œå³4å­—èŠ‚ï¼‰ä¸ºå•ä½ã€‚TCP å¤´çš„æœ€å°é•¿åº¦æ˜¯ 5wordsï¼ˆå› ä¸ºå›ºå®šéƒ¨åˆ†çš„ TCP æŠ¥æ–‡å¤´æ­£å¥½æ˜¯ 5 ä¸ª wordï¼‰ï¼Œæœ€å¤§æ˜¯ 15wordsï¼Œå› æ­¤æœ€å°æ˜¯ 20 å­—èŠ‚ï¼Œæœ€å¤§æ˜¯ 60 å­—èŠ‚ï¼ŒæŠ¥å¤´æœ€å¤šå¯ä»¥å®¹çº³ 40å­—èŠ‚çš„é€‰é¡¹ï¼ˆoptionsï¼‰å­—æ®µã€‚è¿™ä¸ªå­—æ®µä¹‹æ‰€ä»¥å«â€œoffsetâ€ï¼Œæ˜¯å› ä¸ºå®ƒä¹Ÿè¡¨ç¤ºä»TCP æ®µèµ·å§‹å¤„ åˆ° å®é™…æ•°æ®å¼€å§‹ä½ç½®(Data) çš„åç§»é‡ã€‚</li></ul><h2 id="ä¿ç•™ä½">ä¿ç•™ä½</h2><ul><li><code>Reserved</code>(Rsrvd): 4 bits, ä¿ç•™ä½ï¼Œä¾›æœªæ¥ä½¿ç”¨ï¼Œåº”å½“è®¾ç½®ä¸º0.åœ¨æ²¡æœ‰è¿›ä¸€æ­¥çš„è§„èŒƒçš„æƒ…å†µä¸‹ï¼Œå‘é€æ–¹ä¸åº”è¯¥è®¾ç½®è¿™äº›ä½ï¼Œæ¥æ”¶æ–¹ä¹Ÿåº”å½“å¿½ç•¥ä»–ä»¬ï¼ˆå°±ç®—è¢«ä¸æ…è®¾ç½®äº†ï¼‰ã€‚</li></ul><h2 id="çŠ¶æ€ä½">çŠ¶æ€ä½</h2><ul><li><code>Flags</code>: 8 bits, 8ä½çŠ¶æ€ä½ï¼ŒåŒ…å«ä»¥ä¸‹ 8 ä¸ªæ ‡å¿—ä½ï¼š<ul><li><code>CWR</code>(Congestion window reduced):<strong>æ‹¥å¡çª—å£å·²å‡å°‘</strong>æ ‡å¿—ï¼Œç”±<strong>å‘é€æ–¹</strong>è®¾ç½®ï¼Œä»¥è¡¨æ˜å®ƒæ”¶åˆ°äº†è®¾ç½®äº†ECE æ ‡å¿—çš„ TCPæ®µï¼Œå¹¶ä¸”å·²ç»æ ¹æ®æ‹¥å¡æ§åˆ¶æœºåˆ¶ä½œå‡ºäº†å“åº”ã€‚å®ƒçš„ä½œç”¨æ˜¯ï¼šå‘é€æ–¹å‘Šè¯‰æ¥æ”¶æ–¹â€œæˆ‘çŸ¥é“ç½‘ç»œæ‹¥å¡äº†ï¼Œæˆ‘å·²ç»å‡å°äº†å‘é€çª—å£â€ã€‚<strong>æœ‰çš„å›¾è§£ä¼šæŠŠ<code>CWR</code>å½’å…¥ä¿ç•™ä½</strong>ã€‚</li><li><code>ECE</code>(ECN-Echo): 1 bit, ECNå›æ˜¾æ ‡å¿—å…·æœ‰åŒé‡ä½œç”¨ï¼Œå…¶å«ä¹‰å–å†³äº SYN æ ‡å¿—ä½ï¼š<ul><li>å¦‚æœ SYN æ ‡å¿—ä½ä¸º1ï¼Œè¡¨ç¤ºè¯¥ TCP peer æ”¯æŒ ECN åŠŸèƒ½</li><li>å¦‚æœ SYN æ ‡å¿—ä½ä¸º0ï¼Œåˆ™åœ¨æ­£å¸¸ä¼ è¾“æœŸé—´æ¥æ”¶åˆ°äº† IPæ ‡å¤´ä¸­è®¾ç½®äº†æ‹¥å¡ç»å†æ ‡å¿—ï¼ˆ<code>ECN=11</code>ï¼‰çš„æ•°æ®åŒ…ã€‚è¿™å‘Šè¯‰ TCPå‘é€æ–¹ç½‘ç»œå·²ç»å‘ç”Ÿæˆ–å³å°†å‘ç”Ÿæ‹¥å¡ã€‚<strong>æœ‰çš„å›¾è§£ä¼šæŠŠ<code>ECE</code>å½’å…¥ä¿ç•™ä½</strong>ã€‚</li></ul></li><li><code>URG</code>, 1 bit, è¡¨ç¤º â€œç´§æ€¥æŒ‡é’ˆï¼ˆUrgentPointerï¼‰â€å­—æ®µæ˜¯æœ‰æ•ˆçš„ã€‚å½“ URG æ ‡å¿—ä½ç½®ä¸º 1 æ—¶ï¼Œè¯´æ˜å½“å‰è¿™ä¸ª TCPæŠ¥æ–‡ä¸­æœ‰â€œç´§æ€¥æ•°æ®â€ï¼›æ­¤æ—¶ï¼Œç´§æ€¥æŒ‡é’ˆå­—æ®µå‘Šè¯‰æ¥æ”¶æ–¹ï¼šç´§æ€¥æ•°æ®åœ¨æ•°æ®æ®µä¸­ç»“æŸçš„ä½ç½®ã€‚é€šå¸¸ç”¨äºtelnet ç­‰è€æ—§åè®®ï¼Œ<strong>ç°åœ¨å¾ˆå°‘ç”¨</strong>ã€‚</li><li><code>ACK</code>: 1 bit, æŒ‡ç¤ºç¡®è®¤å­—æ®µæœ‰æ•ˆã€‚<strong>å®¢æˆ·ç«¯å‘é€åˆå§‹SYNæ•°æ®åŒ…ä¹‹åçš„æ‰€æœ‰æ•°æ®åŒ…éƒ½åº”è®¾ç½®æ­¤æ ‡å¿—</strong>ã€‚å³ï¼Œåªæœ‰å®¢æˆ·ç«¯è¯·æ±‚è¿æ¥çš„ç¬¬ä¸€æ¬¡æ¡æ‰‹æ—¶ä¸ç”¨è®¾ç½®ACKæ ‡å¿—ä½ï¼Œæ¯•ç«Ÿåœ¨æ­¤ä¹‹å‰å®¢æˆ·ç«¯è¿˜æ²¡æœ‰æ”¶åˆ°è¿‡ä¿¡æ¯ã€‚</li><li><code>PSH</code>: 1 bit, è¡¨ç¤ºâ€œæ¨é€åŠŸèƒ½ï¼ˆPushFunctionï¼‰â€ï¼Œè¯·æ±‚å°†ç¼“å†²æ•°æ®ç«‹å³æ¨é€åˆ°æ¥æ”¶åº”ç”¨ç¨‹åºã€‚</li><li><code>RST</code>: 1 bit, é‡æ–°è¿æ¥ã€‚</li><li><code>SYN</code>: 1 bit,åŒæ­¥åºåˆ—å·ã€‚<strong>åªæœ‰åœ¨å‰ä¸¤æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹åº”è®¾ç½®æ­¤æ ‡å¿—</strong>ã€‚ä¸€äº›å…¶ä»–çš„æ ‡å¿—ä½å’Œå­—æ®µæ ¹æ®SYN æ”¹å˜å«ä¹‰ï¼Œæœ‰çš„åªæœ‰åœ¨SYNä¸º1æ—¶æœ‰æ•ˆï¼Œæœ‰çš„åªæœ‰åœ¨SYNæ¸…ç©ºæœ‰æ•ˆã€‚</li><li><code>FIN</code>: 1 bit, è¡¨ç¤ºå‘é€æ–¹çš„æœ€åä¸€ä¸ªæ•°æ®åŒ…ï¼Œ<strong>ç”¨äºTCP è¿æ¥çš„æ­£å¸¸å…³é—­</strong>ã€‚å½“ä¸€ä¸ªä¸»æœºå‘é€å¸¦æœ‰ FIN=1 çš„ TCPæŠ¥æ–‡æ—¶ï¼Œå®ƒè¡¨ç¤ºä¸»æœºè¯·æ±‚æ–­å¼€è¿æ¥ï¼Œç„¶åå›è¿›å…¥ç»ˆæ­¢è¿æ¥çš„å››æ¬¡æŒ¥æ‰‹è¿›ç¨‹ã€‚</li></ul></li></ul><h2 id="çª—å£">çª—å£</h2><ul><li>16ä½ï¼Œæ¥æ”¶çª—å£çš„å¤§å°ï¼Œè¡¨ç¤ºæœ¬æŠ¥æ–‡æ®µçš„<strong>å‘é€æ–¹</strong>ç›®å‰æ„¿æ„æ¥æ”¶çš„çª—å£å¤§å°å•ä½æ•°ã€‚ï¼ˆè¯¦è§â€œæµé‡æ§åˆ¶â€å’Œâ€œçª—å£ç¼©æ”¾â€éƒ¨åˆ†ï¼‰ã€‚</li></ul><h2 id="æ ¡éªŒå’Œ">æ ¡éªŒå’Œ</h2><p><code>Checksum</code>: 16 bitsï¼Œ 16 ä½æ ¡éªŒå’Œå­—æ®µç”¨äºå¯¹ TCPæŠ¥å¤´ã€æœ‰æ•ˆè½½è·(payload)å’Œ IPä¼ªæŠ¥å¤´(pseudo-header)è¿›è¡Œé”™è¯¯æ ¡éªŒã€‚ä¼ªæŠ¥å¤´ç”±æº IP åœ°å€ã€ç›®æ ‡ IP åœ°å€ã€TCPåè®®å· (6) ä»¥åŠ TCPæŠ¥å¤´å’Œæœ‰æ•ˆè½½è·çš„é•¿åº¦ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ç»„æˆã€‚å…·ä½“è§<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="https://en.wikipedia.org/wiki/Internet_checksum">[1]</span></a></sup></p><p>payload data:æœ‰æ•ˆè½½è·æ•°æ®ï¼Œåœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼ŒæŒ‡ä¼ è¾“çš„æ•°æ®ä¸­é™¤å»åè®®å¤´å’Œæ ¡éªŒç ç­‰æ§åˆ¶ä¿¡æ¯ä¹‹å¤–çš„å®é™…æ•°æ®éƒ¨åˆ†ã€‚</p><h2 id="ç´§æ€¥æŒ‡é’ˆ">ç´§æ€¥æŒ‡é’ˆ</h2><p><code>Urgent Pointer</code>: 16 bits, å¦‚æœè®¾ç½®äº† URG æ ‡å¿—ï¼Œåˆ™æ­¤ 16ä½å­—æ®µæ˜¯ç›¸å¯¹äºæŒ‡ç¤ºæœ€åä¸€ä¸ªç´§æ€¥æ•°æ®å­—èŠ‚çš„åºåˆ—å·çš„åç§»é‡ã€‚<strong>ç°ä»£åè®®å‡ ä¹ä¸ä½¿ç”¨URGå’Œç´§æ€¥æŒ‡é’ˆ</strong>ã€‚</p><h2 id="é€‰é¡¹">é€‰é¡¹</h2><p>é€‰é¡¹ï¼ˆ<code>TCP Option</code>ï¼‰ï¼šé•¿åº¦å¯å˜ï¼Œ0â€“320 ä½ï¼ˆå³ 0â€“40å­—èŠ‚ï¼‰ï¼Œå•ä½æ˜¯ 32 ä½ï¼ˆ4 å­—èŠ‚ï¼‰ï¼› å…¶å¤§å°ç”± TCP æŠ¥æ–‡å¤´çš„ Data Offsetå­—æ®µå†³å®šï¼Œè®¡ç®—å…¬å¼æ˜¯ï¼š <figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mathematica"><span class="hljs-built_in">Options</span> å­—æ®µå¤§å° <span class="hljs-operator">=</span> <span class="hljs-punctuation">(</span><span class="hljs-variable">Data</span> <span class="hljs-built_in">Offset</span> <span class="hljs-operator">-</span> <span class="hljs-number">5</span><span class="hljs-punctuation">)</span> Ã— <span class="hljs-number">32</span> ä½<br></code></pre></td></tr></table></figure></p><p>å¦‚æœè¿™ä¸ªå­—æ®µå­˜åœ¨ï¼Œæ•°æ®åç§»é‡å°†å¤§äº 5 wordsã€‚å› ä¸º Data Offsetè¡¨ç¤ºçš„æ˜¯ä»¥ wordï¼ˆ32 ä½ï¼‰ä¸ºå•ä½çš„ TCPå¤´éƒ¨é•¿åº¦ï¼Œæ‰€ä»¥å¿…é¡»é€šè¿‡åœ¨æœ«å°¾æ·»åŠ å¡«å…… 0ï¼Œå°† TCP å¤´éƒ¨é•¿åº¦å¡«å……ä¸º 4å­—èŠ‚çš„æ•´æ•°å€ã€‚</p><h1 id="ä¸‰æ¬¡æ¡æ‰‹">ä¸‰æ¬¡æ¡æ‰‹</h1><p>åœ¨ HTTP ä¼ è¾“æ•°æ®ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦ TCP å»ºç«‹è¿æ¥ï¼ŒTCPè¿æ¥çš„å»ºç«‹ï¼Œé€šå¸¸ç§°ä¸º<strong>ä¸‰æ¬¡æ¡æ‰‹</strong>ã€‚</p><p>å…ˆå¼„æ¸…æ¥šå‡ ä¸ªæ¦‚å¿µï¼š</p><ul><li><strong>åºåˆ—å·</strong>ï¼ˆSequenceNumberï¼‰ï¼šæ˜¯<strong>å‘é€æ–¹</strong>ä¸ºæ•°æ®æµä¸­çš„å­—èŠ‚æŒ‡å®šçš„â€œæ ‡è®°â€ï¼Œè¡¨ç¤ºå®ƒæ­£åœ¨å‘é€å“ªäº›å­—èŠ‚ã€‚å®ƒå‘Šè¯‰æ¥æ”¶æ–¹â€œ<strong>æˆ‘å‡†å¤‡ä»è¿™ä¸ªåºåˆ—å·å¼€å§‹ç»™ä½ å‘æ•°æ®</strong>â€ã€‚</li><li><strong>ç¡®è®¤å·</strong>ï¼ˆAcknowledgmentNumberï¼‰ï¼šæ˜¯<strong>æ¥æ”¶æ–¹</strong>å‘Šè¯‰å‘é€æ–¹å®ƒå·²ç»æˆåŠŸæ¥æ”¶åˆ°çš„å­—èŠ‚çš„<strong>ä¸‹ä¸€ä¸ªåºåˆ—å·</strong>ï¼Œè¡¨ç¤ºæ¥æ”¶æ–¹å·²ç»æ”¶åˆ°äº†æ‰€æœ‰å°äºè¯¥ç¡®è®¤å·çš„å­—èŠ‚ã€‚å®ƒå‘Šè¯‰å‘é€æ–¹â€œ<strong>æ¥ä¸‹æ¥æˆ‘å‡†å¤‡æ¥æ”¶ä»è¿™ä¸ªåºåˆ—å·å¼€å§‹çš„æ•°æ®</strong>â€ã€‚</li></ul><div class="note note-secondary">            <p>åœ¨å®¢æˆ·ç«¯å°è¯•è¿æ¥æœåŠ¡å™¨ä¹‹å‰ï¼ŒæœåŠ¡å™¨å¿…é¡»å…ˆç»‘å®šå¹¶ç›‘å¬æŸä¸ªç«¯å£ï¼Œä»¥ä¾¿å¼€æ”¾è¿æ¥ï¼šè¿™ç§°ä¸º<strong>è¢«åŠ¨å¼€å¯</strong>(passiveopen)ã€‚è¢«åŠ¨æ‰“å¼€å»ºç«‹åï¼Œå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹(three-way/3-stephandshake)å‘èµ·<strong>ä¸»åŠ¨å¼€å¯</strong>(active open)æ¥å»ºç«‹è¿æ¥ã€‚</p>          </div><p>ä¸‰æ¬¡æ¡æ‰‹çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol type="1"><li><strong>SYN</strong>ï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ SYN æŠ¥æ–‡ï¼ˆSYNæ ‡å¿—ä½è®¾ç½®ä¸º1ï¼‰ä¸»åŠ¨å¼€å¯è¿æ¥ã€‚å®¢æˆ·ç«¯æŠŠTCPæ®µçš„åºåˆ—å·è®¾ç½®ä¸ºä¸€ä¸ªéšæœºæ•°Aã€‚å› ä¸ºå®¢æˆ·ç«¯è¿˜æ²¡æœ‰å—åˆ°è¿‡æ¶ˆæ¯ï¼Œæ‰€ä»¥è¿™é‡Œä¸ç”¨è®¾ç½®ç¡®è®¤å·ï¼Œä¹Ÿä¸åŒ…å«ä»»ä½•åº”ç”¨å±‚çš„æ•°æ®ã€‚</li><li><strong>SYN-ACK</strong>ï¼šä½œä¸ºå›å¤ï¼ŒæœåŠ¡å™¨å“åº”äº†ä¸€ä¸ªSYN-ACKæŠ¥æ–‡ã€‚è¯¥TCPæ®µçš„ç¡®è®¤å·è¢«è®¾ç½®ä¸ºA+1ï¼Œè€Œåºåˆ—å·è¢«æœåŠ¡å™¨è®¾ç½®ä¸ºå¦ä¸€ä¸ªéšæœºæ•°Bã€‚åˆ°è¿™é‡Œå®¢æˆ·ç«¯å·²ç»å®Œæˆäº†ä¸€å‘ä¸€æ”¶ï¼Œæ‰€ä»¥å¤„äº<code>ESTABLISHED</code>çŠ¶æ€ã€‚</li><li><strong>ACK</strong>ï¼šæœ€åï¼Œå®¢æˆ·ç«¯æŠŠ ACKå‘é€ç»™æœåŠ¡å™¨ï¼Œè¿™æ—¶çš„åºåˆ—å·è®¾ç½®ä¸ºæ¥æ”¶åˆ°çš„ç¡®è®¤å·ï¼Œå³A+1ï¼Œè€Œç¡®è®¤å·è¢«è®¾ç½®æˆæ¥æ”¶åˆ°çš„åºåˆ—å·åŠ ä¸€ï¼Œå³B+1ã€‚<strong>è¿™æ¬¡æŠ¥æ–‡å¯ä»¥æºå¸¦å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„æ•°æ®</strong>ã€‚è‡³æ­¤æœåŠ¡å™¨ä¹Ÿå®Œæˆäº†ä¸€å‘ä¸€æ”¶ï¼Œä¹Ÿå¤„äº<code>ESTABLISHED</code>çŠ¶æ€ã€‚</li></ol><p><img src="https://s21.ax1x.com/2025/05/11/pEOHxFf.png" /></p><p>æ­¥éª¤1å’Œ2ä»å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„æ–¹å‘å»ºç«‹å’Œç¡®è®¤åºåˆ—å·ï¼Œæ­¥éª¤2å’Œæ­¥éª¤3ä»æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯çš„æ–¹å‘å»ºç«‹å’Œç¡®è®¤åºåˆ—å·ã€‚è¿™äº›æ­¥éª¤å®Œæˆä¹‹åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½å®Œæˆäº†ç¡®è®¤ï¼Œå…¨åŒå·¥é€šä¿¡æ­£å¼å»ºç«‹ã€‚</p><p>å¯è§ï¼Œä¸‰æ¬¡æ¡æ‰‹ç›®çš„æ˜¯ä¿è¯åŒæ–¹éƒ½æœ‰å‘é€å’Œæ¥æ”¶çš„èƒ½åŠ›ã€‚</p><h1 id="åˆ†å‰²æ•°æ®">åˆ†å‰²æ•°æ®</h1><p>TCPä¼ è¾“çš„æ•°æ®å½’æ ¹ç»“åº•è¿˜æ˜¯æ¥æºäºåº”ç”¨ç¨‹åºäº§ç”Ÿçš„HTTPè¯·æ±‚æ¶ˆæ¯ã€‚ä½†æ˜¯ï¼ŒTCPæ¯ä¸ªæ®µèƒ½ä¼ è¾“çš„æ•°æ®é•¿åº¦æ˜¯æœ‰æœ€å¤§é™åˆ¶çš„ï¼š</p><ul><li>MTUï¼šä¸€ä¸ªç½‘ç»œåŒ…ï¼ˆIPå¤´+TCPå¤´+æ•°æ®ï¼‰çš„æœ€å¤§é•¿åº¦ï¼Œä»¥å¤ªç½‘ä¸­ä¸€èˆ¬ä¸º1500å­—èŠ‚ã€‚</li><li>MSSï¼šé™¤å»IPå¤´å’ŒTCPå¤´ä¹‹åï¼Œä¸€ä¸ªç½‘ç»œåŒ…æ‰€èƒ½å®¹çº³çš„TCPæ•°æ®çš„æœ€å¤§é•¿åº¦ã€‚</li></ul><p>å¦‚æœæ•°æ®çš„é•¿åº¦è¶…è¿‡äº†<code>MSS</code>ï¼Œåˆ™ä¼šå°†æ•°æ®ä»¥<code>MSS</code>çš„é•¿åº¦ä¸ºå•ä½è¿›è¡Œåˆ‡åˆ†ï¼Œæ¯ä¸€å—éƒ½ä¼šè¢«æ”¾è¿›å•ç‹¬çš„ç½‘ç»œåŒ…ä¸­ï¼ŒåŠ ä¸ŠTCPå¤´éƒ¨åäº¤ç»™IPæ¨¡å—å‘é€å‡ºå»ã€‚</p><hr /><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€å¹¶å›è½¦åï¼Œæµè§ˆå™¨ä¼šå‘æœåŠ¡å™¨å‘èµ· HTTPè¯·æ±‚ï¼Œè¿™æ˜¯ä¸€æ®µçº¯æ–‡æœ¬æ•°æ®ï¼Œæµè§ˆå™¨å°†è¿™æ®µæ•°æ®äº¤ç»™æ“ä½œç³»ç»Ÿçš„åè®®æ ˆï¼Œæ“ä½œç³»ç»Ÿé€šè¿‡ä¸Šæ–‡è®²è¿°çš„TCPåè®®å»ºç«‹è¿æ¥ã€å‘é€ã€‚å¦‚æœæ•°æ®çš„é•¿åº¦è¶…è¿‡äº†<code>MSS</code>ï¼Œåˆ™ä¼šå°†æ•°æ®ä»¥<code>MSS</code>çš„é•¿åº¦ä¸ºå•ä½è¿›è¡Œåˆ‡åˆ†ï¼Œæ¯ä¸€å—éƒ½ä¼šè¢«æ”¾è¿›å•ç‹¬çš„ç½‘ç»œåŒ…ä¸­ï¼ŒåŠ ä¸ŠTCPå¤´éƒ¨åäº¤ç»™IPæ¨¡å—å‘é€å‡ºå»ã€‚è¿œç¨‹æœåŠ¡å™¨æ¥æ”¶åˆ°TCPæŠ¥æ–‡åï¼ŒTCPåè®®å±‚æŒ‰ç…§åºåˆ—å·é‡æ–°ç»„è£…æ•°æ®ï¼Œç„¶åæŠŠå®Œæ•´çš„HTTPè¯·æ±‚äº¤ç»™HTTPæœåŠ¡å™¨ç¨‹åºï¼Œæœ€åç”±æœåŠ¡å™¨è§£æå¹¶åšå‡ºå“åº”ï¼Œä¾‹å¦‚è¿”å›è¯·æ±‚çš„ç½‘é¡µå†…å®¹ã€‚è¿™å°±æ˜¯åœ¨æµè§ˆå™¨è¾“å…¥ç½‘å€åå‘ç”Ÿçš„äº‹æƒ…ã€‚</p><h1 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h1><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1"class="footnote-text"><span>https://en.wikipedia.org/wiki/Internet_checksum<a href="#fnref:1" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Computer Networking</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Java æŸ¥ç¼ºè¡¥æ¼</title>
    <link href="/2025/05/08/Java%E5%90%8E%E7%BB%AD%E9%97%AE%E9%A2%98%E8%A1%A5%E5%85%85/"/>
    <url>/2025/05/08/Java%E5%90%8E%E7%BB%AD%E9%97%AE%E9%A2%98%E8%A1%A5%E5%85%85/</url>
    
    <content type="html"><![CDATA[<h1 id="java-scanner">Java Scanner</h1><p><code>java.util.Scanner</code> æ˜¯ Java5 çš„æ–°ç‰¹å¾ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Scanner ç±»æ¥è·å–ç”¨æˆ·çš„è¾“å…¥ã€‚ACM æ¨¡å¼å¿…å¤‡ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šJUnitçš„æµ‹è¯•æ–¹æ³•ï¼ˆå¦‚<code>@Test</code>ï¼‰é»˜è®¤ä¸ä¼šè¿æ¥æ§åˆ¶å°ï¼ˆ<code>System.in</code>ï¼‰ï¼Œä¸€å®šè¦åœ¨<code>main()</code>æ–¹æ³•ä¸­è¿è¡Œã€‚</p><p>Scanner ç±»çš„UML å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://s21.ax1x.com/2025/05/07/pELmNqI.png" /></p><p>å®ƒå®ç°äº†<code>AutoCloseable</code>æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨try-with-resourcesè‡ªåŠ¨å…³é—­èµ„æºã€‚</p><p>åˆ›å»ºä¸€ä¸ª Scanner å¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Scanner</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br></code></pre></td></tr></table></figure><p><strong>æ¥æ”¶ String ç±»å‹è¾“å…¥</strong>ï¼š</p><ul><li><code>next()</code><ul><li>ä¸€å®šè¦è¯»å–åˆ°æœ‰æ•ˆå­—ç¬¦åæ‰å¯ä»¥ç»“æŸè¾“å…¥ã€‚</li><li>å¯¹è¾“å…¥æœ‰æ•ˆå­—ç¬¦ä¹‹å‰é‡åˆ°çš„ç©ºç™½ï¼Œ<code>next()</code>æ–¹æ³•ä¼šè‡ªåŠ¨å°†å…¶å»æ‰ã€‚</li><li>åªæœ‰è¾“å…¥æœ‰æ•ˆå­—ç¬¦åæ‰å°†å…¶åé¢è¾“å…¥çš„ç©ºç™½ä½œä¸ºåˆ†éš”ç¬¦æˆ–è€…ç»“æŸç¬¦ã€‚</li><li><code>next()</code> ä¸èƒ½å¾—åˆ°å¸¦æœ‰ç©ºæ ¼çš„å­—ç¬¦ä¸²ã€‚</li></ul></li><li><code>nextLine()</code><ul><li>ä»¥Enterä¸ºç»“æŸç¬¦,ä¹Ÿå°±æ˜¯è¯´<code>nextLine()</code>æ–¹æ³•è¿”å›çš„æ˜¯è¾“å…¥å›è½¦ä¹‹å‰çš„æ‰€æœ‰å­—ç¬¦ã€‚</li><li>å¯ä»¥è·å¾—ç©ºç™½</li></ul></li></ul><p><strong>æ¥æ”¶<code>int</code>ã€<code>long</code>ç±»å‹çš„è¾“å…¥</strong>ï¼Œå¯ä»¥ä½¿ç”¨<code>nextInt()</code>ã€<code>nextLong()</code>ç­‰ã€‚ä½†æ˜¯æœ‰ä»¥ä¸‹å‡ ç‚¹è¦æ³¨æ„çš„åœ°æ–¹ï¼š</p><ol type="1"><li>è¿™ç±»æ–¹æ³•ä¸ä¼šæ¶ˆè€—å›è½¦é”®äº§ç”Ÿçš„æ¢è¡Œç¬¦ï¼Œä½†æ˜¯<code>nextLine()</code>ä¼šè¯»å–æ¢è¡Œç¬¦ï¼Œæ‰€ä»¥åœ¨äºŒè€…æ··ç”¨çš„æ—¶å€™è¦æ³¨æ„ï¼š</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ScannerDemoTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scan</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br><br>        System.out.print(<span class="hljs-string">&quot;è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—ï¼š&quot;</span>);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> scan.nextInt();  <span class="hljs-comment">// è¾“å…¥ï¼š123</span><br><br>        System.out.print(<span class="hljs-string">&quot;è¯·è¾“å…¥ä¸€å¥è¯ï¼š&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">line</span> <span class="hljs-operator">=</span> scan.nextLine();  <span class="hljs-comment">// é—®é¢˜å‡ºåœ¨è¿™é‡Œ</span><br><br>        System.out.println(<span class="hljs-string">&quot;ä½ è¾“å…¥çš„æ•°å­—æ˜¯ï¼š&quot;</span> + num);<br>        System.out.println(<span class="hljs-string">&quot;ä½ è¾“å…¥çš„è¯æ˜¯ï¼š&quot;</span> + line);<br><br>        scan.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ§åˆ¶å°æ‰“å°ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—ï¼š123<br>è¯·è¾“å…¥ä¸€å¥è¯ï¼šä½ è¾“å…¥çš„æ•°å­—æ˜¯ï¼š123<br>ä½ è¾“å…¥çš„è¯æ˜¯ï¼š<br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼šè¾“å…¥<code>123</code>ï¼ŒæŒ‰ä¸‹å›è½¦é”®çš„æ—¶å€™ï¼Œ<code>123</code>èµ‹å€¼ç»™äº†<code>num</code>ï¼Œä¸æ­¤åŒæ—¶<code>line</code>æ¥æ”¶åˆ°å›è½¦ç¬¦ï¼Œå› æ­¤è¿˜æ²¡æ¥å¾—åŠè¾“å…¥ä¸€å¥è¯ç¨‹åºå°±ç»“æŸäº†ã€‚</p><p>è§£å†³æ–¹æ³•ï¼šåœ¨<code>int num = scan.nextInt();</code>åé¢ç´§è·Ÿä¸€ä¸ª<code>scan.nextLine()</code>ï¼ŒæŠŠå›è½¦å¸æ”¶æ‰ã€‚</p><ol start="2" type="1"><li><code>nextInt()</code>ç­‰æ¥æ”¶ç‰¹å®šæ•°æ®ç±»å‹<strong>ä¸èƒ½æ¥æ”¶å…¶ä»–ç±»å‹çš„æ•°æ®</strong>ï¼Œå¦åˆ™è¿è¡Œæ—¶ä¼šæŠ¥å¼‚å¸¸<code>Exception in thread "main" java.util.InputMismatchException</code>ï¼Œæ‰€ä»¥åœ¨æ¥æ”¶æ•°æ®ä¹‹å‰æœ€å¥½ä½¿ç”¨<code>hasNextInt()</code>åˆ¤æ–­è¾“å…¥çš„æ•°æ®æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚</li><li><code>nextInt</code>ã€<code>next()</code>ç­‰éƒ½å¯ä»¥æŠŠç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦ï¼Œè¿™æ ·æ–¹ä¾¿æˆ‘ä»¬åœ¨ä¸€è¡Œå†…è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ¯”å¦‚å¯¹äºä¸‹é¢è¿™ç§è¾“å…¥æ ¼å¼</li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">3<br>1 4 5 -1<br>1 3 4 -1<br>2 6 -1<br></code></pre></td></tr></table></figure><p>åˆ©ç”¨<code>nextInt()</code>å’Œé€‚å½“çš„æ¡ä»¶åˆ¤æ–­å°±èƒ½æå®šã€‚</p><h1 id="æµ‹è¯•ç±»çš„å‘½å">æµ‹è¯•ç±»çš„å‘½å</h1><p>ä½¿ç”¨å•å…ƒæµ‹è¯•JUnitæ—¶ï¼Œå¦‚æœæµ‹è¯•ç±»çš„å‘½åä¸è§„èŒƒï¼Œé‚£ä¹ˆIDEAä¼šæŠ¥è­¦å‘Šï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">Test class name &#x27;methodTest&#x27; doesn&#x27;t match regex &#x27;[A-Z][A-Za-z\d]*Test(s|Case)?|Test[A-Z][A-Za-z\d]*|IT(.*)|(.*)IT(Case)?&#x27;<br></code></pre></td></tr></table></figure><p>æŸäº›æµ‹è¯•æ¡†æ¶ï¼ˆå¦‚ Maven Surefireã€JUnitã€IDEæ’ä»¶ï¼‰ä¼šç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥è‡ªåŠ¨è¯†åˆ«å“ªäº›ç±»æ˜¯â€œæµ‹è¯•ç±»â€ã€‚</p><p>ä¸Šé¢è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼è§„å®šäº†æµ‹è¯•ç±»å¿…é¡»ç¬¦åˆä»¥ä¸‹æ ¼å¼ä¹‹ä¸€ï¼š</p><ul><li>ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œå¹¶ä»¥ Testã€Tests æˆ– TestCase ç»“å°¾ï¼Œå¦‚ï¼š<ul><li>LoginTest</li><li>CalculatorTests</li><li>NetworkTestCase</li></ul></li><li>æˆ–è€… ä»¥ Test å¼€å¤´ï¼Œå¦‚ï¼š<ul><li>TestLogin</li><li>TestConnectionManager</li></ul></li><li>æˆ–è€…åŒ…å« ITï¼ˆé€šå¸¸ä»£è¡¨é›†æˆæµ‹è¯•ï¼‰ï¼š<ul><li>UserServiceIT</li><li>ITLoginFlow</li></ul></li></ul><h1 id="å®ç”¨æ–¹æ³•">å®ç”¨æ–¹æ³•</h1><h2 id="split">split</h2><p>å®šä¹‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> String[] split(String regex) &#123;<br>    <span class="hljs-keyword">return</span> split(regex, <span class="hljs-number">0</span>, <span class="hljs-literal">false</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½œç”¨ï¼šæ ¹æ®ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼åˆ†å‰²å­—ç¬¦ä¸²ã€‚</p><ul><li><code>å‚æ•°</code>ï¼šå®šç•Œæ­£åˆ™è¡¨è¾¾å¼</li><li><code>è¿”å›å€¼</code>ï¼šæ ¹æ®ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼åˆ†å‰²å¾—åˆ°çš„<code>String[]</code>æ•°ç»„</li></ul><p>ä¸¾ä¾‹ï¼šè¾“å…¥ IPåœ°å€å’Œå­ç½‘æ©ç ï¼Œè¾“å‡ºç½‘ç»œåœ°å€å’Œä¸»æœºåœ°å€ã€‚ç¬¬ä¸€æ­¥ä»ç»™å®šçš„å­—ç¬¦ä¸²ä¸­æå–æ•°å­—çš„è¿‡ç¨‹å¯ä»¥ç”¨<code>split</code>å®Œæˆï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span>[] parse(String str) &#123;<br>    String[] newStr = str.split(<span class="hljs-string">&quot;\\.&quot;</span>);<br>    <span class="hljs-type">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">4</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++) &#123;<br>        result[i] = Integer.parseInt(newStr[i]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œä»¥ä¸‹å•å…ƒæµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;192.168.1.10&quot;</span>;<br>    <span class="hljs-type">int</span>[] result = parse(s);<br>    System.out.println(Arrays.toString(result));<br>    <span class="hljs-comment">// [192, 168, 1, 10]</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å¯è§åŸå­—ç¬¦ä¸²ä¸­çš„å°æ•°ç‚¹å·²ç»è¢«æˆåŠŸå»æ‰ï¼Œå››ä¸ªæ•°å­—è¢«è½¬æ¢æˆæ•´å‹å˜é‡ä¿å­˜åœ¨äº†æ•°ç»„ä¸­ã€‚</p><p>å°æ•°ç‚¹å±äºæ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦ï¼Œ<code>.</code>ç”¨äºåŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œæƒ³åŒ¹é…å®ƒæœ¬èº«å¿…é¡»åœ¨å‰é¢åŠ ä¸Š<code>\\</code>ã€‚æ‰€ä»¥å¿…é¡»ç”¨<code>"\\."</code>æ¥è¡¨ç¤ºåŒ¹é…å°æ•°ç‚¹ã€‚ç±»ä¼¼çš„ç‰¹æ®Šå­—ç¬¦è¿˜æœ‰ï¼š</p><table><thead><tr><th>å­—ç¬¦</th><th>å«ä¹‰</th><th>åŒ¹é…è‡ªèº«éœ€å†™ä½œ</th></tr></thead><tbody><tr><td><code>.</code></td><td>åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼ˆé™¤æ¢è¡Œï¼‰</td><td><code>\\.</code></td></tr><tr><td><code>*</code></td><td>åŒ¹é…å‰é¢çš„å†…å®¹é›¶æ¬¡æˆ–å¤šæ¬¡</td><td><code>\\*</code></td></tr><tr><td><code>+</code></td><td>åŒ¹é…å‰é¢çš„å†…å®¹ä¸€æ¬¡æˆ–å¤šæ¬¡</td><td><code>\\+</code></td></tr><tr><td><code>?</code></td><td>åŒ¹é…å‰é¢çš„å†…å®¹é›¶æ¬¡æˆ–ä¸€æ¬¡</td><td><code>\\?</code></td></tr><tr><td><code>^</code></td><td>åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´</td><td><code>\\^</code></td></tr><tr><td><code>$</code></td><td>åŒ¹é…å­—ç¬¦ä¸²çš„ç»“å°¾</td><td><code>\\$</code></td></tr><tr><td><code>[</code></td><td>å¼€å§‹ä¸€ä¸ªå­—ç¬¦ç±»</td><td><code>\\[</code></td></tr><tr><td><code>]</code></td><td>ç»“æŸä¸€ä¸ªå­—ç¬¦ç±»</td><td><code>\\]</code></td></tr><tr><td><code>&#123;</code></td><td>æŒ‡å®šåŒ¹é…æ¬¡æ•°ï¼ˆå¦‚ <code>&#123;3&#125;</code>ï¼‰</td><td><code>\\&#123;</code></td></tr><tr><td><code>&#125;</code></td><td>ç»“æŸæŒ‡å®šæ¬¡æ•°</td><td><code>\\&#125;</code></td></tr><tr><td><code>(</code></td><td>å¼€å§‹ä¸€ä¸ªåˆ†ç»„</td><td><code>\\(</code></td></tr><tr><td><code>)</code></td><td>ç»“æŸä¸€ä¸ªåˆ†ç»„</td><td><code>\\)</code></td></tr><tr><td><code>\|</code></td><td>é€»è¾‘â€œæˆ–â€</td><td><code>\\\|</code></td></tr><tr><td><code>\\</code></td><td>è½¬ä¹‰ç¬¦æœ¬èº«</td><td><code>\\\\</code></td></tr></tbody></table><h2 id="replaceall">replaceAll</h2><p>ä½¿ç”¨åœºæ™¯ï¼š<ahref="https://leetcode.cn/problems/serialize-and-deserialize-binary-tree/">äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</a></p><p>åºåˆ—åŒ–ï¼Œä½¿ç”¨<code>StringBuilder</code>å¾—åˆ°ç»“æœä¹‹åï¼Œéœ€è¦åˆ é™¤å°¾éƒ¨å¤šä½™çš„<code>null</code>ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨<code>replaceAll</code></p><p>è¯­æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">newString</span> <span class="hljs-operator">=</span> originalString.replaceAll(String regex, String replacement);<br></code></pre></td></tr></table></figure><ul><li><code>regex</code>ï¼šè¦åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆpatternï¼‰</li><li>`replacementï¼šç”¨äºæ›¿æ¢çš„å­—ç¬¦ä¸²</li></ul><p>åœ¨è¿™é“ç®—æ³•ä¸­çš„ä½¿ç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> sb.toString();<br><br><span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> res.replaceAll(<span class="hljs-string">&quot;(null,)+$&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<br><br><span class="hljs-keyword">if</span>(result.endsWith(<span class="hljs-string">&quot;,&quot;</span>))<br>    result = result.substring(<span class="hljs-number">0</span>, result.length()-<span class="hljs-number">1</span>);<br><br><span class="hljs-keyword">return</span> result+<span class="hljs-string">&quot;]&quot;</span>;<br></code></pre></td></tr></table></figure><ul><li>æ­£åˆ™è¡¨è¾¾å¼<code>"(null,)+$"</code><ul><li><code>(null,)+</code>ï¼šåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ª<code>"null,"</code>ã€‚<code>+</code>æ˜¯å®šä½ç¬¦ï¼Œè¡¨ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªåŒ¹é…ã€‚</li><li><code>$</code>è¡¨ç¤ºä»æ–‡æœ¬çš„æœ«å°¾ä½ç½®å¼€å§‹åŒ¹é…ã€‚</li></ul></li></ul><p>æ‰€ä»¥è¯¥æ­£åˆ™çš„å«ä¹‰å°±æ˜¯å­—ç¬¦ä¸²æœ«å°¾çš„è¿ç»­å¤šä¸ª<code>null,</code>ã€‚</p><h1 id="substring">substring</h1><p>è¯­æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">substring</span><span class="hljs-params">(<span class="hljs-type">int</span> beginIndex, <span class="hljs-type">int</span> endIndex)</span> &#123;...&#125;<br><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">substring</span><span class="hljs-params">(<span class="hljs-type">int</span> beginIndex)</span> &#123;<br>        <span class="hljs-keyword">return</span> substring(beginIndex, length());<br>    &#125;<br></code></pre></td></tr></table></figure><ul><li><code>beginIndex</code>ï¼šèµ·å§‹ç´¢å¼•ï¼ŒåŒ…å«</li><li><code>endIndex</code>ï¼šç»“æŸç´¢å¼•ï¼Œä¸åŒ…å«ã€‚å¦‚æœæ²¡æœ‰è¯¥å‚æ•°ï¼Œåˆ™ä»èµ·å§‹ç´¢å¼•å¼€å§‹æˆªå–åˆ°æœ«å°¾ï¼ˆæœ¬è´¨ä¸Šè¿˜æ˜¯è°ƒç”¨çš„ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼‰</li><li>è¿”å›å€¼ï¼šæŒ‡å®šçš„å­å­—ç¬¦ä¸²</li></ul><h1 id="æ ˆåº”è¯¥ç”¨å“ªä¸ªå®ç°ç±»">æ ˆåº”è¯¥ç”¨å“ªä¸ªå®ç°ç±»ï¼Ÿ</h1><h2 id="å…ˆè¯´ç»“è®º">å…ˆè¯´ç»“è®º</h2><p><code>Stack.java</code>çš„æ–‡æ¡£æ³¨é‡Šä¸­æ˜¯è¿™æ ·è§£é‡Šçš„ï¼š</p><div class="note note-secondary">            <p>Stack ç±»è¡¨ç¤ºä¸€ä¸ªåè¿›å…ˆå‡º (LIFO) çš„å¯¹è±¡å †æ ˆã€‚å®ƒæ‰©å±•äº† Vectorç±»ï¼Œå¢åŠ äº†äº”ä¸ªæ“ä½œï¼Œå…è®¸å°†å‘é‡è§†ä¸ºå †æ ˆã€‚å®ƒæä¾›äº†å¸¸è§çš„ push å’Œ popæ“ä½œï¼Œä»¥åŠä¸€ä¸ªç”¨äºæŸ¥çœ‹å †æ ˆé¡¶éƒ¨å…ƒç´ çš„æ–¹æ³•ã€ä¸€ä¸ªç”¨äºæµ‹è¯•å †æ ˆæ˜¯å¦ä¸ºç©ºçš„æ–¹æ³•ï¼Œä»¥åŠä¸€ä¸ªç”¨äºåœ¨å †æ ˆä¸­æœç´¢å…ƒç´ å¹¶ç¡®å®šå…¶è·ç¦»é¡¶éƒ¨è·ç¦»çš„æ–¹æ³•ã€‚</p><p>å †æ ˆé¦–æ¬¡åˆ›å»ºæ—¶ä¸åŒ…å«ä»»ä½•å…ƒç´ ã€‚</p><p><strong>Deque æ¥å£åŠå…¶å®ç°æä¾›äº†ä¸€å¥—æ›´å®Œæ•´ã€æ›´ä¸€è‡´çš„ LIFOå †æ ˆæ“ä½œï¼Œåº”ä¼˜å…ˆä½¿ç”¨æ­¤ç±»</strong>ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">Deque&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;Integer&gt;();<br></code></pre></td></tr></table></figure>          </div><p><code>Deque</code>å³ä¸¤ä¸ªå¸¸ç”¨å®ç°ç±»ï¼š<code>LinkedList</code>å’Œ<code>ArrayDeque</code>ã€‚</p><p>åœ¨<code>ArrayDeque.java</code>çš„å¼€å¤´æ–‡æ¡£æ³¨é‡Šï¼š</p><div class="note note-secondary">            <p>Dequeæ¥å£çš„åŠ¨æ€æ•°ç»„å®ç°ã€‚æ•°ç»„åŒç«¯é˜Ÿåˆ—æ²¡æœ‰å®¹é‡é™åˆ¶ï¼›å®ƒä»¬ä¼šæ ¹æ®éœ€è¦æ‰©å®¹ä»¥æ”¯æŒä½¿ç”¨ã€‚å®ƒä»¬ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼›åœ¨æ²¡æœ‰å¤–éƒ¨åŒæ­¥çš„æƒ…å†µä¸‹ï¼Œå®ƒä»¬ä¸æ”¯æŒå¤šçº¿ç¨‹å¹¶å‘è®¿é—®ã€‚ç¦æ­¢ä½¿ç”¨Null å…ƒç´ ã€‚<strong>æ­¤ç±»ç”¨ä½œå †æ ˆæ—¶å¯èƒ½æ¯” Stack æ›´å¿«ï¼Œç”¨ä½œé˜Ÿåˆ—æ—¶å¯èƒ½æ¯”LinkedList æ›´å¿«</strong>ã€‚</p>          </div><p>æ‰€ä»¥åº”è¯¥ä½¿ç”¨<code>ArrayDeque</code>æ¨¡æ‹Ÿæ ˆå’Œé˜Ÿåˆ—ã€‚</p><h2 id="ä¸ºä»€ä¹ˆä¸ä½¿ç”¨stack">ä¸ºä»€ä¹ˆä¸ä½¿ç”¨Stack</h2><p>Stack çš„å®šä¹‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Stack</span>&lt;E&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Vector</span>&lt;E&gt; &#123;...&#125;<br></code></pre></td></tr></table></figure><p><code>Stack</code>ç»§æ‰¿äº†<code>Vector</code>ã€‚<code>Vector</code>æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„åŠ¨æ€æ•°ç»„ï¼Œä½†å®ƒä½¿ç”¨çš„æ˜¯åŒæ­¥æ–¹æ³•ï¼ˆ<code>synchronized</code>ï¼‰ï¼Œè¿™åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹åè€Œé€ æˆäº†ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ã€‚æŸ¥çœ‹<code>Vector</code>çš„æºç ä¼šå‘ç°å‡ ä¹æ¯ä¸€ä¸ªæ–¹æ³•è¢«éƒ½åŠ ä¸Šäº†<code>synchronized</code>ä¿®é¥°ï¼Œæ¯”å¦‚æ·»åŠ å’Œåˆ é™¤ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addElement</span><span class="hljs-params">(E obj)</span> &#123;<br>    modCount++;<br>    add(obj, elementData, elementCount);<br>&#125;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">removeElement</span><span class="hljs-params">(Object obj)</span> &#123;<br>  modCount++;<br>  <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> indexOf(obj);<br>  <span class="hljs-keyword">if</span> (i &gt;= <span class="hljs-number">0</span>) &#123;<br>      removeElementAt(i);<br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ˜¯éå¸¸ç²—æš´ä¸”ä¸åˆç†çš„ã€‚</p><p><code>Stack</code>ä½œä¸ºå®ƒçš„å­ç±»ä¹Ÿå¼ºåˆ¶ä½¿ç”¨åŒæ­¥æœºåˆ¶ï¼Œå°±ç®—æ˜¯æ²¡æœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè¿™æ ·ä¼šæ˜æ˜¾é™ä½æ€§èƒ½ã€‚</p><h2 id="ä¸ºä»€ä¹ˆarraydequeæ›´ä¼˜">ä¸ºä»€ä¹ˆArrayDequeæ›´ä¼˜</h2><p><code>ArrayDeque</code>æ˜¯ä¸€ä¸ªåŸºäº<strong>å¾ªç¯æ•°ç»„</strong>å®ç°çš„åŒç«¯é˜Ÿåˆ—ï¼Œè®¿é—®é€Ÿåº¦éå¸¸å¿«ã€‚è€Œ<code>LinkedList</code>æ˜¯é“¾è¡¨ï¼Œæ¯æ¬¡è®¿é—®çš„æ—¶å€™éƒ½å¿…é¡»ä»å¤´èŠ‚ç‚¹å¼€å§‹å¾€ä¸‹æ‰¾ï¼Œæ˜æ˜¾æ…¢å¾—å¤šã€‚å¦ä¸€æ–¹é¢ï¼Œ<code>ArrayDeque</code>ä¼šè‡ªåŠ¨æ‰©å®¹ï¼Œè€Œé“¾è¡¨çš„æ‰©å®¹éœ€è¦é¢‘ç¹åˆ›å»ºæ–°çš„èŠ‚ç‚¹å¯¹è±¡ï¼Œåƒåœ¾å›æ”¶è´Ÿæ‹…å¤§ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Java SE</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>MySQLåŸºæœ¬ä½¿ç”¨</title>
    <link href="/2025/05/06/MySQL%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"/>
    <url>/2025/05/06/MySQL%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®åº“å¸¸è¯†">æ•°æ®åº“å¸¸è¯†</h1><h2 id="æ•°æ®åº“çš„å…³ç³»æ¨¡å‹">æ•°æ®åº“çš„å…³ç³»æ¨¡å‹</h2><p>ä»€ä¹ˆæ˜¯å…³ç³»æ•°æ®åº“ï¼Ÿ</p><blockquote><p>å…³ç³»æ•°æ®åº“æ˜¯ä¸€ç§ç”¨äºå­˜å‚¨ç›¸äº’å…³è”çš„æ•°æ®ç‚¹å¹¶æä¾›æ•°æ®ç‚¹è®¿é—®çš„æ•°æ®åº“ã€‚å®ƒé‡‡ç”¨å…³ç³»æ¨¡å‹ï¼Œç›´æ¥ã€ç›´è§‚åœ°åœ¨è¡¨ä¸­å±•ç¤ºæ•°æ®ã€‚</p><p>åœ¨å…³ç³»æ•°æ®åº“ä¸­ï¼Œè¡¨ä¸­çš„æ¯ä¸€è¡Œéƒ½ä»£è¡¨ä¸€æ¡<strong>è®°å½•</strong>ï¼Œæ¯æ¡è®°å½•éƒ½å…·æœ‰ä¸€ä¸ªå”¯ä¸€çš„IDï¼ˆåˆè¢«ç§°ä¸º<strong>é”®</strong>ï¼‰ï¼Œè€Œè¡¨ä¸­çš„åˆ—åˆ™ç”¨äºå­˜å‚¨æ•°æ®çš„<strong>å±æ€§</strong>â€”â€”æ¯æ¡è®°å½•çš„æ¯ä¸€ä¸ªå±æ€§é€šå¸¸éƒ½æœ‰ä¸€ä¸ªå€¼ã€‚ç±æ­¤ï¼Œç”¨æˆ·å¯ä»¥è½»æ¾åœ¨æ•°æ®ç‚¹ä¹‹é—´å»ºç«‹å…³è”ã€‚</p><p>æ•°æ®åº“çš„å…³ç³»æ¨¡å‹ï¼ˆRelational Modelï¼‰æ˜¯å½“å‰æœ€å¹¿æ³›ä½¿ç”¨çš„æ•°æ®æ¨¡å‹ï¼Œå®ƒç”±IBM çš„ E.F. Codd åœ¨ 1970å¹´æå‡ºã€‚è¯¥æ¨¡å‹ä½¿ç”¨<strong>äºŒç»´è¡¨æ ¼</strong>æ¥ç»„ç»‡æ•°æ®ï¼Œå…·æœ‰å¼ºå¤§çš„ç†è®ºåŸºç¡€å’Œè‰¯å¥½çš„å®ç”¨æ€§ã€‚<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="https://www.oracle.com/cn/database/what-is-a-relational-database/">[1]</span></a></sup></p></blockquote><p>ä¸¾ä¸ªä¾‹å­ï¼šè¿™æ˜¯ç”¨æ¥æè¿°å­¦ç”Ÿä¿¡æ¯çš„å…³ç³»è¡¨ï¼š</p><table><thead><tr><th>student_id (PK)</th><th>name</th><th>age</th></tr></thead><tbody><tr><td>1001</td><td>Alice</td><td>20</td></tr><tr><td>1002</td><td>Bob</td><td>21</td></tr><tr><td>1003</td><td>Charlie</td><td>19</td></tr></tbody></table><ul><li><code>student_id</code>æ˜¯å­¦ç”Ÿçš„<strong>é”®</strong></li></ul><p>è¿™æ˜¯å¯é€‰è¯¾ç¨‹è¡¨ï¼š</p><table><thead><tr><th>course_id (PK)</th><th>course_name</th><th>credits</th></tr></thead><tbody><tr><td>C001</td><td>Database Systems</td><td>3</td></tr><tr><td>C002</td><td>Operating Systems</td><td>4</td></tr><tr><td>C003</td><td>Networks</td><td>3</td></tr></tbody></table><ul><li><code>course-id</code>æ˜¯è¯¾ç¨‹çš„<strong>é”®</strong></li></ul><p>ç°åœ¨è¿™äº›å­¦ç”Ÿä»¬éœ€è¦é€‰è¯¾ï¼Œäºæ˜¯å°±æœ‰äº†é€‰è¯¾è¡¨ï¼š</p><table><thead><tr><th>student_id (FK)</th><th>course_id (FK)</th><th>grade</th></tr></thead><tbody><tr><td>1001</td><td>C001</td><td>A</td></tr><tr><td>1001</td><td>C002</td><td>B</td></tr><tr><td>1002</td><td>C001</td><td>A-</td></tr><tr><td>1003</td><td>C003</td><td>B+</td></tr></tbody></table><p>é€šè¿‡ä¸Šè¡¨ï¼Œå€Ÿç”±å­¦ç”Ÿidå°±å¯ä»¥æŸ¥è¯¢åˆ°è¯¾ç¨‹idè¿›è€ŒæŸ¥è¯¢è¯¾ç¨‹ä¿¡æ¯ï¼Œåˆå¯ä»¥æŸ¥è¯¢åˆ°å­¦ç”Ÿä¿¡æ¯ï¼Œè¿™æ ·å°±å»ºç«‹èµ·äº†ä¸åŒå…³ç³»è¡¨ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚</p><h2 id="æ•°æ®ç±»å‹">æ•°æ®ç±»å‹</h2><p>å…³ç³»æ•°æ®åº“æ”¯æŒçš„æ•°æ®ç±»å‹ä¸»è¦åŒ…æ‹¬æ•°å€¼ã€å­—ç¬¦ä¸²ã€æ—¥æœŸå’Œæ—¶é—´ã€å¸ƒå°”ã€äºŒè¿›åˆ¶ã€‚</p><blockquote><p>é€šå¸¸æ¥è¯´ï¼ŒBIGINTèƒ½æ»¡è¶³æ•´æ•°å­˜å‚¨çš„éœ€æ±‚ï¼ŒVARCHAR(N)èƒ½æ»¡è¶³å­—ç¬¦ä¸²å­˜å‚¨çš„éœ€æ±‚ï¼Œè¿™ä¸¤ç§ç±»å‹æ˜¯ä½¿ç”¨æœ€å¹¿æ³›çš„ã€‚</p></blockquote><h2 id="sql">SQL</h2><p>SQLï¼ˆStructured QueryLanguageï¼‰ï¼Œå³ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œæ˜¯ä¸€ç§ç”¨äº<strong>ç®¡ç†å…³ç³»å‹æ•°æ®åº“</strong>çš„æ ‡å‡†ç¼–ç¨‹è¯­è¨€ã€‚ä¸åŒçš„æ•°æ®åº“éƒ½æ”¯æŒSQLï¼Œæ‰€ä»¥ä½¿ç”¨SQLè¿™ä¸€ç§æ ‡å‡†è¯­è¨€å°±å¯ä»¥æ“ä½œä¸åŒçš„æ•°æ®åº“ã€‚</p><p>é™¤äº† SQL æ ‡å‡†ä¹‹å¤–ï¼Œå¤§éƒ¨åˆ† SQLæ•°æ®åº“ç¨‹åºéƒ½æ‹¥æœ‰å®ƒä»¬è‡ªå·±çš„ç§æœ‰æ‰©å±•ï¼Œè¿™äº›æ‰©å±•ä¸èƒ½ç”¨åœ¨å…¶ä»–çš„æ•°æ®åº“ä¸­ã€‚ä½†æ˜¯å¦‚æœåªä½¿ç”¨SQLçš„æ ¸å¿ƒåŠŸèƒ½çš„è¯ï¼Œé‚£ä¸ä¼šæœ‰å¤ªå¤§é—®é¢˜ï¼Œå¸¸ç”¨çš„åŠŸèƒ½æ˜¯ç›¸äº’å…¼å®¹çš„ã€‚</p><p>SQL å®šä¹‰äº†ä»¥ä¸‹äº”ç§è¯­å¥ï¼š</p><table><thead><tr><th>ç±»åˆ«</th><th>å…³é”®ä½œç”¨</th><th>å¸¸è§å…³é”®å­—</th></tr></thead><tbody><tr><td>DDL</td><td>å®šä¹‰ç»“æ„ï¼Œé€šå¸¸ç”±ç®¡ç†å‘˜æ‰§è¡Œ</td><td><code>CREATE</code>, <code>DROP</code>, <code>ALTER</code></td></tr><tr><td>DML</td><td>æ“ä½œæ•°æ®ï¼Œå±äºåº”ç”¨ç¨‹åºçš„æ—¥å¸¸æ“ä½œ</td><td><code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code></td></tr><tr><td>DQL</td><td>æŸ¥è¯¢æ•°æ®ï¼Œä¾›ç”¨æˆ·æŸ¥è¯¢ä½¿ç”¨ï¼Œæœ€ä¸ºé¢‘ç¹</td><td><code>SELECT</code></td></tr><tr><td>DCL</td><td>æ§åˆ¶æƒé™</td><td><code>GRANT</code>, <code>REVOKE</code></td></tr><tr><td>TCL</td><td>ç®¡ç†äº‹åŠ¡</td><td><code>COMMIT</code>, <code>ROLLBACK</code></td></tr></tbody></table><p><img src="https://s21.ax1x.com/2025/05/03/pEbWCOe.png" /></p><p>SQLçš„å…³é”®å­—ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†æ˜¯å¯¹äºè¡¨åå’Œåˆ—åï¼Œä¸åŒæ•°æ®åº“çš„è§„å®šä¸åŒï¼Œæ‰€ä»¥æœ€å¥½å…³é”®è¯ä¸€å¾‹å¤§å†™ã€‚è¡¨åå’Œåˆ—åä¸€å¾‹å°å†™ã€‚</p><h1 id="å…³ç³»æ¨¡å‹æ„æˆ">å…³ç³»æ¨¡å‹æ„æˆ</h1><p>ç”¨äºå”¯ä¸€åŒºåˆ†ä¸åŒè®°å½•çš„å­—æ®µå°±æ˜¯ä¸»é”®ã€‚ä¸èƒ½ä½¿ç”¨ä¸šåŠ¡ç›¸å…³çš„å­—æ®µä½œä¸ºä¸»é”®ã€‚</p><p>å°†æ•°æ®ä¸å¦ä¸€å¼ è¡¨è”ç³»èµ·æ¥çš„å­—æ®µç§°ä¸ºå¤–é”®ã€‚</p><p>ç´¢å¼•ï¼šåŠ å¿«æŸ¥è¯¢é€Ÿåº¦ã€‚</p><blockquote><p>åœ¨å…³ç³»æ•°æ®åº“ä¸­ï¼Œç´¢å¼•æ˜¯ç”¨äºæé«˜æŸ¥è¯¢æ•ˆç‡çš„é‡è¦æ•°æ®ç»“æ„ã€‚ç´¢å¼•å¯ä»¥è®©æ•°æ®åº“åœ¨æŸ¥è¯¢æ—¶ä¸å¿…éå†æ•´ä¸ªè¡¨ï¼Œè€Œæ˜¯å¿«é€Ÿå®šä½åˆ°ç¬¦åˆæ¡ä»¶çš„è®°å½•ï¼Œä»è€Œæ˜¾è‘—æå‡æ£€ç´¢é€Ÿåº¦ã€‚</p><p>ç„¶è€Œï¼Œç´¢å¼•ä¹Ÿæœ‰å…¶å±€é™æ€§ã€‚ç´¢å¼•çš„ä¸»è¦ç¼ºç‚¹æ˜¯åœ¨æ‰§è¡Œæ’å…¥ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œæ—¶ï¼Œæ•°æ®åº“éœ€è¦åŒæ—¶è°ƒæ•´æ‰€æœ‰ç›¸å…³çš„ç´¢å¼•ï¼Œè¿™ä¼šå¢åŠ ç³»ç»Ÿå¼€é”€ã€‚ç´¢å¼•æ•°é‡è¶Šå¤šï¼Œæ•°æ®ä¿®æ”¹çš„é€Ÿåº¦å°±è¶Šæ…¢ã€‚å› æ­¤ï¼Œåœ¨è®¾è®¡æ•°æ®åº“æ—¶ï¼Œå¿…é¡»åœ¨æŸ¥è¯¢ä¼˜åŒ–å’Œä¿®æ”¹æ€§èƒ½ä¹‹é—´æƒè¡¡ã€‚</p></blockquote><p>æ•°æ®åº“ä¼šè‡ªåŠ¨ä¸ºä¸»é”®åˆ›å»ºç´¢å¼•ï¼Œ<strong>ä¸»é”®ç´¢å¼•çš„æŸ¥è¯¢æ•ˆç‡æœ€é«˜</strong>ï¼Œå› ä¸ºä¸»é”®ä¿è¯æ¯æ¡è®°å½•çš„å”¯ä¸€æ€§ã€‚</p><p>å”¯ä¸€ç´¢å¼•ï¼šå¯ä»¥é€šè¿‡å‘½ä»¤ä¸ºéœ€è¦ç¡®ä¿å”¯ä¸€çš„æ•°æ®åˆ›å»ºå”¯ä¸€ç´¢å¼•ï¼Œæˆ–è€…æ·»åŠ å”¯ä¸€çº¦æŸã€‚</p><h1 id="åŸºæœ¬çš„æŸ¥è¯¢æ“ä½œ">åŸºæœ¬çš„æŸ¥è¯¢æ“ä½œ</h1><h2 id="åŸºæœ¬æŸ¥è¯¢">åŸºæœ¬æŸ¥è¯¢</h2><p><code>SELECT &lt;å®šä¹‰åˆ—çš„åå­—&gt; FROM &lt;è¡¨å&gt;</code></p><p>ä¾‹å¦‚ï¼š<code>SELECT * FROM students;</code>æŸ¥è¯¢<code>students</code>è¡¨ä¸­çš„æ‰€æœ‰åˆ—</p><h2 id="æ¡ä»¶æŸ¥è¯¢">æ¡ä»¶æŸ¥è¯¢</h2><p><code>SELECT * FROM &lt;è¡¨å&gt; WHERE &lt;æ¡ä»¶è¡¨è¾¾å¼&gt;</code></p><p>ä½¿ç”¨<code>WHERE</code>æŒ‡å®šæœç´¢æ¡ä»¶ã€‚æ¡ä»¶è¡¨è¾¾å¼å¯ä»¥ç”¨</p><ul><li><code>&lt;æ¡ä»¶1&gt; AND &lt;æ¡ä»¶2&gt;</code>è¡¨è¾¾æ»¡è¶³æ¡ä»¶1å¹¶ä¸”æ»¡è¶³æ¡ä»¶2</li><li><code>&lt;æ¡ä»¶1&gt; OR &lt;æ¡ä»¶2&gt;</code>è¡¨ç¤ºæ»¡è¶³æ¡ä»¶1æˆ–è€…æ»¡è¶³æ¡ä»¶2ã€‚</li></ul><p>åº”å½“æ³¨æ„ï¼Œ<code>AND</code>æ¯”<code>OR</code>æœ‰æ›´é«˜çš„è¿ç®—ä¼˜å…ˆçº§ï¼ŒæŸäº›æƒ…å†µä¸‹éœ€è¦ä½¿ç”¨åœ†æ‹¬å·<code>()</code>æŒ‡æ˜è¿ç®—å…ˆåé¡ºåºã€‚</p><p><code>BETWEENT AND</code>ï¼šæŸ¥è¯¢ä½äºä¸¤ä¸ªå€¼ä¹‹é—´çš„æ•°æ®ï¼Œä¸¤è¾¹éƒ½æ˜¯é—­åŒºé—´ã€‚</p><p><code>IN</code>æ“ä½œç¬¦ç”¨æ¥æŒ‡å®šæ¡ä»¶èŒƒå›´ï¼ŒèŒƒå›´ä¸­çš„æ¯ä¸ªæ¡ä»¶éƒ½å¯ä»¥è¿›è¡ŒåŒ¹é…ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> cust_id, cust_name<br><span class="hljs-keyword">FROM</span> customers<br><span class="hljs-keyword">WHERE</span> cust_id <span class="hljs-keyword">IN</span> (<span class="hljs-number">10001</span>, <span class="hljs-number">10003</span>)<br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> cust_name;<br></code></pre></td></tr></table></figure><p>æŠŠ customers è¡¨ä¸­çš„<code>cust_id</code>ä¸º 10001 <strong>æˆ–</strong>10003çš„æ•°æ®æŸ¥è¯¢å‡ºæ¥ã€‚<code>IN</code>çš„ä½œç”¨å®é™…ä¸Šå’Œ<code>OR</code>æ²¡æœ‰å·®åˆ«ï¼Œå®ƒçš„ä¼˜ç‚¹ä½“ç°åœ¨ï¼š</p><ul><li>INæ“ä½œç¬¦çš„è¯­æ³•æ›´æ¸…æ¥šä¸”æ›´ç›´è§‚ï¼›</li><li>åœ¨ä½¿ç”¨INæ—¶ï¼Œè®¡ç®—çš„æ¬¡åºæ›´å®¹æ˜“ç®¡ç†ï¼ˆå› ä¸ºä½¿ç”¨çš„æ“ä½œç¬¦æ›´å°‘ï¼‰ï¼›</li><li>INæ“ä½œç¬¦ä¸€èˆ¬æ¯”ORæ“ä½œç¬¦æ¸…å•æ‰§è¡Œæ›´å¿«ï¼›</li><li>INçš„æœ€å¤§ä¼˜ç‚¹æ˜¯å¯ä»¥åŒ…å«å…¶ä»–SELECTè¯­å¥ï¼Œä½¿å¾—èƒ½å¤Ÿæ›´åŠ¨æ€åœ°å»ºç«‹WHEREå­å¥ã€‚</li></ul><p>è¿˜æœ‰ä¸€ä¸ªå…³é”®å­—æ˜¯<code>NOT</code>ã€‚WHEREå­å¥ä¸­çš„NOTæ“ä½œç¬¦æœ‰ä¸”åªæœ‰ä¸€ä¸ªåŠŸèƒ½ï¼Œé‚£å°±æ˜¯å¦å®šå®ƒä¹‹åæ‰€è·Ÿçš„ä»»ä½•æ¡ä»¶ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">WHERE</span> vend_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (<span class="hljs-number">1002</span>, <span class="hljs-number">1003</span>)<br></code></pre></td></tr></table></figure><p>ç­›é€‰æ‰€æœ‰ vend_id ä¸æ˜¯1002æˆ–1003çš„æ•°æ®ã€‚NOTå®é™…ä¸Šæ˜¯MySQLçš„ç‰¹æ€§ï¼š</p><div class="note note-primary">            <p>MySQLæ”¯æŒä½¿ç”¨NOTå¯¹INã€BETWEENå’ŒEXISTS<strong>å­å¥</strong>å–åï¼Œè¿™ä¸å¤šæ•°å…¶ä»–DBMSå…è®¸ä½¿ç”¨NOTå¯¹å„æ¡ä»¶å–åæœ‰å¾ˆå¤§çš„å·®åˆ«ã€‚</p>          </div><h2 id="æ’åº">æ’åº</h2><p><code>SELECT id, name, gender, score FROM students ORDER BY score DESC, gender;</code></p><p><code>DESC</code>è¡¨ç¤ºå€’åºï¼Œé»˜è®¤ä¸º<code>ASC</code>å³å‡åºã€‚</p><p><code>ORDER BY</code>è¦æ”¾åˆ°<code>WHERE</code>çš„åé¢ã€‚</p><h2 id="åˆ†é¡µæŸ¥è¯¢">åˆ†é¡µæŸ¥è¯¢</h2><p>åœ¨ SQLä¸­ï¼Œåˆ†é¡µæŸ¥è¯¢ç”¨äºä»å¤§å‹æ•°æ®é›†ä¸­æŒ‰é¡µæå–ä¸€éƒ¨åˆ†æ•°æ®ï¼Œä»¥ä¾¿åœ¨åº”ç”¨ç¨‹åºæˆ–ç½‘é¡µä¸Šé€æ­¥æ˜¾ç¤ºã€‚</p><p>åˆ†é¡µå®é™…ä¸Šå°±æ˜¯ä»ç»“æœé›†ä¸­â€œæˆªå–â€å‡ºç¬¬M~Næ¡è®°å½•ã€‚è¿™ä¸ªæŸ¥è¯¢å¯ä»¥é€šè¿‡<code>LIMIT &lt;N-M&gt; OFFSET &lt;M&gt;</code>å­å¥å®ç°ã€‚æˆ‘ä»¬å…ˆæŠŠæ‰€æœ‰å­¦ç”ŸæŒ‰ç…§æˆç»©ä»é«˜åˆ°ä½è¿›è¡Œæ’åºï¼š</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- æŸ¥è¯¢ç¬¬1é¡µ:</span><br><span class="hljs-keyword">SELECT</span> id, name, gender, score<br><span class="hljs-keyword">FROM</span> students<br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> score <span class="hljs-keyword">DESC</span><br>LIMIT <span class="hljs-number">3</span> <span class="hljs-keyword">OFFSET</span> <span class="hljs-number">0</span>;<br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„è¯­å¥è¡¨ç¤ºï¼šé€‰å–<code>students</code>ä¸­ id, name, gender,scoreçš„åˆ—ï¼ŒæŒ‰ç…§åˆ†æ•°ä»é«˜åˆ°ä½æ’åºï¼Œ<strong>æœ€å¤šåªå–</strong>å‰3æ¡ï¼ˆç¬¬1é¡µçš„3æ¡è®°å½•ï¼Œä»ç¬¬0æ¡å¼€å§‹ï¼‰ã€‚</p><p>æ‰€ä»¥<code>LIMIT</code>è¯­å¥å…¶å®æ˜¯ä¸€ä¸ª<strong>æˆªå–</strong>çš„è¿‡ç¨‹ï¼Œè¾“å‡ºçš„ç»“æœåœ¨å¤–ç•Œçœ‹æ¥å¥½åƒå®ç°äº†åˆ†é¡µæ•ˆæœã€‚</p><ul><li>LIMITæ€»æ˜¯è®¾å®šä¸ºpageSizeï¼›</li><li>OFFSETè®¡ç®—å…¬å¼ä¸ºpageSize * (pageIndex - 1)ã€‚</li></ul><p>å¦‚æœæŸ¥è¯¢ç»“æœä¸ºç©ºï¼Œåˆ™ä¼šè¿”å›<code>Empty set</code>ã€‚<code>OFFSET</code>æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤ä¸º0ã€‚</p><h2 id="èšåˆæŸ¥è¯¢">èšåˆæŸ¥è¯¢</h2><p>å¯¹äºç»Ÿè®¡æ€»æ•°ã€å¹³å‡æ•°è¿™ç±»è®¡ç®—ï¼ŒSQLæä¾›äº†ä¸“é—¨çš„èšåˆå‡½æ•°ï¼ˆä¹Ÿå«æ•°æ®å¤„ç†å‡½æ•°ï¼‰ï¼Œä½¿ç”¨èšåˆå‡½æ•°è¿›è¡ŒæŸ¥è¯¢ï¼Œå°±æ˜¯èšåˆæŸ¥è¯¢ï¼Œå®ƒå¯ä»¥å¿«é€Ÿè·å¾—ç»“æœã€‚</p><h3 id="æ–‡æœ¬å¤„ç†å‡½æ•°">æ–‡æœ¬å¤„ç†å‡½æ•°</h3><ul><li><code>Trim()</code>:å»é™¤æ–‡æœ¬ä¸¤ç«¯çš„ç©ºæ ¼ï¼Œä¹Ÿæœ‰<code>RTrim()</code>å»é™¤å³è¾¹çš„ç©ºæ ¼ï¼Œ<code>LTrim()</code>å»é™¤å·¦è¾¹çš„ç©ºæ ¼ã€‚</li><li><code>Upper()</code>: å°†æ–‡æœ¬è½¬æ¢ä¸ºå¤§å†™ã€‚</li><li><code>Left()</code>: è¿”å›ä¸²æœ€å·¦è¾¹çš„å­—ç¬¦</li><li><code>Length()</code>: è¿”å›ä¸²çš„é•¿åº¦</li><li><code>Locate()</code>: æ‰¾å‡ºä¸²çš„ç¬¬ä¸€ä¸ªå­—ä¸²</li><li><code>Lower()</code>: å°†ä¸²è½¬æ¢ä¸ºå°å†™</li><li><code>Ltrim()</code>: å»æ‰ä¸²å·¦è¾¹çš„ç©ºæ ¼</li><li><code>Right()</code>: è¿”å›ä¸²å³è¾¹çš„å­—ç¬¦</li><li><code>Soundex()</code>: è¿”å›ä¸²çš„SOUNDEXå€¼</li><li><code>SubString()</code>: è¿”å›ä¸²çš„å­—ç¬¦</li></ul><h3 id="æ•°æ®å¤„ç†å‡½æ•°">æ•°æ®å¤„ç†å‡½æ•°</h3><p>MySQL ç»™å‡ºäº†5ä¸ªä»¥<code>row</code>ä¸ºå•å…ƒè¿è¡Œçš„èšé›†å‡½æ•°ï¼Œå¦‚ä¸‹è¡¨ï¼š</p><table><thead><tr><th>èšåˆå‡½æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>COUNT()</code></td><td>è¿”å›æŒ‡å®šåˆ—çš„è¡Œæ•°</td></tr><tr><td><code>SUM()</code></td><td>è¿”å›æŒ‡å®šåˆ—å€¼ä¹‹å’Œ</td></tr><tr><td><code>AVG()</code></td><td>è¿”å›ç‰¹å®šæ•°å€¼åˆ—çš„å¹³å‡å€¼</td></tr><tr><td><code>MAX()</code></td><td>è¿”å›æŒ‡å®šåˆ—çš„æœ€å¤§å€¼</td></tr><tr><td><code>MIN()</code></td><td>è¿”å›æŒ‡å®šåˆ—çš„æœ€å°å€¼</td></tr></tbody></table><blockquote><p>COUNT æœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š - ä½¿ç”¨ COUNT(*)å¯¹è¡¨ä¸­è¡Œçš„æ•°ç›®è¿›è¡Œè®¡æ•°ï¼Œä¸ç®¡è¡¨åˆ—ä¸­åŒ…å«çš„æ˜¯ç©ºå€¼ï¼ˆNULLï¼‰è¿˜æ˜¯éç©ºå€¼ - ä½¿ç”¨COUNT(åˆ—å) å¯¹ç‰¹å®šåˆ—ä¸­å…·æœ‰å€¼çš„è¡Œè¿›è¡Œè®¡æ•°ï¼Œå¿½ç•¥ NULL å€¼ã€‚</p></blockquote><p>ç»å¸¸ä¸ä¹‹ç»“åˆä½¿ç”¨çš„è¿˜æœ‰:</p><ul><li><code>CEILING()</code>: å‘ä¸Šå–æ•´</li><li><code>FLOOR()</code>: å‘ä¸‹å–æ•´</li></ul><p>ä¾‹å¦‚<code>SELECT MAX(score), MIN(score) FROM students;</code>ç”¨äºè®¡ç®—å­¦ç”Ÿçš„æœ€é«˜åˆ†å’Œæœ€ä½åˆ†ã€‚</p><p>ä½¿ç”¨èšåˆæŸ¥è¯¢æ—¶å¯ä»¥ç»™ç»“æœèµ·ä¸€ä¸ªåˆ«åï¼Œä½¿ç”¨<code>AS</code>æ ‡è®°ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">AS</span> num <span class="hljs-keyword">FROM</span> students;<br></code></pre></td></tr></table></figure><p>è¿”å›ç»“æœï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">+-----+<br>| num |<br>+-----+<br>|  10 |<br>+-----+<br>1 row in set (0.024 sec)<br></code></pre></td></tr></table></figure><p>èšåˆæŸ¥è¯¢è¯­å¥åŒæ ·å¯ä»¥å’Œæ¡ä»¶è¯­å¥ç­‰ä¸€èµ·ä½¿ç”¨ã€‚</p><blockquote><p>è¦ç‰¹åˆ«æ³¨æ„ï¼šå¦‚æœèšåˆæŸ¥è¯¢çš„WHEREæ¡ä»¶æ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•è¡Œï¼ŒCOUNT()ä¼šè¿”å›0ï¼Œè€ŒSUM()ã€AVG()ã€MAX()å’ŒMIN()ä¼šè¿”å›NULLï¼š</p></blockquote><p>å¦‚æœåœ¨åˆ—åçš„å‰é¢åŠ ä¸Š<code>DISTINCT</code>å…³é”®å­—ï¼Œé‚£ä¹ˆåªä¼šè®¡ç®—ä¸åŒçš„æ•°æ®ï¼Œç›¸åŒçš„æ•°æ®ä¸ä¼šè¢«é‡å¤è®¡ç®—ã€‚</p><ul><li><code>SELECT COUNT(DISTINCT department_id) FROM employees;</code>ç»Ÿè®¡æœ‰å¤šå°‘ä¸ªä¸åŒçš„<code>department_id</code>ã€‚</li></ul><p>ä½†æ˜¯<code>COUNT(DISTINCT *)</code>æ˜¯éæ³•çš„ï¼Œå› ä¸º<code>COUNT(*)</code>çš„è®¡ç®—ç»“æœå›ºå®šä¸ºæ€»è¡Œæ•°ã€‚</p><h1 id="åˆ†ç»„">åˆ†ç»„</h1><h2 id="group-by">GROUP BY</h2><p>å…³é”®è¯ï¼š<code>GROUP BY</code>ã€‚åˆ†ç»„æ“ä½œå¸¸å¸¸éœ€è¦æŠŠåˆ†ç»„æ ‡å‡†ä¹ŸåŠ å…¥è¡¨ä¸­ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- ç¬¬ä¸€åˆ—æ˜¯æ€§åˆ«ï¼Œç¬¬äºŒåˆ—æ˜¯å¯¹åº”çš„æ•°é‡ï¼Œèµ·ä¸€ä¸ªæ–°åå­—total</span><br><span class="hljs-keyword">SELECT</span> gender, <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">AS</span> total<br><span class="hljs-keyword">FROM</span> students<br><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> gender;<br></code></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs text">+--------+-------+<br>| gender | total |<br>+--------+-------+<br>| M      |     5 |<br>| F      |     5 |<br>+--------+-------+<br>2 rows in set (0.013 sec)<br></code></pre></td></tr></table></figure><p>GROUP BY å­å¥æŒ‡ç¤º MySQLåˆ†ç»„æ•°æ®ï¼Œç„¶åå¯¹æ¯ä¸ªç»„è€Œä¸æ˜¯æ•´ä¸ªç»“æœé›†è¿›è¡Œèšé›†ã€‚</p><p><strong>æ³¨æ„</strong>ï¼š</p><ul><li>é™¤èšé›†è®¡ç®—è¯­å¥å¤–ï¼ŒSELECT è¯­å¥ä¸­çš„æ¯ä¸ªåˆ—éƒ½å¿…é¡»åœ¨ GROUP BYå­å¥ä¸­ç»™å‡ºã€‚</li><li>GROUP BY å­å¥å¿…é¡»å‡ºç°åœ¨ WHERE å­å¥ä¹‹åï¼ŒORDER BY å­å¥ä¹‹å‰ã€‚</li><li>åœ¨GROUPBYåé¢ç´§æ¥<code>WITH ROLLUP</code>å…³é”®å­—å¯ä»¥åœ¨æœ€åä¸€è¡ŒåŠ ä¸Šåˆè®¡ã€‚</li></ul><h2 id="having">HAVING</h2><p>HAVINGå…³é”®å­—çš„ä½œç”¨æ˜¯<strong>å¯¹åˆ†å¥½çš„ç»„è¿›è¡Œè¿‡æ»¤</strong>ã€‚ä¹‹å‰æˆ‘ä»¬ä½¿ç”¨ WHEREå¯¹è¡¨ä¸­çš„è¡Œè¿›è¡Œè¿‡æ»¤ï¼Œä½†æ˜¯WHEREä¸èƒ½ç”¨äºåˆ†ç»„çš„æƒ…å†µï¼Œè¿™æ—¶åº”è¯¥ä½¿ç”¨HAVINGã€‚ä»–ä»¬çš„å”¯ä¸€åŒºåˆ«æ˜¯<strong>WHEREè¿‡æ»¤è¡Œï¼ŒHAVINGè¿‡æ»¤ç»„</strong>ã€‚</p><p>ä¾‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> vend_id, <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">from</span> products <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> vend_id <span class="hljs-keyword">with</span> <span class="hljs-keyword">rollup</span> <span class="hljs-keyword">having</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>)<span class="hljs-operator">&gt;=</span><span class="hljs-number">3</span>;<br></code></pre></td></tr></table></figure><p>å°†<code>products</code>è¡¨ä¸­æŒ‰ç…§ vend_idåˆ†ç»„åï¼Œåªä¿ç•™è¡Œæ•°å¤§äºç­‰äº3çš„ç»„åˆ«ã€‚</p><h2 id="select-å­å¥é¡ºåº">SELECT å­å¥é¡ºåº</h2><ol type="1"><li>SELECT</li><li>FROM</li><li>WHERE</li><li>GROUP BY</li><li>HAVING</li><li>ORDER BY</li><li>LIMIT</li></ol><h1 id="å¤šè¡¨æŸ¥è¯¢è”ç»“è¡¨">å¤šè¡¨æŸ¥è¯¢ï¼ˆè”ç»“è¡¨ï¼‰</h1><p>SQLæœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€å°±æ˜¯èƒ½åœ¨æ•°æ®æ£€ç´¢æŸ¥è¯¢çš„æ‰§è¡Œä¸­è”ç»“ï¼ˆjoinï¼‰è¡¨ã€‚è”ç»“æ˜¯åˆ©ç”¨SQLçš„SELECT èƒ½æ‰§è¡Œçš„æœ€é‡è¦çš„æ“ä½œï¼Œå¾ˆå¥½åœ°ç†è§£è”ç»“åŠå…¶è¯­æ³•æ˜¯å­¦ä¹  SQLçš„ä¸€ä¸ªæä¸ºé‡è¦çš„ç»„æˆéƒ¨åˆ†ã€‚</p><p>å…³é”®æ˜¯ï¼Œä¸€ä¸ªè¡¨ä¸­çš„ç›¸åŒæ•°æ®å‡ºç°å¤šæ¬¡å†³ä¸æ˜¯ä¸€ä»¶å¥½äº‹ï¼Œæ­¤å› ç´ æ˜¯å…³ç³»æ•°æ®åº“è®¾è®¡çš„åŸºç¡€ã€‚<strong>å…³ç³»è¡¨çš„è®¾è®¡å°±æ˜¯è¦ä¿è¯æŠŠä¿¡æ¯åˆ†è§£æˆå¤šä¸ªè¡¨ï¼Œä¸€ç±»æ•°æ®ä¸€ä¸ªè¡¨</strong>ã€‚å„è¡¨é€šè¿‡æŸäº›å¸¸ç”¨çš„å€¼ï¼ˆå³å…³ç³»è®¾è®¡ä¸­çš„å…³ç³»ï¼ˆrelationalï¼‰ï¼‰äº’ç›¸å…³è”ã€‚</p><p>ç°åœ¨æˆ‘ä»¬æ‰‹ä¸Šæœ‰ä¸¤ä¸ªè¡¨æ ¼ï¼š<strong>ç­çº§è¡¨</strong></p><table><thead><tr><th>id</th><th>name</th></tr></thead><tbody><tr><td>1</td><td>class1</td></tr><tr><td>2</td><td>class2</td></tr><tr><td>3</td><td>class3</td></tr><tr><td>4</td><td>class4</td></tr></tbody></table><p>å’Œ<strong>å­¦ç”Ÿè¡¨</strong></p><table><thead><tr><th>id</th><th>class_id</th><th>name</th><th>gender</th><th>score</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>ming</td><td>M</td><td>90</td></tr><tr><td>2</td><td>1</td><td>hong</td><td>F</td><td>95</td></tr><tr><td>3</td><td>1</td><td>jun</td><td>M</td><td>88</td></tr><tr><td>4</td><td>1</td><td>mi</td><td>F</td><td>73</td></tr><tr><td>5</td><td>2</td><td>bai</td><td>F</td><td>81</td></tr><tr><td>6</td><td>2</td><td>bing</td><td>M</td><td>55</td></tr><tr><td>7</td><td>2</td><td>ling</td><td>M</td><td>85</td></tr><tr><td>8</td><td>3</td><td>xin</td><td>F</td><td>91</td></tr><tr><td>9</td><td>3</td><td>wang</td><td>M</td><td>89</td></tr><tr><td>10</td><td>3</td><td>li</td><td>F</td><td>85</td></tr></tbody></table><p>è¿™é‡Œçš„å¤–é”®æ˜¯<code>class_id</code>ï¼Œå®ƒåŒ…å«äº†ç­çº§è¡¨çš„ä¸»é”®å€¼</p><p>è¿æ¥æ˜¯ä¸€ç§æœºåˆ¶ï¼Œç”¨æ¥åœ¨ä¸€æ¡SELECTè¯­å¥ä¸­å…³è”è¡¨ï¼Œå› æ­¤ç§°ä¹‹ä¸ºè¿æ¥(JOIN)ã€‚é‡‡ç”¨è¿æ¥çš„æŸ¥è¯¢ç§°ä¹‹ä¸º<strong>SQLJOINè¿æ¥æŸ¥è¯¢</strong>ã€‚<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="https://zhuanlan.zhihu.com/p/68136613">[2]</span></a></sup></p><figure><img src="https://s21.ax1x.com/2025/05/04/pEbjEAP.png"alt="è”ç»“çš„åˆ†ç±»" /><figcaption aria-hidden="true">è”ç»“çš„åˆ†ç±»</figcaption></figure><h2 id="ç­‰å€¼è”ç»“">ç­‰å€¼è”ç»“</h2><p>ç­‰å€¼è”ç»“åŸºäºä¸¤ä¸ªè¡¨ä¹‹é—´çš„ç›¸ç­‰æ•°æ®è¿›è¡Œè¿æ¥ã€‚åº”å½“ç¡®ä¿æ‰€æœ‰çš„è”ç»“éƒ½æœ‰WHERE å­å¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> classes.name, students.name <span class="hljs-keyword">from</span> classes, students <span class="hljs-keyword">where</span> classes.id <span class="hljs-operator">=</span> students.class_id;<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://s21.ax1x.com/2025/05/17/pEvKwWt.png" /></p><h2 id="inner-join-å†…è¿æ¥">INNER JOIN å†…è¿æ¥</h2><p>å¯¹ä¸Šè¿°sqlè¯­å¥ä½¿ç”¨ä¸åŒçš„è¯­æ³•ï¼Œä¹Ÿå¯ä»¥å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> classes.name, students.name <span class="hljs-keyword">from</span> classes <span class="hljs-keyword">join</span> students <span class="hljs-keyword">on</span> classes.id <span class="hljs-operator">=</span> students.class_id;<br></code></pre></td></tr></table></figure><p>æ­¤è¯­å¥ä¸­çš„SELECTä¸å‰é¢çš„SELECTè¯­å¥ç›¸åŒï¼Œä½†FROMå­å¥ä¸åŒã€‚è¿™é‡Œï¼Œä¸¤ä¸ªè¡¨ä¹‹é—´çš„å…³ç³»æ˜¯FROMå­å¥çš„ç»„æˆéƒ¨åˆ†ï¼Œä»¥INNERJOINæŒ‡å®šã€‚åœ¨ä½¿ç”¨è¿™ç§è¯­æ³•æ—¶ï¼Œè”ç»“æ¡ä»¶ç”¨ç‰¹å®šçš„ONå­å¥è€Œä¸æ˜¯WHEREå­å¥ç»™å‡ºã€‚ä¼ é€’ç»™ONçš„å®é™…æ¡ä»¶ä¸ä¼ é€’ç»™WHEREçš„ç›¸åŒã€‚</p><div class="note note-secondary">            <p>ANSI SQLè§„èŒƒé¦–é€‰INNERJOINè¯­æ³•ã€‚æ­¤å¤–ï¼Œå°½ç®¡ä½¿ç”¨WHEREå­å¥å®šä¹‰è”ç»“çš„ç¡®æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ä½¿ç”¨æ˜ç¡®çš„è”ç»“è¯­æ³•èƒ½å¤Ÿç¡®ä¿ä¸ä¼šå¿˜è®°è”ç»“æ¡ä»¶ï¼Œæœ‰æ—¶å€™è¿™æ ·åšä¹Ÿèƒ½å½±å“æ€§èƒ½ã€‚</p>          </div><hr /><p>ä¸‹é¢æ­£å¼ç»™å‡ºå†…è¿æ¥çš„è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> A.id, A.name, B.name<br><span class="hljs-keyword">FROM</span> classes A<br><span class="hljs-keyword">JOIN</span> students B<br><span class="hljs-keyword">ON</span> A.id <span class="hljs-operator">=</span> B.class_id;<br></code></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œå†…è¿æ¥ä¹Ÿé€‚ç”¨äºåªæœ‰ä¸€ä¸ªè¡¨çš„æƒ…å†µã€‚å‡å¦‚å·²çŸ¥studentsè¡¨ä¸­ä¸€ä¸ªå­¦ç”Ÿçš„åå­—ä¸ºbaiï¼Œç°åœ¨è¦æŸ¥è¯¢å’Œä»–åœ¨åŒä¸€ç­çº§ä¸­çš„å…¶ä»–æ‰€æœ‰å­¦ç”Ÿçš„ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹sqlè¯­å¥ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> p1.class_id, p1.name<br><span class="hljs-keyword">from</span> students <span class="hljs-keyword">as</span> p1 <span class="hljs-keyword">join</span> students <span class="hljs-keyword">as</span> p2<br><span class="hljs-keyword">on</span> p1.class_id <span class="hljs-operator">=</span> p2.class_id<br><span class="hljs-keyword">and</span> p2.name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;bai&#x27;</span>;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨çš„æ˜¯ä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„è¡¨ï¼Œä½†æ˜¯ä½¿ç”¨äº†åˆ«åã€‚</p><h2 id="outer-join-å¤–éƒ¨è¿æ¥">OUTER JOIN å¤–éƒ¨è¿æ¥</h2><p>å·¦è¿æ¥æ˜¯<strong>å¤–éƒ¨è¿æ¥</strong>çš„ä¸€ç§ï¼Œè€ƒè™‘ä¸‹é¢çš„ä¸šåŠ¡æƒ…æ™¯ï¼šæˆ‘ä»¬æœ‰ä¸€ä¸ªè¡¨<code>customers</code>ï¼Œå…¶ä¸­å­˜å‚¨äº†æ‰€æœ‰å®¢æˆ·çš„idç­‰åŸºæœ¬ä¿¡æ¯ã€‚ç°åœ¨å¦æœ‰ä¸€ä¸ªè¡¨<code>orders</code>è®°å½•äº†å®¢æˆ·æ‰€ä¸‹çš„è®¢å•ä¿¡æ¯ã€‚ç°åœ¨æˆ‘ä»¬è¦æŸ¥è¯¢å®¢æˆ·çš„ä¸‹å•æƒ…å†µï¼ŒåŒ…æ‹¬æ²¡æœ‰ä¸‹å•çš„å®¢æˆ·ä¹Ÿè¦è®°å½•åœ¨å†…ã€‚</p><p>è¿™æ—¶å¦‚æœä½¿ç”¨å†…è¿æ¥ï¼Œä¼šç›´æ¥å¿½ç•¥æ²¡æœ‰ä¸‹å•çš„ç”¨æˆ·ã€‚è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨å¤–éƒ¨è”ç»“ï¼Œä¿ç•™å®¢æˆ·è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼Œå³ä½¿è®¢å•è¡¨ä¸­æ²¡æœ‰è®°å½•ä¸ä¹‹åŒ¹é…ã€‚</p><p>ä¸å†…éƒ¨è”ç»“å…³è”ä¸¤ä¸ªè¡¨ä¸­çš„è¡Œä¸åŒçš„æ˜¯ï¼Œ<strong>å¤–éƒ¨è¿æ¥è¿˜åŒ…æ‹¬æ²¡æœ‰å…³è”è¡Œçš„è¡Œ</strong>ã€‚åœ¨ä½¿ç”¨OUTERJOINè¯­æ³•æ—¶ï¼Œå¿…é¡»ä½¿ç”¨RIGHTæˆ–LEFTå…³é”®å­—æŒ‡å®šåŒ…æ‹¬å…¶æ‰€æœ‰è¡Œçš„è¡¨ï¼ˆRIGHTæŒ‡å‡ºçš„æ˜¯OUTERJOINå³è¾¹çš„è¡¨ï¼Œè€ŒLEFTæŒ‡å‡ºçš„æ˜¯OUTERJOINå·¦è¾¹çš„è¡¨ï¼‰ã€‚å®ƒä»¬ä¹‹é—´çš„å”¯ä¸€å·®åˆ«æ˜¯æ‰€å…³è”çš„è¡¨çš„é¡ºåºä¸åŒã€‚</p><p>å·¦è¿æ¥ï¼šè·å–å·¦è¡¨ä¸­çš„<strong>æ‰€æœ‰è®°å½•</strong>ï¼Œå³ä½¿åœ¨å³è¡¨æ²¡æœ‰å¯¹åº”åŒ¹é…çš„è®°å½•ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- å·¦è¿æ¥ï¼šæ˜¾ç¤ºAè¡¨æ‰€æœ‰è®°å½•ï¼Œå³ä½¿åœ¨Bè¡¨ä¸­æ²¡æœ‰åŒ¹é…</span><br><span class="hljs-comment">-- æ²¡æœ‰åŒ¹é…çš„é¡¹åˆ™ä»¥NULLå€¼ä»£æ›¿</span><br><span class="hljs-keyword">SELECT</span> A.col1, B.col2<br><span class="hljs-keyword">FROM</span> A<br><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> B <span class="hljs-keyword">ON</span> A.id <span class="hljs-operator">=</span> B.a_id;<br></code></pre></td></tr></table></figure><p>ä»¥å­¦ç”Ÿè¡¨å’Œç­çº§è¡¨ä¸¾ä¾‹ï¼šå°†ç­çº§è¡¨ä½œä¸ºå·¦è¡¨ï¼Œå­¦ç”Ÿè¡¨ä½œä¸ºå³è¡¨ï¼Œç»Ÿè®¡æ¯ä¸ªç­ä¸­çš„å­¦ç”Ÿæƒ…å†µã€‚sqlè¯­å¥å¦‚ä¸‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> classes.name, students.name<br><span class="hljs-keyword">FROM</span> classes<br><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> students <span class="hljs-keyword">ON</span> classes.id <span class="hljs-operator">=</span> students.class_id;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs text">+--------+------+<br>| name   | name |<br>+--------+------+<br>| class1 | mi   |<br>| class1 | jun  |<br>| class1 | hong |<br>| class1 | ming |<br>| class2 | ling |<br>| class2 | bing |<br>| class2 | bai  |<br>| class3 | li   |<br>| class3 | wang |<br>| class3 | xin  |<br>| class4 | NULL |<br>+--------+------+<br></code></pre></td></tr></table></figure><p><code>class4</code>æ²¡æœ‰å­¦ç”Ÿï¼Œä½†æ˜¯å®ƒå·²ç»å‡ºç°åœ¨äº†è¡¨æ ¼ä¸­ã€‚è¿™æ ·èƒ½å¤Ÿæ‰¾åˆ°æ²¡æœ‰å…³è”çš„å­¤å„¿æ•°æ®ã€‚</p><hr /><p>å³è¿æ¥çš„è¯­æ³•å¦‚ä¸‹ï¼Œå’Œå·¦è¿æ¥åŸºæœ¬ç›¸åŒï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- å’Œå·¦è¿æ¥ç›¸åï¼Œè¿”å› B è¡¨æ‰€æœ‰è®°å½•ï¼ŒA è¡¨ä¸åŒ¹é…çš„æ˜¾ç¤º NULLã€‚</span><br><span class="hljs-keyword">SELECT</span> A.col1, B.col2<br><span class="hljs-keyword">FROM</span> A<br><span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> B <span class="hljs-keyword">ON</span> A.id <span class="hljs-operator">=</span> B.a_id;<br></code></pre></td></tr></table></figure><h2 id="cross-join-äº¤å‰è¿æ¥">CROSS JOIN äº¤å‰è¿æ¥</h2><p>æ¯ä¸€æ¡ A è¡¨è®°å½•éƒ½ä¼šå’Œ B è¡¨çš„æ¯ä¸€æ¡ç»„åˆï¼Œç»“æœæ˜¯ A è¡¨è®°å½•æ•° Ã— Bè¡¨è®°å½•æ•°ï¼ˆç¬›å¡å°”ç§¯ï¼‰ï¼Œç”¨å¾—ä¸å¤šã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> A.col1, B.col2<br><span class="hljs-keyword">FROM</span> A<br><span class="hljs-keyword">CROSS</span> <span class="hljs-keyword">JOIN</span> B;<br></code></pre></td></tr></table></figure><p><strong>MySQL æ²¡æœ‰å†…å»ºçš„ FULLJOINï¼ˆå…¨è¿æ¥ï¼‰è¯­æ³•å…³é”®è¯</strong>ã€‚æƒ³å®ç°å…¨è¿æ¥ï¼Œè¦ç”¨<code>LEFT JOIN + RIGHT JOIN + UNION</code>ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- æ¨¡æ‹Ÿ FULL OUTER JOIN</span><br><span class="hljs-keyword">SELECT</span> A.id, B.id<br><span class="hljs-keyword">FROM</span> A<br><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> B <span class="hljs-keyword">ON</span> A.id <span class="hljs-operator">=</span> B.id<br><br><span class="hljs-keyword">UNION</span><br><br><span class="hljs-keyword">SELECT</span> A.id, B.id<br><span class="hljs-keyword">FROM</span> A<br><span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> B <span class="hljs-keyword">ON</span> A.id <span class="hljs-operator">=</span> B.id;<br><br></code></pre></td></tr></table></figure><h1 id="ç»„åˆæŸ¥è¯¢">ç»„åˆæŸ¥è¯¢</h1><p>ç›®çš„ï¼šé€šè¿‡æ“ä½œç¬¦å°†å¤šä¸ª SELECT æŸ¥è¯¢çš„ç»“æœåˆå¹¶åœ¨ä¸€èµ·ã€‚</p><h2 id="union">UNION</h2><p>UNIONçš„ä½œç”¨ç›¸å½“äºåŒ…å«<code>WHERE...OR...</code>çš„è¯­å¥ï¼Œä¸è¿‡åœ¨å¤æ‚çš„æƒ…å†µä¸‹å†™èµ·æ¥æ›´åŠ ç®€æ´ã€‚ä½¿ç”¨UNION æŸ¥è¯¢<code>class_id</code>ä¸º 1 æˆ– 2çš„å­¦ç”Ÿï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹sqlè¯­å¥ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <br><span class="hljs-keyword">where</span> class_id <span class="hljs-operator">=</span> <span class="hljs-number">1</span><br><span class="hljs-keyword">union</span><br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students<br><span class="hljs-keyword">where</span> class_id <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;<br></code></pre></td></tr></table></figure><p>è¿™é‡ŒåŒ…å«äº†ä¸¤ä¸ªselectè¯­å¥ï¼Œç¬¬ä¸€ä¸ªæŸ¥è¯¢æ‰€æœ‰<code>class_id</code>ä¸º1çš„å­¦ç”Ÿï¼Œç¬¬äºŒä¸ªæŸ¥è¯¢æ‰€æœ‰ä¸º2çš„å­¦ç”Ÿã€‚<code>union</code>å…³é”®è¯å°†ä¸¤æ¬¡æŸ¥è¯¢çš„ç»“æœç›´æ¥åˆå¹¶ï¼ˆå¦‚æœæœ‰é‡å¤çš„æ•°æ®ä¼šè‡ªåŠ¨å»é™¤ï¼‰ã€‚ä¸Šè¿°è¯­å¥ç›¸å½“äºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <br><span class="hljs-keyword">where</span> class_id <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> class_id <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><p>UNIONå‡ ä¹æ€»æ˜¯å®Œæˆä¸å¤šä¸ªWHEREæ¡ä»¶ç›¸åŒçš„å·¥ä½œã€‚å®ƒçš„ä¸€ç§å˜ä½“æ˜¯<code>union all</code>ï¼Œä¸union çš„å”¯ä¸€åŒºåˆ«æ˜¯<code>union all</code>ä¸ä¼šè‡ªåŠ¨å»é‡ã€‚</p><p>å¦‚æœç¡®å®éœ€è¦æ¯ä¸ªæ¡ä»¶çš„åŒ¹é…è¡Œå…¨éƒ¨å‡ºç°ï¼ˆåŒ…æ‹¬é‡å¤è¡Œï¼‰ï¼Œåˆ™å¿…é¡»ä½¿ç”¨UNIONALLè€Œä¸æ˜¯WHEREã€‚</p><hr /><p><strong>æ€»ç»“</strong>ï¼šåˆ©ç”¨UNIONï¼Œå¯æŠŠå¤šæ¡æŸ¥è¯¢çš„ç»“æœä½œä¸ºä¸€æ¡ç»„åˆæŸ¥è¯¢è¿”å›ï¼Œä¸ç®¡å®ƒä»¬çš„ç»“æœä¸­åŒ…å«è¿˜æ˜¯ä¸åŒ…å«é‡å¤ã€‚ä½¿ç”¨UNIONå¯æå¤§åœ°ç®€åŒ–å¤æ‚çš„WHEREå­å¥ï¼Œç®€åŒ–ä»å¤šä¸ªè¡¨ä¸­æ£€ç´¢æ•°æ®çš„å·¥ä½œã€‚</p><h1 id="é€šé…ç¬¦">é€šé…ç¬¦</h1><p>æŸ¥è¯¢æ“ä½œä¸­çš„æ‰€æœ‰æ“ä½œç¬¦éƒ½æ˜¯é’ˆå¯¹å·²çŸ¥å€¼è¿›è¡Œè¿‡æ»¤çš„ï¼Œæœ‰æ—¶å€™å¹¶ä¸å¥½ç”¨ï¼Œä¾‹å¦‚ï¼Œæ€æ ·æœç´¢äº§å“åä¸­åŒ…å«æ–‡æœ¬anvilçš„æ‰€æœ‰äº§å“ï¼Ÿç”¨ç®€å•çš„æ¯”è¾ƒæ“ä½œç¬¦è‚¯å®šä¸è¡Œï¼Œå¿…é¡»ä½¿ç”¨é€šé…ç¬¦ã€‚</p><div class="note note-info">            <p><strong>é€šé…ç¬¦</strong>ï¼ˆwildcardï¼‰ç”¨æ¥åŒ¹é…å€¼çš„ä¸€éƒ¨åˆ†çš„ç‰¹æ®Šå­—ç¬¦ã€‚</p><p><strong>æœç´¢æ¨¡å¼</strong>ï¼ˆsearch patternï¼‰ç”±å­—é¢å€¼ã€é€šé…ç¬¦æˆ–ä¸¤è€…ç»„åˆæ„æˆçš„æœç´¢æ¡ä»¶ã€‚</p>          </div><h2 id="likeæ“ä½œç¬¦">LIKEæ“ä½œç¬¦</h2><p>LIKE ç”¨äºå‘Šè¯‰ MySQL æ¥ä¸‹æ¥å°†ä¼šä½¿ç”¨é€šé…ç¬¦è¿›è¡ŒåŒ¹é…ã€‚LIKEä¸€å®šè¦æ­é…é€šé…ç¬¦ä½¿ç”¨ï¼Œ å¦åˆ™ MySQLä¼šè®¤ä¸ºä½¿ç”¨çš„æ˜¯å®Œå…¨åŒ¹é…è€Œéæ¨¡ç³ŠåŒ¹é…ã€‚</p><h3 id="ç™¾åˆ†å·é€šé…ç¬¦">ç™¾åˆ†å·(%)é€šé…ç¬¦</h3><p>ç™¾åˆ†å·ï¼ˆ%ï¼‰é€šé…ç¬¦ ï¼š<strong>ç”¨äºåŒ¹é…å¤šä¸ªå­—ç¬¦</strong>ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> prod_id, prod_name<br><span class="hljs-keyword">FROM</span> products<br><span class="hljs-keyword">WHERE</span> prod_name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;jet%&#x27;</span>;<br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±æ‰¾å‡ºäº†æ‰¾å‡ºæ‰€æœ‰ä»¥è¯<code>jet</code>èµ·å¤´çš„äº§å“:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs text">+---------+--------------+<br>| prod_id | prod_name    |<br>+---------+--------------+<br>| JP1000  | JetPack 1000 |<br>| JP2000  | JetPack 2000 |<br>+---------+--------------+<br>2 rows in set (0.017 sec)<br></code></pre></td></tr></table></figure><p><code>'jet%'</code>å¯ä»¥è¿™æ ·ç†è§£ï¼š<code>%</code>ä»£è¡¨çš„å…¶å®æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å‰©ä½™çš„å…¶ä»–å­—ç¬¦ï¼Œæ•´ä¸ªå­—ç¬¦ä¸²å¿…é¡»ä»¥<code>jet</code>å¼€å¤´ã€‚ç±»ä¼¼åœ°ï¼Œ<code>%jet%</code>ä»£è¡¨çš„æ˜¯åŒ…å«<code>jet</code>çš„å­—ç¬¦ä¸²ï¼Œå› ä¸º<code>jet</code>çš„å‰åéƒ½æœ‰å­—ç¬¦ã€‚æ³¨æ„<code>%</code>åŒ¹é…çš„ä¹Ÿå¯ä»¥æ˜¯ç©ºå­—ç¬¦å’Œç©ºæ ¼ï¼Œä½†æ˜¯ä¸èƒ½åŒ¹é…<code>NULL</code>ã€‚</p><h3 id="ä¸‹åˆ’çº¿_é€šé…ç¬¦">ä¸‹åˆ’çº¿(_)é€šé…ç¬¦</h3><p>ä¸‹åˆ’çº¿çš„ç”¨é€”ä¸%ä¸€æ ·ï¼Œä½†ä¸‹åˆ’çº¿åªåŒ¹é…<strong>å•ä¸ªå­—ç¬¦</strong>è€Œä¸æ˜¯å¤šä¸ªå­—ç¬¦ã€‚</p><hr /><p>é€šé…ç¬¦è™½ç„¶ä½¿ç”¨æ–¹ä¾¿ï¼Œä½†æ˜¯é€šé…ç¬¦æœç´¢çš„é€Ÿåº¦æ¯”ä¸€èˆ¬çš„æ“ä½œç¬¦è¦æ…¢ï¼Œæ‰€ä»¥ä¸å¯ä»¥æ»¥ç”¨é€šé…ç¬¦ã€‚åœ¨èƒ½è¾¾åˆ°ç›¸åŒç›®çš„ç‡æƒ…å†µä¸‹ï¼Œåº”è¯¥ä¼˜å…ˆä½¿ç”¨å…¶ä»–æ“ä½œç¬¦ã€‚</p><h1 id="æ­£åˆ™è¡¨è¾¾å¼">æ­£åˆ™è¡¨è¾¾å¼</h1><p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”¨æ¥åŒ¹é…æ–‡æœ¬çš„ç‰¹æ®Šçš„ä¸²ï¼ˆå­—ç¬¦é›†åˆï¼‰ï¼ŒåŠŸèƒ½éå¸¸å¼ºå¤§ã€‚ã€‚MySQLç”¨WHEREå­å¥å¯¹æ­£åˆ™è¡¨è¾¾å¼æä¾›äº†åˆæ­¥çš„æ”¯æŒï¼Œåªæ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªå¾ˆå°çš„å­é›†ã€‚</p><p><strong>å…³é”®å­—</strong>ï¼š<code>REGEXP</code></p><h2 id="å­—ç¬¦åŒ¹é…">å­—ç¬¦åŒ¹é…</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> prod_name<br><span class="hljs-keyword">FROM</span> products<br><span class="hljs-keyword">WHERE</span> prod_name REGEXP <span class="hljs-string">&#x27;.000&#x27;</span><br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> prod_name;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨äº†æ­£åˆ™è¡¨è¾¾å¼<code>.000</code>ï¼Œå°æ•°ç‚¹è¡¨ç¤º<em>åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦</em>ï¼Œå› æ­¤1000 å’Œ 2000 éƒ½ä¼šè¢«åŒ¹é…ã€‚</p><p>æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…é»˜è®¤æ˜¯ä¸åŒºåˆ†å¤§å°å†™ã€1çš„ï¼Œå¦‚æœéœ€è¦åŒºåˆ†ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¹‹å‰åŠ ä¸Š<code>BINARY</code>ï¼Œä¾‹å¦‚<code>REGEXP BINARY 'JetPack .000'</code>ã€‚</p><h2 id="or-åŒ¹é…">OR åŒ¹é…</h2><p>æœç´¢ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹ä¸€ï¼Œä½¿ç”¨<code>|</code>ã€‚ä¾‹å¦‚ï¼š<code>REGEXP '1000|2000'</code>åŒ¹é…æ‰€æœ‰åŒ…å«1000 æˆ– 2000 çš„å­—ç¬¦ä¸²ã€‚å¯ä»¥è¿ç»­ä½¿ç”¨å¤šä¸ª<code>|</code>ã€‚</p><h2 id="åŒ¹é…å¤šä¸ªå­—ç¬¦ä¹‹ä¸€">åŒ¹é…å¤šä¸ªå­—ç¬¦ä¹‹ä¸€</h2><p><code>[]</code>å¯ä»¥åŒ¹é…ä¸­æ‹¬å·ä¸­å‡ºç°çš„å­—ç¬¦ä¹‹ä¸€ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> prod_name<br><span class="hljs-keyword">FROM</span> products<br><span class="hljs-keyword">WHERE</span> prod_name REGEXP <span class="hljs-string">&#x27;[123] Ton&#x27;</span><br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> prod_name;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">+-------------+<br>| prod_name   |<br>+-------------+<br>| 1 ton anvil |<br>| 2 ton anvil |<br>+-------------+<br></code></pre></td></tr></table></figure><p>æˆåŠŸåŒ¹é… 1 æˆ– 2 æˆ– 3ã€‚è¿™æ˜¯å¦ä¸€ç§å½¢å¼çš„ ORè¯­å¥ã€‚<code>[^123]</code>å¯ä»¥åŒ¹é…é™¤äº†è¿™ä¸‰ä¸ªå­—ç¬¦ä»¥å¤–çš„ä»»ä½•ä¸œè¥¿ã€‚</p><h2 id="åŒ¹é…èŒƒå›´">åŒ¹é…èŒƒå›´</h2><p>å±äºä¸Šä¸€ä¸ªä¾‹å­çš„åŠ å¼ºç‰ˆï¼š<code>[0-9]</code>åŒ¹é…æ•°å­— 0 åˆ°9ï¼Œä¸å¿…æŠŠæ•°å­—ä¸€ä¸ªä¸€ä¸ªåˆ—ä¸¾å‡ºæ¥äº†ã€‚</p><p><code>[a-z]</code>åŒ¹é…ä»»æ„è‹±æ–‡å­—æ¯ã€‚</p><h2 id="ç‰¹æ®Šå­—ç¬¦">ç‰¹æ®Šå­—ç¬¦</h2><p>åŒ¹é…ä»»æ„å­—ç¬¦å¯ä»¥ç”¨å°æ•°ç‚¹<code>.</code>ï¼Œé‚£åŒ¹é…å°æ•°ç‚¹å‘¢ï¼Ÿ</p><p>å¯¹äºè¿™ç§ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦åœ¨å‰é¢åŠ ä¸Š<code>\\</code>è½¬ä¹‰(escaping)æ¥åŒ¹é…å®ƒæœ¬èº«ï¼Œå’ŒJavaä¸­çš„å¤„ç†æ–¹æ³•ç›¸åŒã€‚</p><h2 id="å­—ç¬¦ç±»">å­—ç¬¦ç±»</h2><p>æœ‰é¢„å…ˆå®šä¹‰å¾…çš„å­—ç¬¦é›†å¯ä¾›ä½¿ç”¨ï¼š</p><p><img src="https://s21.ax1x.com/2025/05/11/pEXCWg1.png" /></p><h2 id="åŒ¹é…å¤šä¸ªå®ä¾‹">åŒ¹é…å¤šä¸ªå®ä¾‹</h2><p>å¯¹åŒ¹é…çš„æ¬¡æ•°åŠ ä»¥æŒ‡å®šã€‚ä¾‹å¦‚ï¼š</p><ul><li><code>'[[:digit:]]&#123;4&#125;'</code> åŒ¹é…è¿åœ¨ä¸€èµ·çš„ä»»æ„4ä½æ•°å­—ã€‚</li></ul><p><img src="https://s21.ax1x.com/2025/05/11/pEXCIHO.png" /></p><h2 id="å®šä½ç¬¦">å®šä½ç¬¦</h2><p>ç”¨äºåŒ¹é…ç‰¹å®šä½ç½®çš„æ–‡æœ¬ã€‚</p><ul><li>^ æ–‡æœ¬çš„å¼€å§‹</li><li>$ æ–‡æœ¬çš„ç»“å°¾</li><li>[[:&lt;:]] è¯çš„å¼€å§‹</li><li>[[:&gt;:]] è¯çš„ç»“å°¾</li></ul><h1 id="ä¿®æ”¹æ•°æ®">ä¿®æ”¹æ•°æ®</h1><p>CRUDï¼šCreateã€Retrieveã€Updateã€Delete</p><p>å¢ã€åˆ ã€æ”¹ã€æŸ¥</p><p>å‰é¢çš„<code>SELECT</code>ç”¨äºæŸ¥ï¼Œå¢åˆ æ”¹å¯¹åº”çš„æ“ä½œæ˜¯ï¼š</p><ul><li>INSERT</li><li>UPDATE</li><li>DELETE</li></ul><h2 id="insert">INSERT</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> è¡¨å (å­—æ®µ<span class="hljs-number">1</span>, å­—æ®µ<span class="hljs-number">2</span>, ...) <span class="hljs-keyword">VALUES</span> (å€¼<span class="hljs-number">1</span>, å€¼<span class="hljs-number">2</span>, ...);<br></code></pre></td></tr></table></figure><p>æœ‰é»˜è®¤å€¼çš„å­—æ®µåœ¨æ’å…¥çš„æ—¶å€™å¯ä»¥ä¸å±‘ï¼Œè‡ªåŠ¨é™„ä¸Šé»˜è®¤å€¼ï¼Œä½†æ˜¯æ²¡æœ‰é»˜è®¤å€¼çš„è¯å¿…é¡»æ˜¾å¼èµ‹å€¼ã€‚</p><p>å¯ä»¥åŒæ—¶ä½¿ç”¨å¤šæ¡INSERTè¯­å¥ï¼Œè¿™æ—¶ä¸åŒçš„è¯­å¥ä¹‹é—´ç”¨åˆ†å·éš”å¼€ã€‚å¦‚æœæ¯æ¡INSERTè¯­å¥ä¸­çš„<code>è¡¨å(å­—æ®µ1, å­—æ®µ2...)</code>ç›¸åŒï¼Œåªéœ€è¦åœ¨åé¢è¡¥å……<code>VALUES</code>ï¼Œå¹¶ä¸”ç”¨é€—å·éš”å¼€ï¼Œè¿™æ ·å¯ä»¥æé«˜æ•°æ®åº“å¤„ç†çš„æ€§èƒ½ï¼Œå› ä¸ºMySQLç”¨å•æ¡INSERTè¯­å¥å¤„ç†å¤šä¸ªæ’å…¥æ¯”ä½¿ç”¨å¤šæ¡INSERTè¯­å¥å¿«ã€‚</p><h2 id="update">UPDATE</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">UPDATE</span> è¡¨å <span class="hljs-keyword">SET</span> å­—æ®µ<span class="hljs-number">1</span><span class="hljs-operator">=</span>å€¼<span class="hljs-number">1</span>, å­—æ®µ<span class="hljs-number">2</span><span class="hljs-operator">=</span>å€¼<span class="hljs-number">2</span>, ... <span class="hljs-keyword">WHERE</span> ...;<br></code></pre></td></tr></table></figure><p><code>WHERE</code>å¯ä»¥æ¶µç›–å¤šä¸ªå¯¹è±¡ï¼ŒåŒæ—¶ä¿®æ”¹å¤šä¸ªå¯¹è±¡çš„å€¼ã€‚</p><p>å¦‚æœä¸å†™<code>WHERE</code>æ¡ä»¶ï¼Œæ•´å¼ è¡¨çš„è®°å½•éƒ½ä¼šè¢«ä¿®æ”¹ã€‚</p><h2 id="delete">DELETE</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> è¡¨å <span class="hljs-keyword">WHERE</span> ...;<br></code></pre></td></tr></table></figure><p>å¦‚æœä¸å†™<code>WHERE</code>æ¡ä»¶ï¼Œæ•´å¼ è¡¨çš„è®°å½•éƒ½ä¼šè¢«åˆ é™¤ã€‚</p><h1 id="mysql-å¼•æ“">MySQL å¼•æ“</h1><ul><li>InnoDBæ˜¯ä¸€ä¸ªå¯é çš„äº‹åŠ¡å¤„ç†å¼•æ“ï¼ˆå‚è§ç¬¬26ç« ï¼‰ï¼Œå®ƒä¸æ”¯æŒå…¨æ–‡æœ¬æœç´¢ï¼Œé»˜è®¤ä½¿ç”¨æ­¤å¼•æ“ï¼›</li><li>MEMORYåœ¨åŠŸèƒ½ç­‰åŒäºMyISAMï¼Œä½†ç”±äºæ•°æ®å­˜å‚¨åœ¨å†…å­˜ï¼ˆä¸æ˜¯ç£ç›˜ï¼‰ä¸­ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼ˆç‰¹åˆ«é€‚åˆäºä¸´æ—¶è¡¨ï¼‰ï¼›</li><li>MyISAMæ˜¯ä¸€ä¸ªæ€§èƒ½æé«˜çš„å¼•æ“ï¼Œå®ƒæ”¯æŒå…¨æ–‡æœ¬æœç´¢ï¼ˆå‚è§ç¬¬18ç« ï¼‰ï¼Œä½†ä¸æ”¯æŒäº‹åŠ¡å¤„ç†ã€‚</li></ul><h1 id="è§†å›¾">è§†å›¾</h1><h2 id="ç”¨æ³•">ç”¨æ³•</h2><p>åœ¨ SQLä¸­ï¼Œè§†å›¾ï¼ˆViewï¼‰æ˜¯ä¸€ç§<strong>è™šæ‹Ÿè¡¨</strong>ï¼Œå®ƒå¹¶ä¸å­˜å‚¨å®é™…æ•°æ®ï¼Œè€Œæ˜¯åŸºäºä¸€æ¡SELECTæŸ¥è¯¢è¯­å¥åŠ¨æ€ç”Ÿæˆçš„â€œç»“æœé›†â€ã€‚è§†å›¾å°±æ˜¯<strong>å¯é‡ç”¨</strong>çš„æŸ¥è¯¢è¯­å¥ç»“æœï¼Œå®ƒçœ‹èµ·æ¥åƒè¡¨ï¼Œä½†ä¸çœŸæ­£å­˜å‚¨æ•°æ®ã€‚</p><p>ä¾‹å¦‚ï¼Œç°åœ¨æˆ‘ä»¬è¦æŠŠæ¯ä¸ªå­¦ç”Ÿæ‰€åœ¨ç­çº§çš„åå­—å’Œå­¦ç”Ÿçš„å§“åæ”¾åœ¨ä¸€èµ·ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŸ¥è¯¢è¯­å¥ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> c.name, s.name<br><span class="hljs-keyword">from</span> classes <span class="hljs-keyword">as</span> c<br><span class="hljs-keyword">join</span> students <span class="hljs-keyword">as</span> s <span class="hljs-keyword">on</span> c.id <span class="hljs-operator">=</span> s.class_id;<br></code></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœï¼š</p><table><thead><tr><th>ç­çº§</th><th>å­¦ç”Ÿå</th></tr></thead><tbody><tr><td>class1</td><td>å°æ˜</td></tr><tr><td>class1</td><td>hong</td></tr><tr><td>class1</td><td>jun</td></tr><tr><td>class1</td><td>mi</td></tr><tr><td>class2</td><td>bai</td></tr><tr><td>class2</td><td>bing</td></tr><tr><td>class2</td><td>ling</td></tr><tr><td>class3</td><td>xin</td></tr><tr><td>class3</td><td>wang</td></tr><tr><td>class3</td><td>li</td></tr><tr><td>class4</td><td>Spike</td></tr><tr><td>class4</td><td>Elma</td></tr><tr><td>class4</td><td>Amy</td></tr></tbody></table><p>ç°åœ¨ï¼Œå‡å¦‚ç»å¸¸éœ€è¦è¿™ä¸ªæ ¼å¼çš„ç»“æœã€‚ä¸å¿…åœ¨æ¯æ¬¡éœ€è¦æ—¶æ‰§è¡Œè¿æ¥ï¼Œåªéœ€åˆ›å»ºä¸€ä¸ªè§†å›¾ï¼Œæ¯æ¬¡éœ€è¦æ—¶ä½¿ç”¨å®ƒå³å¯ã€‚ä¸ºæŠŠæ­¤è¯­å¥è½¬æ¢ä¸ºè§†å›¾ï¼Œå¾ˆç®€å•ï¼Œ</p><ul><li>åœ¨æŸ¥è¯¢è¯­å¥å¼€å¤´åŠ ä¸Š<code>create view è§†å›¾å as</code></li><li>è¿™é‡Œæœ‰ä¸¤ä¸ª name å­—æ®µï¼Œåˆ†åˆ«æ¥è‡ª classes å’Œ students è¡¨ï¼Œä½†åˆ—åéƒ½å«nameã€‚ æ‰€ä»¥è§†å›¾å°±ä¼šæœ‰ä¸¤ä¸ªå« name çš„åˆ—ï¼Œè¿™åœ¨ SQLä¸­æ˜¯ä¸å…è®¸çš„ï¼Œè§£å†³æ–¹æ³•æ˜¯ä¸ºä¸¤ä¸ªå­—æ®µåˆ†åˆ«èµ·ä¸€ä¸ªåˆ«å</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">view</span> class_student <span class="hljs-keyword">as</span><br><span class="hljs-keyword">select</span> c.name <span class="hljs-keyword">as</span> class_name, s.name <span class="hljs-keyword">as</span> student_name<br><span class="hljs-keyword">from</span> classes <span class="hljs-keyword">as</span> c<br><span class="hljs-keyword">join</span> students <span class="hljs-keyword">as</span> s <span class="hljs-keyword">on</span> c.id <span class="hljs-operator">=</span> s.class_id;<br></code></pre></td></tr></table></figure><p>ä»¥åè¦æƒ³æŸ¥è¯¢ç­çº§åå’Œå­¦ç”Ÿåæ„æˆçš„è¡¨æ ¼ï¼Œåªéœ€è¦è°ƒç”¨ä»¥ä¸‹è¯­å¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> class_student;<br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±å®Œæˆäº†å¯¹å›ºå®šè¿æ¥æŸ¥è¯¢ç»“æœçš„å°è£…å’Œé‡ç”¨ã€‚å¯ä»¥çœ‹å‡ºï¼Œè§†å›¾æå¤§åœ°ç®€åŒ–äº†å¤æ‚SQLè¯­å¥çš„ä½¿ç”¨ã€‚åˆ©ç”¨è§†å›¾ï¼Œå¯ä¸€æ¬¡æ€§ç¼–å†™åŸºç¡€çš„SQLï¼Œç„¶åæ ¹æ®éœ€è¦å¤šæ¬¡ä½¿ç”¨ã€‚</p><p>é™¤äº†é‡ç”¨ä»¥å¤–ï¼Œè§†å›¾è¿˜æœ‰ä»¥ä¸‹ä½œç”¨ï¼š</p><ol type="1"><li>ä½¿ç”¨è¡¨çš„ç»„æˆéƒ¨åˆ†è€Œä¸æ˜¯æ•´ä¸ªè¡¨;</li><li>ä¿æŠ¤æ•°æ®ã€‚å¯ä»¥ç»™ç”¨æˆ·æˆäºˆè¡¨çš„ç‰¹å®šéƒ¨åˆ†çš„è®¿é—®æƒé™è€Œä¸æ˜¯æ•´ä¸ªè¡¨çš„è®¿é—®æƒé™;</li><li>æ›´æ”¹æ•°æ®æ ¼å¼å’Œè¡¨ç¤ºã€‚è§†å›¾å¯è¿”å›ä¸åº•å±‚è¡¨çš„è¡¨ç¤ºå’Œæ ¼å¼ä¸åŒçš„æ•°æ®ã€‚</li></ol><p>æœ€åä¸€ç‚¹å¯ä»¥ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> concat(name, <span class="hljs-string">&#x27;(&#x27;</span>, gender, <span class="hljs-string">&#x27;)&#x27;</span>) <span class="hljs-keyword">as</span> student<br><span class="hljs-keyword">from</span> students <br><span class="hljs-keyword">where</span> gender <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;M&#x27;</span><br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> name;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°è¯­å¥å°†æ‰€æœ‰çš„ç”·æ€§ä¿¡æ¯æŒ‰ç…§<code>åå­—(æ€§åˆ«)</code>çš„æ ¼å¼é‡å»ºï¼Œå¦‚ä¸‹ï¼š</p><table><thead><tr><th>student</th></tr></thead><tbody><tr><td>bing (M)</td></tr><tr><td>jun (M)</td></tr><tr><td>ling (M)</td></tr><tr><td>wang (M)</td></tr><tr><td>xQc (M)</td></tr></tbody></table><p>å¦‚æœéœ€è¦çš„è¯ä¹Ÿå¯ä»¥æŠŠè¿™ä¸ªè¡¨æ ¼å°è£…æˆä¸€ä¸ªè§†å›¾ã€‚</p><h2 id="è§†å›¾çš„è§„åˆ™å’Œé™åˆ¶">è§†å›¾çš„è§„åˆ™å’Œé™åˆ¶</h2><ol type="1"><li>è§†å›¾å¿…é¡»å”¯ä¸€å‘½å;</li><li>ä¸ºäº†åˆ›å»ºè§†å›¾ï¼Œå¿…é¡»å…·æœ‰è¶³å¤Ÿçš„è®¿é—®æƒé™;</li><li>è§†å›¾å¯ä»¥åµŒå¥—ï¼Œå³å¯ä»¥åˆ©ç”¨ä»å…¶ä»–è§†å›¾ä¸­æ£€ç´¢æ•°æ®çš„æŸ¥è¯¢æ¥æ„é€ ä¸€ä¸ªè§†å›¾;</li><li>ORDER BY å¯ä»¥ç”¨åœ¨è§†å›¾ä¸­ï¼Œä½†å¦‚æœä»è¯¥è§†å›¾æ£€ç´¢æ•°æ® SELECT ä¸­ä¹Ÿå«æœ‰ORDER BY ï¼Œé‚£ä¹ˆè¯¥è§†å›¾ä¸­çš„ ORDER BY å°†è¢«è¦†ç›–ã€‚</li><li>è§†å›¾ä¸èƒ½ç´¢å¼•ï¼Œä¹Ÿä¸èƒ½æœ‰å…³è”çš„è§¦å‘å™¨æˆ–é»˜è®¤å€¼ã€‚</li></ol><h2 id="ç®¡ç†è§†å›¾">ç®¡ç†è§†å›¾</h2><ul><li>æŸ¥çœ‹åˆ›å»ºè§†å›¾çš„è¯­å¥ï¼š<code>show create view è§†å›¾å</code></li><li>åˆ é™¤è§†å›¾ï¼š<code>drop view è§†å›¾å</code></li><li>æ›´æ–°è§†å›¾æ—¶ï¼Œå¯ä»¥å…ˆåˆ é™¤<code>deop</code>å†åˆ›å»º<code>create</code>,ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨<code>create or replace view</code></li></ul><h1 id="å­˜å‚¨è¿‡ç¨‹">å­˜å‚¨è¿‡ç¨‹</h1><p>åœ¨ MySQL ä¸­ï¼Œå­˜å‚¨è¿‡ç¨‹ï¼ˆStored Procedureï¼‰æ˜¯ä¸€ç§é¢„ç¼–è¯‘çš„ SQLè¯­å¥é›†åˆï¼Œå¯ä»¥åƒè°ƒç”¨å‡½æ•°ä¸€æ ·æ‰§è¡Œå®ƒã€‚å®ƒé€šå¸¸ç”¨äºå°è£…é‡å¤æ‰§è¡Œçš„æ“ä½œï¼Œæ¯”å¦‚ä¸€ç»„æŸ¥è¯¢ã€æ›´æ–°æˆ–é€»è¾‘åˆ¤æ–­ç­‰ã€‚</p><p>ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹æœ‰3ä¸ªä¸»è¦çš„å¥½å¤„ï¼Œå³ç®€å•ã€å®‰å…¨ã€é«˜æ€§èƒ½ã€‚</p><h2 id="åˆ›å»º">åˆ›å»º</h2><p>å¦‚æœä½¿ç”¨çš„æ˜¯MySQLå‘½ä»¤è¡Œï¼Œå…ˆåˆ›å»ºä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql">DELIMITER $$<br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span> GetNameById(<br>  <span class="hljs-keyword">IN</span> custId <span class="hljs-type">INT</span><br>)<br><br><span class="hljs-keyword">BEGIN</span><br>    <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> students <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> custId;<br><span class="hljs-keyword">END</span> $$<br><br></code></pre></td></tr></table></figure><ul><li><code>DELIMITER</code>çš„å­˜åœ¨æ„ä¹‰æ˜¯æ”¹å˜ SQLè¯­å¥çš„â€œè¯­å¥ç»“æŸç¬¦â€ã€‚è€ƒè™‘ä¸ä½¿ç”¨<code>DELIMITER</code>çš„æƒ…å†µï¼š</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span> demo()<br><span class="hljs-keyword">BEGIN</span><br>    <span class="hljs-keyword">SELECT</span> <span class="hljs-string">&#x27;hello&#x27;</span>;<br>    <span class="hljs-keyword">SELECT</span> <span class="hljs-string">&#x27;world&#x27;</span>;<br><span class="hljs-keyword">END</span>;<br></code></pre></td></tr></table></figure><p>æ¯ä¸€ä¸ªè¯­å¥çš„ç»“æŸå¤„éƒ½å¿…é¡»æœ‰ä¸€ä¸ªåˆ†å·ï¼Œå…¶ç»“æœå°±æ˜¯åˆšæ‰§è¡Œå®Œ<code>SELECT 'hello';</code>MySQLå°±è®¤ä¸ºè¯­å¥å·²ç»ç»“æŸäº†ï¼Œä»è€ŒæŠ¥é”™ã€‚è§£å†³æ–¹æ³•å°±æ˜¯ä½¿ç”¨<code>DELIMITER</code>æ‰‹åŠ¨ä¿®æ”¹ç»“æŸç¬¦ï¼Œ<code>DELIMITER $$</code>å°†ç»“æŸç¬¦ä¸´æ—¶ä¿®æ”¹æˆ<code>$$</code>ï¼Œæœ€å<code>END $$</code>æŠŠç»“æŸç¬¦æ”¹å›é»˜è®¤çš„åˆ†å·ã€‚</p><p>åˆ›å»ºå®Œæ¯•ä¹‹åï¼Œæ‰§è¡Œè¯­å¥<code>call GetNameById(12);</code>ï¼Œå¯ä»¥æ­£ç¡®å¾—åˆ°idä¸º12 çš„å­¦ç”Ÿçš„ä¿¡æ¯ã€‚</p><h2 id="å‚æ•°é—®é¢˜">å‚æ•°é—®é¢˜</h2><p>SQL è¯­å¥æ”¯æŒä¸‰ç§å‚æ•°ç±»å‹ï¼š</p><table><thead><tr><th>å‚æ•°ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>IN</code></td><td>è°ƒç”¨æ—¶ä¼ å…¥çš„åªè¯»å‚æ•°</td></tr><tr><td><code>OUT</code></td><td>å­˜å‚¨è¿‡ç¨‹æ‰§è¡Œåè¿”å›çš„è¾“å‡ºå€¼</td></tr><tr><td><code>INOUT</code></td><td>å¯è¯»å¯å†™ï¼Œè°ƒç”¨æ—¶ä¼ å…¥ï¼Œè¿‡ç¨‹å†…å¯ä»¥æ›´æ”¹ï¼Œå¹¶è¿”å›ç»“æœ</td></tr></tbody></table><p>ä¸ºäº†æ–¹ä¾¿å¯¹å­˜å‚¨è¿‡ç¨‹ä¼ å…¥å‚æ•°æˆ–æ¥æ”¶è¾“å‡ºç»“æœï¼Œå¾€å¾€éœ€è¦å®šä¹‰å˜é‡ã€‚åœ¨MySQLä¸­ï¼Œæ‰€æœ‰çš„å˜é‡å¿…é¡»ä»¥<code>@</code>å¼€å¤´ï¼Œå®šä¹‰å˜é‡ä½¿ç”¨<code>SET</code>å…³é”®å­—ã€‚</p><p>ä¸‹é¢ä¸¾ä¸€ä¸ªä½¿ç”¨äº†å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹çš„ä¾‹å­ï¼šæ ¹æ®ä¼ å…¥çš„<code>id</code>è¾“å‡ºå¯¹åº”å­¦ç”Ÿçš„åå­—</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sql">DELIMITER <span class="hljs-operator">/</span><span class="hljs-operator">/</span><br><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">procedure</span> get_student_by_id (<br><span class="hljs-keyword">in</span> student_id <span class="hljs-type">INT</span>,<br><span class="hljs-keyword">out</span> student_name <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>)<br>)<br><span class="hljs-keyword">begin</span><br><span class="hljs-keyword">select</span> name <span class="hljs-keyword">into</span> student_name<br><span class="hljs-keyword">from</span> students<br><span class="hljs-keyword">where</span> students.id <span class="hljs-operator">=</span> student_id;<br><span class="hljs-keyword">end</span> <span class="hljs-operator">/</span><span class="hljs-operator">/</span><br><br>DELIMITER ;<br></code></pre></td></tr></table></figure><p>è°ƒç”¨è¯¥å­˜å‚¨è¿‡ç¨‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">set</span> <span class="hljs-variable">@sname</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;&#x27;</span>;<br><br><span class="hljs-keyword">call</span> get_student_by_id(<span class="hljs-number">1</span>, <span class="hljs-variable">@sname</span>);<br><br><span class="hljs-keyword">select</span> <span class="hljs-variable">@sname</span>;<br></code></pre></td></tr></table></figure><h2 id="åˆ é™¤">åˆ é™¤</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">PROCEDURE</span> å­˜å‚¨è¿‡ç¨‹å<br></code></pre></td></tr></table></figure><p>å¦‚æœæŒ‡å®šçš„å­˜å‚¨è¿‡ç¨‹ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè¯¥è¯­å¥ä¼šæŠ¥é”™ã€‚ä¸ºäº†é˜²æ­¢æŠ¥é”™ï¼Œå¯ä»¥ä½¿ç”¨<code>DROP PROCEDURE IF EXISTS</code></p><h1 id="è§¦å‘å™¨">è§¦å‘å™¨</h1><p>MySQL 5 æ·»åŠ äº†å¯¹è§¦å‘å™¨çš„æ”¯æŒã€‚</p><p>è§¦å‘å™¨æ˜¯MySQLå“åº”ä»¥ä¸‹ä»»æ„è¯­å¥è€Œè‡ªåŠ¨æ‰§è¡Œçš„ä¸€æ¡MySQLè¯­å¥ï¼ˆæˆ–ä½äºBEGINå’ŒENDè¯­å¥ä¹‹é—´çš„ä¸€ç»„è¯­å¥ï¼‰ï¼š</p><ul><li>DELETE</li><li>INSERT</li><li>UPDATE</li></ul><p>å…¶ä»–sqlè¯­å¥éƒ½ä¸æ”¯æŒè§¦å‘å™¨ã€‚</p><h2 id="å¦‚ä½•ä½¿ç”¨">å¦‚ä½•ä½¿ç”¨</h2><p>åˆ›å»ºè§¦å‘å™¨éœ€è¦ç»™å‡ºå››æ¡ä¿¡æ¯ï¼š</p><ul><li>å”¯ä¸€çš„è§¦å‘å™¨åï¼ˆMySQLè§„å®šæ¯ä¸ªè¡¨ä¸­å”¯ä¸€ï¼Œä½†æ˜¯æ¨èåœ¨æ•´ä¸ªæ•°æ®åº“èŒƒå›´å†…ä½¿ç”¨å”¯ä¸€çš„è§¦å‘å™¨åï¼‰ï¼›</li><li>è§¦å‘å™¨å…³è”çš„è¡¨ï¼›</li><li>è§¦å‘å™¨åº”è¯¥å“åº”çš„äº‹ä»¶ï¼ˆDELETEã€INSERTæˆ–UPDATEï¼‰ï¼›</li><li>è§¦å‘å™¨ä½•æ—¶æ‰§è¡Œï¼ˆå¤„ç†ä¹‹å‰æˆ–ä¹‹åï¼‰ã€‚</li></ul><p>MySQLè§„å®š<strong>è§¦å‘å™¨ä¸­ä¸èƒ½æœ‰ä»»ä½•è¿”å›ç»“æœé›†çš„è¡Œä¸º</strong>ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>SELECT</li><li>CALL å«æœ‰ SELECT çš„å­˜å‚¨è¿‡ç¨‹</li><li>è¿”å›æ¸¸æ ‡</li></ul><p>å…³é”®å­—ï¼š<code>CREATE TRIGGER</code>ã€‚ä¸‹é¢çš„sqlè„šæœ¬åˆ›å»ºäº†ä¸€ä¸ªè§¦å‘å™¨ï¼Œæ¯å½“<code>students</code>è¡¨å‘ç”Ÿæ’å…¥æ“ä½œæ—¶å°±ä¼šæ‰§è¡Œï¼Œæ‰§è¡Œçš„ç»“æœæ˜¯å‘ç”¨äºè®°å½•æ—¥å¿—çš„è¡¨<code>student_insert_log</code>æ’å…¥ä¸€æ¡æ—¥å¿—ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sql">DELIMITER <span class="hljs-operator">/</span><span class="hljs-operator">/</span><br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TRIGGER</span> insert_test<br>AFTER <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">ON</span> students<br><span class="hljs-keyword">FOR</span> <span class="hljs-keyword">EACH</span> <span class="hljs-type">ROW</span><br><span class="hljs-keyword">BEGIN</span><br>    <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> student_insert_log (student_id)<br>    <span class="hljs-keyword">VALUES</span> (NEW.id);<br><span class="hljs-keyword">END</span>;<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span><br><br>DELIMITER ;<br></code></pre></td></tr></table></figure><p>è§¦å‘å™¨ä¸­è¿˜æœ‰<code>NEW</code>å’Œ<code>OLD</code>è¿™ä¸¤ä¸ªç‰¹æ®Šçš„å…³é”®å­—ï¼š</p><ul><li>åœ¨ INSERTè§¦å‘å™¨ä¸­å¯ä»¥é€šè¿‡<code>NEW</code>è®¿é—®è¢«æ’å…¥çš„è¡Œï¼Œä¾‹å¦‚<code>NEW.id</code>è·å–è¢«æ’å…¥è®°å½•çš„idå€¼ã€‚</li><li>åœ¨ DELETE è§¦å‘å™¨ä»£ç å†…ï¼Œå¯ä»¥å¼•ç”¨<code>OLD</code>è®¿é—®è¢«åˆ é™¤çš„è¡Œ</li><li>åœ¨ UPDATEè§¦å‘å™¨ä»£ç å†…ï¼Œå¯ä»¥å¼•ç”¨<code>OLD</code>å¼•ç”¨åŸæ¥çš„è¡Œï¼Œç”¨<code>NEW</code>å¼•ç”¨æ–°çš„è¡Œ</li></ul><p>BEFORE å’Œ AFTER çš„ä½¿ç”¨åœºæ™¯ï¼šBEFOREç”¨äºå¯¹æ’å…¥æ•°æ®çš„æ•°æ®éªŒè¯ï¼Œç¡®ä¿æ’å…¥/æ›´æ–°/åˆ é™¤æ“ä½œå¤„ç†çš„æ˜¯æ­£ç¡®çš„æ•°æ®ã€‚AFTERç”¨äºåœ¨æ“ä½œå®Œæˆåæ‰§è¡Œæ—¥å¿—è®°å½•ç­‰ã€‚</p><h2 id="æ€»ç»“">æ€»ç»“</h2><ul><li>åº”è¯¥ç”¨è§¦å‘å™¨æ¥ä¿è¯<strong>æ•°æ®çš„ä¸€è‡´æ€§</strong>ï¼ˆå¤§å°å†™ã€æ ¼å¼ç­‰ï¼‰ã€‚åœ¨è§¦å‘å™¨ä¸­æ‰§è¡Œè¿™ç§ç±»å‹çš„å¤„ç†çš„ä¼˜ç‚¹æ˜¯å®ƒæ€»æ˜¯è¿›è¡Œè¿™ç§å¤„ç†ï¼Œè€Œä¸”æ˜¯é€æ˜åœ°è¿›è¡Œï¼Œä¸å®¢æˆ·æœºåº”ç”¨æ— å…³ã€‚</li><li>è§¦å‘å™¨çš„ä¸€ç§éå¸¸æœ‰æ„ä¹‰çš„ä½¿ç”¨æ˜¯åˆ›å»º<strong>å®¡è®¡è·Ÿè¸ª</strong>ã€‚ä½¿ç”¨è§¦å‘å™¨ï¼ŒæŠŠæ›´æ”¹ï¼ˆå¦‚æœéœ€è¦ï¼Œç”šè‡³è¿˜æœ‰ä¹‹å‰å’Œä¹‹åçš„çŠ¶æ€ï¼‰è®°å½•åˆ°å¦ä¸€ä¸ªè¡¨éå¸¸å®¹æ˜“ã€‚</li><li>MySQL è§¦å‘å™¨ä¸­<strong>ä¸æ”¯æŒ</strong> CALLè¯­å¥ã€‚è¿™è¡¨ç¤ºä¸èƒ½ä»è§¦å‘å™¨å†…è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ã€‚æ‰€éœ€çš„å­˜å‚¨è¿‡ç¨‹ä»£ç éœ€è¦å¤åˆ¶åˆ°è§¦å‘å™¨å†…ã€‚</li></ul><h1 id="äº‹åŠ¡å¤„ç†">äº‹åŠ¡å¤„ç†</h1><h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><p>äº‹åŠ¡å¤„ç†(TransactionProcessing)ä¸€å…±æœ‰ä¸¤ä¸ªæ“ä½œï¼šæäº¤(<strong>COMMIT</strong>)å’Œå›æ»š(<strong>ROLLBACK</strong>)ã€‚å®ƒå¯ä»¥ç”¨æ¥ç»´æŠ¤æ•°æ®åº“çš„å®Œæ•´æ€§ï¼Œä¿è¯æˆæ‰¹çš„MySQLæ“ä½œè¦ä¹ˆå®Œå…¨æ‰§è¡Œï¼Œè¦ä¹ˆå®Œå…¨ä¸æ‰§è¡Œã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šç°åœ¨æˆ‘ä»¬ç”¨ä¸€ä¸ª<code>orders</code>è¡¨ç”¨æ¥è®°å½•å®¢æˆ·è®¢å•çš„ç¼–å·å’Œä¸‹å•æ—¥æœŸï¼Œå¦ä¸€ä¸ªè¡¨<code>orders_item</code>ç”¨æ¥è®°å½•æ¯ä¸ªè®¢å•åŒ…å«çš„ç‰©å“ã€æ•°é‡ã€ä»·æ ¼çš„å…·ä½“ç»†èŠ‚ï¼Œè¿™ä¸¤ä¸ªè¡¨é€šè¿‡ä¸»é”®<code>order_num</code>å…³è”ã€‚æ˜¾ç„¶ï¼Œå½“æˆ‘ä»¬æ”¶åˆ°æ–°è®¢å•çš„æ—¶å€™ï¼Œéœ€è¦åŒæ—¶å¾€ä¸¤ä¸ªè¡¨æ·»åŠ è®°å½•ã€‚ä½†æ˜¯å¦‚æœä¸¤æ¬¡æ’å…¥æ“ä½œä¸­æœ‰æŸä¸€ä¸ªå‘ç”Ÿäº†é”™è¯¯ï¼Œå°±ä¼šå¯¼è‡´â€œç©ºè®¢å•â€çš„äº§ç”Ÿï¼Œè¿™æ˜¯ä¸è¢«å…è®¸çš„ã€‚</p><p>è§£å†³æ–¹æ³•æ˜¯å°†ä¸€ä¸ªäº‹åŠ¡çš„æ‰€æœ‰æ“ä½œç»Ÿä¸€ç®¡ç†èµ·æ¥ã€‚ä¸Šè¿°æ”¶åˆ°æ–°è®¢å•åæ·»åŠ è®°å½•çš„å°±æ˜¯ä¸€ä¸ªäº‹åŠ¡ï¼Œå®ƒåŒ…å«ä¸¤ä¸ªæ“ä½œï¼šå‘<code>orders</code>æ’å…¥è®¢å•ç¼–å·å’Œæ—¥æœŸï¼Œå‘<code>orders_item</code>æ’å…¥å…¶å®ƒç»†èŠ‚ã€‚</p><p>å¦‚æœæ²¡æœ‰é”™è¯¯å‘ç”Ÿï¼Œå°†æ•´ç»„è¯­å¥æäº¤ç»™ï¼ˆå†™åˆ°ï¼‰æ•°æ®åº“è¡¨ã€‚å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿›è¡Œå›é€€ï¼ˆæ’¤é”€ï¼‰ä»¥æ¢å¤æ•°æ®åº“åˆ°æŸä¸ªå·²çŸ¥ä¸”å®‰å…¨çš„çŠ¶æ€ã€‚</p><h2 id="å¸¸ç”¨æœ¯è¯­">å¸¸ç”¨æœ¯è¯­</h2><ul><li>äº‹åŠ¡ï¼ˆtransactionï¼‰æŒ‡ä¸€ç»„SQLè¯­å¥ï¼›</li><li>å›æ»šï¼ˆrollbackï¼‰æŒ‡æ’¤é”€æŒ‡å®šSQLè¯­å¥çš„è¿‡ç¨‹ï¼›</li><li>æäº¤ï¼ˆcommitï¼‰æŒ‡å°†æœªå­˜å‚¨çš„SQLè¯­å¥ç»“æœå†™å…¥æ•°æ®åº“è¡¨ï¼›</li><li>ä¿ç•™ç‚¹ï¼ˆsavepointï¼‰æŒ‡äº‹åŠ¡å¤„ç†ä¸­è®¾ç½®çš„ä¸´æ—¶å ä½ç¬¦ï¼ˆplace-holderï¼‰ï¼Œä½ å¯ä»¥å¯¹å®ƒå‘å¸ƒå›æ»šï¼ˆä¸å›é€€æ•´ä¸ªäº‹åŠ¡å¤„ç†ä¸åŒï¼‰ã€‚</li></ul><h2 id="æ§åˆ¶äº‹åŠ¡å¤„ç†">æ§åˆ¶äº‹åŠ¡å¤„ç†</h2><p>MySQL ä½¿ç”¨ä»¥ä¸‹è¯­å¥è¡¨æ˜äº‹åŠ¡çš„å¼€å§‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">START</span> TRANSACTION<br></code></pre></td></tr></table></figure><p>å¼€å¯äº‹åŠ¡åï¼Œå¯ä»¥åœ¨äº‹åŠ¡å¤„ç†å†…éƒ¨ä½¿ç”¨ROLLBACKã€‚ROLLBACK å‘½ä»¤ç”¨æ¥æ’¤é”€INSERT, UPDATE, DELETE è¯­å¥ã€‚CREATE å’Œ DROPä¸èƒ½è¢«å›é€€ã€‚</p><p>åœ¨äº‹åŠ¡å¤„ç†ä¸­ï¼Œæäº¤ä¸ä¼šéšå«åœ°è¿›è¡Œï¼Œå¿…é¡»æ˜¾å¼è°ƒç”¨COMMITã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼šä»è´¦æˆ· A æ‰£ 100 å…ƒï¼Œç»™è´¦æˆ· B åŠ  100 å…ƒ â€”â€”ä¸­é—´ä»»ä½•ä¸€æ­¥å¤±è´¥éƒ½è¦å›æ»šã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">START</span> TRANSACTION;<br><br><span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">-</span> <span class="hljs-number">100</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;  <span class="hljs-comment">-- Aè´¦æˆ·æ‰£æ¬¾</span><br><span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">+</span> <span class="hljs-number">100</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;  <span class="hljs-comment">-- Bè´¦æˆ·åŠ æ¬¾</span><br><br><span class="hljs-comment">-- æ£€æŸ¥æ˜¯å¦éƒ½æˆåŠŸæ‰§è¡Œ</span><br><span class="hljs-comment">-- å¯åŠ ä¸Šåˆ¤æ–­é€»è¾‘ï¼Œæ¯”å¦‚æ£€æŸ¥ä½™é¢ &gt;= 0ï¼Œå†å†³å®šæ˜¯å¦æäº¤</span><br><br><span class="hljs-keyword">COMMIT</span>;  <span class="hljs-comment">-- æäº¤äº‹åŠ¡</span><br><br><span class="hljs-comment">-- è‹¥å‘ç”Ÿå¼‚å¸¸ï¼Œå¦‚ä½™é¢ä¸è¶³</span><br><span class="hljs-comment">-- ROLLBACK;  -- å›æ»šäº‹åŠ¡</span><br></code></pre></td></tr></table></figure><p>å®é™…ä¸Šï¼Œå¦‚æœç¬¬ä¸€æ¡UPDATEè¯­å¥æˆåŠŸæ‰§è¡Œï¼Œä½†æ˜¯ç¬¬äºŒæ¡å‡ºé”™ï¼Œé‚£ä¹ˆæ•´ä¸ªäº‹åŠ¡ä¹Ÿä¼šè¢«è‡ªåŠ¨æ’¤é”€ã€‚è¿™å°±ä¿è¯äº†æœ€åæäº¤çš„ç»“æœä¸€å®šæ˜¯æ²¡æœ‰é”™è¯¯çš„ã€‚</p><p>å½“COMMITæˆ–ROLLBACKè¯­å¥æ‰§è¡Œåï¼Œäº‹åŠ¡ä¼š<strong>è‡ªåŠ¨å…³é—­</strong>ï¼ˆå°†æ¥çš„æ›´æ”¹ä¼šéšå«æäº¤ï¼‰ã€‚</p><h2 id="ä¿ç•™ç‚¹">ä¿ç•™ç‚¹</h2><p>ä¸Šé¢çš„å›æ»šå’Œæäº¤çš„æ“ä½œéƒ½é’ˆå¯¹æ•´ä¸ªäº‹åŠ¡ã€‚å¯¹äºæ›´å¤æ‚çš„äº‹åŠ¡è€Œè¨€ï¼Œå¯èƒ½éœ€è¦éƒ¨åˆ†æäº¤æˆ–è€…å›æ»šã€‚</p><p>ä¸ºäº†æ”¯æŒå›é€€éƒ¨åˆ†äº‹åŠ¡å¤„ç†ï¼Œå¿…é¡»èƒ½åœ¨äº‹åŠ¡å¤„ç†å—ä¸­åˆé€‚çš„ä½ç½®æ”¾ç½®å ä½ç¬¦ã€‚è¿™æ ·ï¼Œå¦‚æœéœ€è¦å›é€€ï¼Œå¯ä»¥å›é€€åˆ°æŸä¸ªå ä½ç¬¦ã€‚</p><p>ç”¨æ³•ï¼š<code>SAVEPOINT ä¿ç•™ç‚¹çš„åç§°</code></p><p>ä¿ç•™ç‚¹çš„åå­—ä¸å¯ä»¥é‡å¤ï¼Œåœ¨å›æ»šæ—¶ï¼ŒMySQLæ ¹æ®åå­—ç²¾ç¡®åˆ¤æ–­è¯¥å›æ»šåˆ°å“ªä¸ªä½ç½®ã€‚ä¸ºäº†å›æ»šåˆ°å·²çŸ¥çš„ä¿ç•™ç‚¹ï¼Œä½¿ç”¨ä»¥ä¸‹è¯­å¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ROLLBACK</span> <span class="hljs-keyword">TO</span> ä¿ç•™ç‚¹çš„åå­—<br></code></pre></td></tr></table></figure><p>ä¿ç•™ç‚¹è®¾ç½®å¾—è¶Šå¤šè¶Šå¥½ï¼Œè¿™æ ·å¯ä»¥å……åˆ†æŒ‰ç…§è‡ªå·±çš„æ„æ„¿è¿›è¡Œå›é€€ã€‚åœ¨äº‹åŠ¡å¤„ç†å®Œæˆä»¥åï¼Œæ‰€æœ‰çš„ä¿ç•™ç‚¹ä¼šè¢«è‡ªåŠ¨é‡Šæ”¾ã€‚</p><h2 id="æ›´æ”¹é»˜è®¤æäº¤è¡Œä¸º">æ›´æ”¹é»˜è®¤æäº¤è¡Œä¸º</h2><p><code>autocommit</code>æ ‡å¿—å†³å®šæ˜¯å¦è‡ªåŠ¨æäº¤æ›´æ”¹ï¼Œ0 ä»£è¡¨æ‰‹åŠ¨æäº¤ï¼Œ1ä»£è¡¨è‡ªåŠ¨æäº¤ã€‚ä½¿ç”¨<code>SET</code>ä¿®æ”¹å³å¯ã€‚è¯¥æ ‡å¿—çš„ä½œç”¨èŒƒå›´æ˜¯ä¸€ä¸ªè¿æ¥å†…ã€‚</p><h1 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h1><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1"class="footnote-text"><span>https://www.oracle.com/cn/database/what-is-a-relational-database/<a href="#fnref:1" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li><li><span id="fn:2"class="footnote-text"><span>https://zhuanlan.zhihu.com/p/68136613<a href="#fnref:2" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Database</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>XMLåŸºç¡€</title>
    <link href="/2025/04/29/XML%E5%9F%BA%E7%A1%80/"/>
    <url>/2025/04/29/XML%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h1 id="xml">XML</h1><p>XML è¿˜æ²¡æœ‰è¢«æ·˜æ±°ï¼Œåº”ç”¨çš„åœ°æ–¹è¿˜æœ‰ä¸å°‘ï¼Œæ¯”å¦‚è¯´ Maven çš„ pom.xmlæ–‡ä»¶é‡Œå°±è¿˜åœ¨ç”¨ã€‚ä½†æ˜¯ä½œä¸ºä¸€ç§æ•°æ®ä¼ è¾“æ ¼å¼ï¼Œå®ƒæ­£åœ¨è¢« JSONæ›¿ä»£ã€‚æ‰€ä»¥ä»¥ä¸‹ç®€å•åˆ—ä¸¾ä¸€äº›XMLçš„åŸºç¡€çŸ¥è¯†ï¼Œæ›´æ·±å±‚æ¬¡çš„ç›®å‰æ²¡å¿…è¦å»å­¦ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯xml">ä»€ä¹ˆæ˜¯XML</h2><p>XML(eXtensible MarkupLanguageï¼Œå¯æ‰©å±•æ ‡è®°è¯­è¨€)ï¼Œå…¶è®¾è®¡ç›®çš„å°±æ˜¯å­˜å‚¨å’Œä¼ è¾“æ•°æ®ã€‚XMLä¹Ÿæ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ï¼Œç±»ä¼¼äºHTMLï¼Œä½†æ˜¯HTMLåªè´Ÿè´£æ˜¾ç¤ºæ•°æ®ï¼Œè€Œä¸”XMLçš„æ ‡ç­¾ä¸åƒHTMLä¸€æ ·é¢„å…ˆè¢«å®šä¹‰ã€‚åœ¨è®¸å¤šHTML åº”ç”¨ç¨‹åºä¸­ï¼ŒXML ç”¨äºå­˜å‚¨æˆ–ä¼ è¾“æ•°æ®ï¼Œè€Œ HTMLç”¨äºæ ¼å¼åŒ–å’Œæ˜¾ç¤ºè¿™äº›æ•°æ®ã€‚</p><p><strong>å¯æ‰©å±•æ€§</strong>å°±ä½“ç°åœ¨ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰ä»»ä½•éœ€è¦çš„æ ‡ç­¾ï¼Œè€Œä¸”å³ä½¿æ·»åŠ äº†ï¼ˆæˆ–åˆ é™¤äº†ï¼‰æ–°æ•°æ®ï¼Œå¤§å¤šæ•°XML åº”ç”¨ç¨‹åºä¹Ÿä¼šæŒ‰é¢„æœŸå·¥ä½œï¼Œè¾“å‡ºä¸å—å½±å“ã€‚<strong>XMLçš„ä¼˜åŠ¿ä¹‹ä¸€ï¼Œå°±æ˜¯å¯ä»¥ç»å¸¸åœ¨ä¸ä¸­æ–­åº”ç”¨ç¨‹åºçš„æƒ…å†µè¿›è¡Œæ‰©å±•</strong>ã€‚</p><p>å’ŒJSONä¸€æ ·ï¼ŒXMLä»¥çº¯æ–‡æœ¬æ ¼å¼å­˜å‚¨æ•°æ®ï¼Œè¿™æ ·å°±é¿å…äº†åœ¨ä¸åŒçš„è®¡ç®—æœºç³»ç»Ÿä¸Šäº¤æ¢æ•°æ®æ—¶çš„ä¸å…¼å®¹é—®é¢˜ã€‚</p><p>è¿™æ˜¯åšå®¢çš„ç«™ç‚¹åœ°å›¾æ–‡ä»¶<code>sitemap.xml</code>çš„ä¸€éƒ¨åˆ†ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">urlset</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;</span>&gt;</span><br>  <br>  <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">loc</span>&gt;</span>https://kznep19.blog/2025/04/27/Maven%E7%9A%84%E4%BD%BF%E7%94%A8/<span class="hljs-tag">&lt;/<span class="hljs-name">loc</span>&gt;</span><br>    <br>    <span class="hljs-tag">&lt;<span class="hljs-name">lastmod</span>&gt;</span>2025-04-28<span class="hljs-tag">&lt;/<span class="hljs-name">lastmod</span>&gt;</span><br>    <br>    <span class="hljs-tag">&lt;<span class="hljs-name">changefreq</span>&gt;</span>monthly<span class="hljs-tag">&lt;/<span class="hljs-name">changefreq</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">priority</span>&gt;</span>0.6<span class="hljs-tag">&lt;/<span class="hljs-name">priority</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>  <br><br><span class="hljs-tag">&lt;/<span class="hljs-name">urlset</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>ç¬¬ä¸€è¡Œæ˜¯XMLå£°æ˜</li><li><code>urlset</code>æ˜¯æŒ‡å®šè¯¥æ–‡æ¡£éµå¾ª sitemaps.org çš„ Sitemap 0.9æ ‡å‡†ã€‚ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªç½‘å€åˆ—è¡¨ã€‚<code>xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"</code>æŒ‡å®šè¯¥æ–‡æ¡£éµå¾ªsitemaps.org çš„ Sitemap 0.9 æ ‡å‡†ã€‚</li><li><code>&lt;loc&gt;</code>:é¡µé¢URL</li><li><code>&lt;lastmod&gt;</code>:é¡µé¢çš„æœ€åä¿®æ”¹æ—¶é—´</li><li><code>&lt;changefreq&gt;</code>:å»ºè®®æœç´¢å¼•æ“å¤šä¹…æŠ“å–ä¸€æ¬¡</li><li><code>&lt;priority&gt;</code>:é¡µé¢åœ¨ç«™ç‚¹ä¸­çš„ç›¸å¯¹é‡è¦æ€§(0.0â€“1.0)</li></ul><h2 id="xmlæ ‘ç»“æ„">XMLæ ‘ç»“æ„</h2><p>XML ä¸­çš„å…ƒç´ å½¢æˆäº†ä¸€ç§æ ‘çŠ¶ç»“æ„ï¼š</p><p><img src="https://www.w3school.com.cn/i/xml/nodetree.png" /></p><p>ä»æœ€ä¸Šé¢çš„æ ¹å…ƒç´ å¼€å§‹ï¼Œæ‰©å±•åˆ°æå¶ã€‚</p><h2 id="è¯­æ³•">è¯­æ³•</h2><ol type="1"><li>XML æ–‡æ¡£å¿…é¡»åŒ…å«ä¸€ä¸ªæ ¹å…ƒç´ ï¼Œä½œä¸ºå…¶ä»–æ‰€æœ‰å…ƒç´ çš„çˆ¶å…ƒç´ </li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">root</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">child</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">subchild</span>&gt;</span>.....<span class="hljs-tag">&lt;/<span class="hljs-name">subchild</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="2" type="1"><li>XML æ ‡ç­¾åŒºåˆ†å¤§å°å†™</li><li>ä¸€äº›ç¬¦å·ä¸èƒ½ç›´æ¥å†™åœ¨å…ƒç´ ä¸­ï¼Œä½¿ç”¨<strong>å®ä½“å¼•ç”¨</strong></li></ol><table><thead><tr><th>å­—ç¬¦</th><th>æ›¿ä»£å†™æ³•</th></tr></thead><tbody><tr><td><code>&lt;</code></td><td><code>&amp;lt;</code>ï¼ˆless thanï¼‰</td></tr><tr><td><code>&gt;</code></td><td><code>&amp;gt;</code>ï¼ˆgreater thanï¼‰</td></tr><tr><td><code>&amp;</code></td><td><code>&amp;amp;</code>ï¼ˆampersandï¼‰</td></tr><tr><td><code>"</code></td><td><code>&amp;quot;</code>ï¼ˆåŒå¼•å·ï¼‰</td></tr><tr><td><code>'</code></td><td><code>&amp;apos;</code>ï¼ˆå•å¼•å·ï¼‰</td></tr></tbody></table><ol start="4" type="1"><li>å¤šä¸ªè¿ç»­çš„ç©ºæ ¼ä¸ä¼šè¢«è£å‰ª</li></ol><h2 id="å…ƒç´ ">å…ƒç´ </h2><p>ç±»ä¼¼<code>&lt;lastmod&gt;2025-04-28&lt;/lastmod&gt;</code>è¢«ç§°ä¸ºä¸€ä¸ª<strong>å…ƒç´ </strong>ã€‚å…ƒç´ çš„å†…å®¹å¯ä»¥æ˜¯æ–‡æœ¬å†…å®¹ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–çš„å­å…ƒç´ ã€‚</p><p><strong>ç©ºå…ƒç´ </strong>ï¼šå½¢å¦‚<code>&lt;element&gt;&lt;/element&gt;</code>ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå…³é—­æ ‡ç­¾è®°ä¸º<code>&lt;element /&gt;</code>ã€‚</p><p>å…ƒç´ çš„å‘½åçº¦å®šï¼š</p><table><thead><tr><th>æ ·å¼</th><th>ä¾‹å­</th><th>æè¿°</th></tr></thead><tbody><tr><td>å°å†™</td><td><code>&lt;firstname&gt;</code></td><td>æ‰€æœ‰å­—æ¯å°å†™</td></tr><tr><td>å¤§å†™</td><td><code>&lt;FIRSTNAME&gt;</code></td><td>æ‰€æœ‰å­—æ¯å¤§å†™</td></tr><tr><td>è›‡å½¢</td><td><code>&lt;first_name&gt;</code></td><td>ä¸‹åˆ’çº¿åˆ†éš”å•è¯ï¼ˆå¸¸ç”¨äº SQL æ•°æ®åº“ï¼‰</td></tr><tr><td>å¸•æ–¯å¡</td><td><code>&lt;FirstName&gt;</code></td><td>æ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—æ¯å¤§å†™ï¼ˆC ç¨‹åºå‘˜å¸¸ç”¨ï¼‰</td></tr><tr><td>é©¼å³°</td><td><code>&lt;firstName&gt;</code></td><td>é™¤ç¬¬ä¸€ä¸ªä¹‹å¤–çš„æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ï¼ˆå¸¸ç”¨äº JavaScriptï¼‰</td></tr></tbody></table><h2 id="å±æ€§">å±æ€§</h2><p><strong>Attribute</strong></p><p>XMLå±æ€§å¿…é¡»åŠ å¼•å·ï¼š<code>&lt;person gender="female"&gt;</code>ï¼Œå•åŒéƒ½å¯ã€‚å±æ€§çš„æ‰©å±•æ€§å¾ˆå·®ã€‚</p><p>æ•°æ®æœ¬èº«åº”å½“å­˜å‚¨ä¸ºå…ƒç´ ï¼Œå…ƒæ•°æ®ï¼ˆç”¨äºæè¿°æ•°æ®çš„ä¿¡æ¯ï¼‰åº”å½“å­˜å‚¨ä¸ºå±æ€§ã€‚</p><h2 id="å‘½åç©ºé—´">å‘½åç©ºé—´</h2><p><strong>Namespace</strong></p><p>å½“ä¸¤ä¸ªä¸åŒçš„æ–‡æ¡£ä½¿ç”¨ç›¸åŒçš„å…ƒç´ åç§°æ—¶ï¼Œå°±ä¼šå‘ç”Ÿ<strong>å‘½åå†²çª</strong>ã€‚ä¾‹å¦‚ï¼Œtableæ—¢å¯ä»¥ä½œä¸ºæ¡Œå­çš„åç§°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè¡¨æ ¼çš„åç§°ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>æœ¨å¤´é¤æ¡Œ<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>å‘˜å·¥å·¥èµ„è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±å¾ˆéš¾åŒºåˆ†äº†ã€‚è§£å†³æ–¹æ³•ï¼š<strong>åç§°å‰ç¼€</strong></p><p>åœ¨xmlä¸­ä½¿ç”¨å‰ç¼€ï¼Œå¿…é¡»å®šä¹‰å‘½åç©ºé—´ã€‚å‘½åç©ºé—´å¯ä»¥é€šè¿‡å…ƒç´ å¼€å§‹æ ‡è®°ä¸­çš„<code>xmlns</code>å±æ€§æ¥å®šä¹‰ï¼Œä¹Ÿå°±æ˜¯XML Namespaceã€‚</p><p><strong>è¯­æ³•</strong>ï¼š<code>xmlns:å‰ç¼€="å‘½åç©ºé—´çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆä¸€èˆ¬æ˜¯ URLï¼‰"</code></p><p>å…¶ä¸­â€œå‘½åç©ºé—´çš„å”¯ä¸€æ ‡è¯†ç¬¦â€å³ä¸º URI ï¼Œæœ€å¸¸è§çš„URIæ˜¯URL(UniformResource Locator)ï¼Œä¹Ÿå°±æ˜¯ç½‘å€ã€‚åŠ ä¸Šåç§°å‰ç¼€ä¹‹åä¸Šé¢çš„ä¾‹å­å˜æˆ:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">a:table</span> <span class="hljs-attr">xmlns:a</span>=<span class="hljs-string">&quot;http://example.com/furniture&quot;</span>&gt;</span>æœ¨å¤´é¤æ¡Œ<span class="hljs-tag">&lt;/<span class="hljs-name">a:table</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">b:table</span> <span class="hljs-attr">xmlns:b</span>=<span class="hljs-string">&quot;http://example.com/database&quot;</span>&gt;</span>å‘˜å·¥å·¥èµ„è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">b:table</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±èƒ½åŒºåˆ†å¼€æ¥äº†ã€‚</p><p>ç„¶åå›åˆ°å¼€å¤´çš„ä¾‹å­ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">urlset</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™ä¼¼ä¹ä¸ç¬¦åˆå‘½åç©ºé—´çš„è¯­æ³•ï¼Œå…¶å®è¿™é‡Œç”¨çš„æ˜¯<strong>é»˜è®¤å‘½åç©ºé—´</strong>ï¼Œæ„æ€æ˜¯ï¼šæ–‡æ¡£ä¸­<strong>æ‰€æœ‰æ²¡æœ‰å‰ç¼€çš„å…ƒç´ </strong>ï¼ˆå¦‚<code>&lt;url&gt;</code>ã€<code>&lt;loc&gt;</code>ï¼‰<strong>éƒ½å±äºè¿™ä¸ªå‘½åç©ºé—´</strong>ã€‚</p><h2 id="xmlhttprequest">XMLHttpRequest</h2><div class="note note-secondary">            <p><code>XMLHttpRequest</code>æ˜¯æµè§ˆå™¨ä¸­çš„ä¸€ä¸ª JavaScriptå¯¹è±¡ï¼Œç”¨äºåœ¨ç½‘é¡µä¸æœåŠ¡å™¨ä¹‹é—´äº¤æ¢æ•°æ®ï¼Œè€Œæ— éœ€åˆ·æ–°æ•´ä¸ªé¡µé¢ã€‚</p>          </div><p><code>XMLHttpRequest</code>æ˜¯ 2000 å¹´ä»£æ—©æœŸçš„APIï¼Œä¸è¿‡ç°åœ¨æœ‰ä½¿ç”¨èµ·æ¥æ›´ç®€æ´æ–¹ä¾¿çš„<code>fetch</code>ã€‚ä½¿ç”¨xhrå‘é€GETè¯·æ±‚çš„å®ä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//åˆ›å»ºè¯·æ±‚å¯¹è±¡</span><br><span class="hljs-keyword">var</span> xhttp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();<br><br><span class="hljs-comment">//äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæ¯å½“xhrçš„å¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶è°ƒç”¨</span><br>xhttp.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//è¯·æ±‚å·²å®Œæˆï¼Œä¸”è¿”å›çš„çŠ¶æ€ç ä¸º200</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">readyState</span> == <span class="hljs-number">4</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> == <span class="hljs-number">200</span>) &#123;<br>       <span class="hljs-comment">// æ›´æ–°ç½‘é¡µ</span><br>       <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;demo&quot;</span>).<span class="hljs-property">innerHTML</span> = xhttp.<span class="hljs-property">responseText</span>;<br>    &#125;<br>&#125;;<br><span class="hljs-comment">//è®¾ç½®è¯·æ±‚æ–¹å¼å’Œè¯·æ±‚åœ°å€ä»¥åŠæ˜¯å¦å¼‚æ­¥</span><br>xhttp.<span class="hljs-title function_">open</span>(<span class="hljs-string">&quot;GET&quot;</span>, <span class="hljs-string">&quot;filename&quot;</span>, <span class="hljs-literal">true</span>);<br><span class="hljs-comment">//å‘é€è¯·æ±‚</span><br>xhttp.<span class="hljs-title function_">send</span>();<br></code></pre></td></tr></table></figure><p><strong>æ‰§è¡Œé¡ºåº</strong>ï¼š</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs lua">è¯·æ±‚å·²å‘é€<br>ï¼ˆç¨åï¼‰onreadystatechange è¢«è§¦å‘ï¼Œå½“çŠ¶æ€å˜ä¸º <span class="hljs-number">4</span> ä¸” <span class="hljs-built_in">status</span> ä¸º <span class="hljs-number">200</span> æ—¶æ‰§è¡Œå›è°ƒ<br></code></pre></td></tr></table></figure><p>ç”±äºæ˜¯å¼‚æ­¥æ–¹å¼ï¼Œ<code>xhttp.send();</code>ä¸€å¼€å§‹å°±ä¼šè¢«æ‰§è¡Œï¼Œæµè§ˆå™¨å¼‚æ­¥åœ°ç­‰å¾…å“åº”ï¼ŒæœŸé—´å¯ä»¥å»åšåˆ«çš„äº‹æƒ…ï¼Œå½“xhrçŠ¶æ€å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æ‰ä¼šæ›´æ–°ç½‘é¡µã€‚</p><h2 id="xml-è§£æ">XML è§£æ</h2><h3 id="dom">DOM</h3><p>å°† XML æ–‡æ¡£è½¬æ¢ä¸ºXML DOM å¯¹è±¡ - å¯é€šè¿‡ JavaScript æ“ä½œçš„å¯¹è±¡ã€‚</p><p>JSä½¿ç”¨<code>DOMParser</code>è§£æxmlå­—ç¬¦ä¸²å®ä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> xmlString = <span class="hljs-string">&quot;&lt;note&gt;&lt;to&gt;Alice&lt;/to&gt;&lt;from&gt;Bob&lt;/from&gt;&lt;/note&gt;&quot;</span>;<br><span class="hljs-keyword">const</span> parser = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DOMParser</span>();<br><span class="hljs-keyword">const</span> xmlDoc = parser.<span class="hljs-title function_">parseFromString</span>(xmlString, <span class="hljs-string">&quot;application/xml&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(xmlDoc.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">&quot;to&quot;</span>)[<span class="hljs-number">0</span>].<span class="hljs-property">textContent</span>); <span class="hljs-comment">// è¾“å‡º &quot;Alice&quot;</span><br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç å¿…é¡»æ”¾åˆ°æµè§ˆå™¨ä¸­æ‰èƒ½è¿è¡Œã€‚</p><p>ä¸Šé¢ä½¿ç”¨è§£æå™¨å°†XMLæ–‡ä»¶è½¬æ¢ä¸ºXML DOMå¯¹è±¡ï¼Œå¯¹äºXMLDOMå¯¹è±¡ä¹Ÿæœ‰å¯ç”¨çš„è®¿é—®æ–¹æ³•ã€‚ä¾‹å¦‚<code>getElementsByTagName</code>ï¼Œ<code>getElementById</code>ç­‰ã€‚å› ä¸ºXMLDOMå‘ˆç°æ ‘çŠ¶ç»“æ„ï¼Œæˆ‘ä»¬ä»æ ¹å…ƒç´ å‡ºå‘ä¸€å®šå¯ä»¥éå†æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œè·å–è¿™ä¸ªXMLæ–‡ä»¶çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p><h3 id="sax">SAX</h3><p>DOMæ–¹å¼å›ºç„¶çœäº‹ï¼Œä½†æ˜¯å†…å­˜å¼€é”€å¤ªå¤§ï¼Œå› ä¸ºæ•´ä¸ªXMLæ–‡ä»¶å¿…é¡»åŠ è½½åˆ°å†…å­˜ä¸­ä¹‹åæ‰èƒ½ä½¿ç”¨ã€‚SAXæ˜¯å¦ä¸€ç§è§£æXMLçš„æ–¹å¼ï¼Œå³<code>Simple API for XML</code>ï¼Œå®ƒæ˜¯ä¸€ç§åŸºäº<strong>äº‹ä»¶æµ</strong>çš„é—´éš™æ–¹å¼ï¼Œè§£ææ—¶é€ä¸ªè¯»å–XMLæ–‡ä»¶çš„å…ƒç´ å¹¶è§¦å‘ç›¸åº”äº‹ä»¶ã€‚ä½†æ˜¯ä½¿ç”¨èµ·æ¥ä¾ç„¶å¾ˆéº»çƒ¦ã€‚</p><h3 id="jackson">Jackson</h3><p>Jacksonæ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ï¼Œå®ƒä¸»è¦ç”¨äºJavaå¯¹è±¡å’ŒJSONä¹‹é—´çš„è½¬åŒ–ï¼Œä¹Ÿå¯ä»¥å®ç°XMLåˆ°JavaBeançš„è½¬æ¢ã€‚<ahref="https://github.com/FasterXML/jackson">ä»“åº“åœ°å€</a></p>]]></content>
    
    
    <categories>
      
      <category>Web Development</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Mavençš„åŸºæœ¬æ“ä½œ</title>
    <link href="/2025/04/27/Maven%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
    <url>/2025/04/27/Maven%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>Mavenè§£å†³äº†è½¯ä»¶æ„å»ºçš„ä¸¤æ–¹é¢é—®é¢˜ï¼šä¸€æ˜¯è½¯ä»¶æ˜¯å¦‚ä½•æ„å»ºçš„ï¼ŒäºŒæ˜¯è½¯ä»¶çš„ä¾èµ–å…³ç³»ã€‚</p><p>ä¸åŒäºApacheAntç­‰æ—©æœŸå·¥å…·ï¼ŒMavenè®¾å®šäº†æ„å»ºæµç¨‹çš„æ ‡å‡†ï¼Œåœ¨æ­¤ä¹‹å¤–åªéœ€è¦æŒ‡å®šä¾‹å¤–æƒ…å†µã€‚XMLæ–‡ä»¶æè¿°äº†æ­£åœ¨æ„å»ºçš„è½¯ä»¶é¡¹ç›®ã€å®ƒå¯¹å…¶ä»–å¤–éƒ¨æ¨¡å—å’Œç»„ä»¶çš„ä¾èµ–å…³ç³»ã€æ„å»ºé¡ºåºã€ç›®å½•å’Œæ‰€éœ€çš„æ’ä»¶ã€‚è¯¥æ–‡ä»¶é€šå¸¸æœ‰é¢„è®¾çš„ç›®æ ‡ä»»åŠ¡ï¼Œä¾‹å¦‚ä»£ç ç¼–è¯‘å’Œæ‰“åŒ…ã€‚Mavenä»ä¸€ä¸ªæˆ–å¤šä¸ªä»£ç ä»“åº“ï¼ˆä¾‹å¦‚Maven2 CentralRepositoryï¼‰åŠ¨æ€åœ°ä¸‹è½½Javaåº“ä¸Mavenæ’ä»¶ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨æœ¬åœ°ç¼“å­˜åŒºä¸­ã€‚<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="https://zh.wikipedia.org/wiki/Apache_Maven">[1]</span></a></sup></p><p>GAVPï¼šä¸ºæ¯ä¸ªé¡¹ç›®åœ¨mavenä»“åº“ä¸­åšä¸€ä¸ªæ ‡è¯†ï¼Œç±»ä¼¼äºäººçš„åå­—ã€‚</p><ul><li>Groupidæ˜¯å…¬å¸é¡¹ç›®:å…¬å¸é¡¹ç›®-ä¸šåŠ¡çº¿</li><li>ArtifactID:äº§å“çº¿å-æ¨¡å—å</li><li>Version:ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·</li><li>Packaging:æ‰“åŒ…æ–¹å¼ï¼ŒJavaå·¥ç¨‹æ‰“jaråŒ…ï¼ŒWebå·¥ç¨‹æ‰“waråŒ…ï¼Œpomä»£è¡¨ä¸ä¼šæ‰“åŒ…ï¼Œç”¨æ¥åšç»§æ‰¿çš„çˆ¶å·¥ç¨‹</li></ul><p>åˆ›å»º Mavené¡¹ç›®æ—¶ï¼Œjdkç‰ˆæœ¬æœ€å¥½é€‰æ‹©jdk17ã€jdk21è¿™äº›é•¿æœŸç¨³å®šç‰ˆæœ¬ï¼Œä¸è¦ä½¿ç”¨æœ€æ–°ç‰ˆï¼Œå› ä¸ºå¾ˆå¤šæ’ä»¶éƒ½ä¸æ”¯æŒã€‚</p><p>Mavenä¸­çš„æµ‹è¯•ç±»ï¼Œç±»åå¿…é¡»ä»¥testç»“å°¾ï¼Œæµ‹è¯•æ–¹æ³•ä»¥testå¼€å¤´ï¼Œå¦åˆ™æ— æ³•è¢«è¯†åˆ«ã€‚</p><h1 id="ä¸åŒé˜¶æ®µ">ä¸åŒé˜¶æ®µ</h1><table><thead><tr><th>é˜¶æ®µï¼ˆLifecycleï¼‰</th><th>ä½œç”¨</th><th>å¸¸ç”¨å‘½ä»¤</th></tr></thead><tbody><tr><td>clean</td><td>æ¸…ç†ä¹‹å‰çš„æ„å»ºäº§ç‰©ï¼Œæ¯”å¦‚ <code>target/</code> ç›®å½•</td><td>mvn clean</td></tr><tr><td>validate</td><td>éªŒè¯é¡¹ç›®æ˜¯å¦æ­£ç¡®ï¼Œå‡†å¤‡ç¼–è¯‘</td><td>mvn validate</td></tr><tr><td>compile</td><td>ç¼–è¯‘ä¸»ä»£ç ï¼ˆsrc/main/javaï¼‰</td><td>mvn compile</td></tr><tr><td>test</td><td>ç¼–è¯‘å¹¶è¿è¡Œå•å…ƒæµ‹è¯•ï¼ˆsrc/test/javaï¼‰</td><td>mvn test</td></tr><tr><td>package</td><td>æ‰“åŒ…æˆ jar/war æ–‡ä»¶ï¼Œè¾“å‡ºåˆ° target/</td><td>mvn package</td></tr><tr><td>verify</td><td>éªŒè¯æ‰“åŒ…ç»“æœï¼Œæ¯”å¦‚æ‰§è¡Œé›†æˆæµ‹è¯•</td><td>mvn verify</td></tr><tr><td>install</td><td>å®‰è£…åˆ°æœ¬åœ°ä»“åº“</td><td>mvn install</td></tr><tr><td>site</td><td>ç”Ÿæˆé¡¹ç›®æ–‡æ¡£ç½‘ç«™ï¼ˆé¡¹ç›®ä¾èµ–ã€æµ‹è¯•æŠ¥å‘Šç­‰ï¼‰</td><td>mvn site</td></tr><tr><td>deploy</td><td>éƒ¨ç½²åˆ°è¿œç¨‹ä»“åº“ä¾›åˆ«äººä½¿ç”¨</td><td>mvn deploy</td></tr></tbody></table><p>æ‰‹åŠ¨å¼•å…¥ä¾èµ–çš„æ ¼å¼ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.30<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="ä¾èµ–èŒƒå›´">ä¾èµ–èŒƒå›´</h1><p>åœ¨pomæ–‡ä»¶ä¸­ä½¿ç”¨<code>&lt;scope&gt;</code>æ ‡ç­¾ï¼Œè‹±è¯­æ§åˆ¶è¯¥ä¾èµ–èµ·ä½œç”¨çš„é˜¶æ®µã€‚ä¸€å…±æœ‰ä¸‰ä¸ªé˜¶æ®µï¼šç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œã€‚</p><ul><li>compile<ul><li>ç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œé˜¶æ®µéƒ½å¯ç”¨</li><li>é€‚ç”¨äºé¡¹ç›®æœ¬èº«éœ€è¦ç›´æ¥ä½¿ç”¨çš„åº“ï¼Œæ¯”å¦‚<code>Spring Boot</code>ã€<code>Lombok</code></li></ul></li><li>provided<ul><li>ç¼–è¯‘ã€æµ‹è¯•å¯ç”¨ï¼Œä½†æ˜¯è¿è¡Œä¸å¯ç”¨ï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šè¢«æ‰“åŒ…</li><li>è¿è¡Œæ—¶ç”±æœåŠ¡å™¨ç­‰å¤–éƒ¨ç¯å¢ƒæä¾›ï¼Œå¦‚<code>Servlet API</code>å¯ä»¥ç”±<code>Tomcat</code>æä¾›ï¼Œå› æ­¤å±äºprovided èŒƒå›´</li></ul></li><li>runtime<ul><li>ä»…åœ¨è¿è¡Œå’Œæµ‹è¯•å¯ç”¨ï¼Œç¼–è¯‘ä¸å¯ç”¨</li><li>é€‚ç”¨äºè¿è¡Œæ—¶æ‰€éœ€è¦çš„åº“ï¼Œæ¯”å¦‚æ•°æ®åº“é©±åŠ¨ã€JDBC é€‚é…å™¨ç­‰ã€‚</li><li>ä»£ç ä¸­é€šå¸¸åªä½¿ç”¨æ¥å£ï¼ˆå¦‚<code>java.sql.Connection</code>ï¼‰ï¼Œç¼–è¯‘æ—¶æ— éœ€å…·ä½“çš„JDBC å®ç°ã€‚</li></ul></li><li>test<ul><li>ä»…åœ¨æµ‹è¯•å¯ç”¨ï¼Œä¾‹å¦‚ JUnit ç­‰æµ‹è¯•æ¡†æ¶</li></ul></li><li>system<ul><li>ç±»ä¼¼<code>provided</code>ï¼Œä½†æ˜¯éœ€è¦æœ¬åœ°æ‰‹åŠ¨æä¾›jaråŒ…ï¼Œä¸ä¼šä»Mavenä»“åº“ä¸‹è½½ï¼Œç›¸æ¯”ä¹‹ä¸‹ä¸å¦‚ä½¿ç”¨ç§æœ‰Maven ä»“åº“è¿›è¡Œç®¡ç†ã€‚ä¸æ¨èä½¿ç”¨</li></ul></li><li>import<ul><li>ä»…ç”¨äº<code>dependencyManagement</code>ä¾èµ–ç®¡ç†ï¼Œå¼•å…¥ä¸€ä¸ªå…·ä½“çš„POMä½œä¸ºä¾èµ–ç‰ˆæœ¬ç®¡ç†ã€‚ä¾‹å¦‚ï¼šå¼•å…¥Spring Boot BOM</li></ul></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencyManagement</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-dependencies<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>import<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencyManagement</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="ä¾èµ–ä¸‹è½½å¤±è´¥">ä¾èµ–ä¸‹è½½å¤±è´¥</h1><p>å¦‚æœå¼•å…¥ä¾èµ–åæ²¡æœ‰è”ç½‘ï¼Œä¾èµ–å°†ä¸‹è½½å¤±è´¥ï¼Œå³ä½¿å†æ¬¡è”ç½‘ä¹Ÿä¸ä¼šå¼€å§‹ä¸‹è½½ï¼Œå› ä¸ºæœ¬åœ°ä»“åº“ä¸­å·²ç»å­˜åœ¨äº†<code>.lastUpdated</code>åç¼€çš„æ–‡ä»¶ã€‚Mavenåªè¦æ£€æµ‹åˆ°è¿™ä¸ªæ–‡ä»¶å°±ä¸ä¼šå¼€å§‹ä¸‹è½½ï¼Œéœ€è¦æ‰‹åŠ¨åˆ é™¤ã€‚</p><h1 id="buildæ ‡ç­¾">buildæ ‡ç­¾</h1><h2 id="æŒ‡å®šæ‰“åŒ…æ–‡ä»¶">æŒ‡å®šæ‰“åŒ…æ–‡ä»¶</h2><p><code>pom.xml</code>æ–‡ä»¶ä¸­çš„<code>&lt;build&gt;</code>ä¸»è¦ç”¨äºå¯¹æ„å»ºç›¸å…³çš„ä¿¡æ¯è¿›è¡Œé…ç½®ã€‚</p><div class="note note-primary">            <p>é¡¹ç›®æ„å»ºæ˜¯æŒ‡å°†æºä»£ç ã€ä¾èµ–åº“å’Œèµ„æºæ–‡ä»¶ç­‰è½¬æ¢æˆå¯æ‰§è¡Œæˆ–å¯éƒ¨ç½²çš„åº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­åŒ…æ‹¬ç¼–è¯‘æºä»£ç ã€é“¾æ¥ä¾èµ–åº“ã€æ‰“åŒ…å’Œéƒ¨ç½²ç­‰å¤šä¸ªæ­¥éª¤</p>          </div><p>å¦‚æœéœ€è¦åœ¨src/main/javaä¸­æ”¾å…¥éjavaæ–‡ä»¶ï¼Œå¹¶ä¸”è¦æ±‚èƒ½å¤Ÿè¢«æ‰“åŒ…ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>      <span class="hljs-comment">&lt;!--è®¾ç½®èµ„æºæ‰€åœ¨ç›®å½•--&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--è®¾ç½®åŒ…å«çš„èµ„æºç±»å‹--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥å°†javaç›®å½•ä¸‹çš„ä»»æ„<code>.xml</code>æ–‡ä»¶æ‰“åŒ…ã€‚</p><h2 id="å¼•å…¥æ’ä»¶">å¼•å…¥æ’ä»¶</h2><p>ä½¿ç”¨æ ‡ç­¾<code>&lt;plugin&gt;</code></p><h1 id="ä¾èµ–ä¼ é€’å’Œä¾èµ–å†²çª">ä¾èµ–ä¼ é€’å’Œä¾èµ–å†²çª</h1><h2 id="ä¼ é€’">ä¼ é€’</h2><p>å¦‚æœAä¾èµ–Bï¼ŒBåˆä¾èµ–Cï¼Œé‚£ä¹ˆAä¹Ÿé—´æ¥ä¾èµ–Cï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œé¡¹ç›®Aæ—¶ï¼Œä¼šè‡ªåŠ¨æŠŠå…¶ä»–ä¸¤ä¸ªé¡¹ç›®ä¸‹è½½å¯¼å…¥åˆ°jaråŒ…æ–‡ä»¶å¤¹ä¸­ã€‚è¿™å°±æ˜¯<strong>ä¾èµ–çš„ä¼ é€’æ€§</strong>ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œä¾èµ–èƒ½å¦æˆåŠŸä¼ é€’è¿˜å–å†³äºä¾èµ–èŒƒå›´ï¼š</p><ul><li><code>&lt;optional&gt;true&lt;/optional&gt;</code>æ‰‹åŠ¨ç»ˆæ­¢ä¾èµ–ä¼ é€’</li><li>écompileèŒƒå›´æ— æ³•è¿›è¡Œä¾èµ–ä¼ é€’</li><li>ä¾èµ–å†²çªï¼ˆä¼ é€’çš„ä¾èµ–å·²ç»å­˜åœ¨ï¼‰</li></ul><h2 id="å†²çª">å†²çª</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">é¡¹ç›®A -&gt; ä¾èµ–Bï¼ˆBä¾èµ–X:1.0ï¼‰<br>    â””â”€â”€&gt; ä¾èµ–Cï¼ˆDä¾èµ–X:2.0ï¼‰<br></code></pre></td></tr></table></figure><p>è¿™é‡ŒBå’ŒCéƒ½ä¾èµ–äº†Xçš„ä¸åŒçš„ç‰ˆæœ¬ï¼Œå‡ºç°ä¾èµ–å†²çªã€‚Mavençš„è‡ªåŠ¨é€‰æ‹©åŸåˆ™å¦‚ä¸‹ï¼š</p><ul><li>çŸ­è·¯ä¼˜å…ˆï¼ˆè·¯å¾„æœ€çŸ­ä¼˜å…ˆï¼‰å“ªä¸ªè¿‘ç”¨å“ªä¸ª</li><li>è·¯å¾„é•¿åº¦ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå£°æ˜ä¼˜å…ˆï¼Œåœ¨<code>&lt;dependencies&gt;</code>ä¸­å…ˆå£°æ˜çš„è¢«ä½¿ç”¨</li></ul><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mathematica"><span class="hljs-variable">A</span><br>â”œâ”€â”€ <span class="hljs-variable">B</span><br>â”‚    â””â”€â”€ <span class="hljs-built_in">C</span><span class="hljs-operator">:</span><span class="hljs-number">1.0</span><br>â””â”€â”€ <span class="hljs-built_in">D</span><br>     â””â”€â”€ <span class="hljs-built_in">C</span><span class="hljs-operator">:</span><span class="hljs-number">2.0</span><br></code></pre></td></tr></table></figure><p>å¦‚æœBåœ¨Då£°æ˜ä¹‹å‰ï¼Œåˆ™ä½¿ç”¨C1.0ã€‚</p><p>ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ’é™¤ä¾èµ–å†²çªï¼š<code>&lt;exclusions&gt;</code></p><h1 id="å·¥ç¨‹ç»§æ‰¿">å·¥ç¨‹ç»§æ‰¿</h1><p>Maven å·¥ç¨‹ç»§æ‰¿æŒ‡çš„æ˜¯åœ¨ Mavené¡¹ç›®ä¸­è®©ä¸€ä¸ªé¡¹ç›®ä»å¦ä¸€ä¸ªé¡¹ç›®ç»§æ‰¿é…ç½®ä¿¡æ¯çš„æœºåˆ¶ã€‚ç»§æ‰¿å¯ä»¥è®©æˆ‘ä»¬åœ¨å¤šä¸ªé¡¹ç›®ä¸­å…±äº«åŒä¸€é…ç½®ä¿¡æ¯ï¼Œç®€åŒ–é¡¹ç›®çš„ç®¡ç†å’Œç»´æŠ¤å·¥ä½œã€‚</p><ul><li>å¯¹ä¸€ä¸ªå¤§å‹çš„é¡¹ç›®è¿›è¡Œäº†æ¨¡å—çš„æ‹†åˆ†</li><li>æ¯ä¸ªé¡¹ç›®ä¸‹é¢åˆå¾ˆå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸€ä¸ªæ¨¡å—éƒ½éœ€è¦é…ç½®è‡ªå·±çš„ä¾èµ–ä¿¡æ¯ã€‚</li></ul><p>çˆ¶å·¥ç¨‹ä¸»è¦ç”¨æ¥åšä¾èµ–çš„ç®¡ç†æˆ–é…ç½®ä¿¡æ¯çš„ç®¡ç†ï¼Œä¸éœ€è¦å†™æºä»£ç ï¼Œç¼–è¯‘æ—¶çˆ¶å·¥ç¨‹ä¸­çš„ç±»ä¸ä¼šè¢«æ‰“åŒ…ã€‚å¯¹çˆ¶å·¥ç¨‹è¿›è¡Œçš„æ¸…ç†ã€ç¼–è¯‘ç­‰æ“ä½œä¹Ÿä¼šåŒæ­¥è¿›è¡Œåˆ°å­å·¥ç¨‹ä¸­ï¼Œå¯ä»¥ä¸€é”®ç®¡ç†ã€‚</p><p>å­å·¥ç¨‹åº”å½“åœ¨çˆ¶å·¥ç¨‹ç›®å½•ä¸‹è¢«åˆ›å»ºï¼Œå­å·¥ç¨‹çš„é…ç½®æ–‡ä»¶ä¸­ä¼šå‡ºç°</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.atguigu.maven<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven_java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¡¨æ˜äº†çˆ¶å·¥ç¨‹çš„åæ ‡ã€‚å­å·¥ç¨‹çš„GroupIdå’Œçˆ¶å·¥ç¨‹è‡ªåŠ¨ä¿æŒä¸€è‡´ã€‚</p><p>çˆ¶å·¥ç¨‹çš„<code>&lt;dependencies&gt;</code>ä¼š<strong>æ— æ¡ä»¶</strong>åœ°è¢«å­å·¥ç¨‹ç»§æ‰¿ï¼Œæ‰€ä»¥ä¸€èˆ¬åœ¨<code>&lt;properties&gt;</code>çš„ä¸‹é¢åŠ ä¸Š<code>&lt;dependencyManagement&gt;</code>ï¼Œç„¶ååœ¨è¿™ä¸ªæ ‡ç­¾å†…éƒ¨å£°æ˜ä¾èµ–ï¼Œè¿™æ ·å­å·¥ç¨‹ä¸ä¼šé»˜è®¤ç»§æ‰¿å®ƒã€‚å¦‚æœéœ€è¦ç»§æ‰¿ï¼Œåœ¨å­å·¥ç¨‹çš„é…ç½®æ–‡ä»¶ä¸­åªéœ€è¦å¤åˆ¶groupIdå’ŒartifactIdå°±å¯ä»¥ä½¿ç”¨äº†ï¼Œä¸ç”¨å†™ç‰ˆæœ¬å·ã€‚</p><h1 id="å·¥ç¨‹èšåˆ">å·¥ç¨‹èšåˆ</h1><p>èšåˆæ˜¯æŒ‡<strong>å°†å¤šä¸ªé¡¹ç›®ç»„ç»‡åˆ°ä¸€ä¸ªçˆ¶çº§é¡¹ç›®ä¸­</strong>ï¼Œä»¥ä¾¿ä¸€èµ·æ„å»ºå’Œç®¡ç†çš„æœºåˆ¶ã€‚èšåˆå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç®¡ç†ä¸€ç»„ç›¸å…³çš„å­é¡¹ç›®ï¼ŒåŒæ—¶ç®€åŒ–å®ƒä»¬çš„æ„å»ºå’Œéƒ¨ç½²çš„è¿‡ç¨‹ã€‚</p><p>ç›®æ ‡ï¼š<strong>ä¸€é”®æ“ä½œã€ä¸€é”®æ„å»º</strong>ã€‚</p><p>è¯­æ³•ï¼šåœ¨GAVPä¹‹ååŠ å…¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">modules</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>å­å·¥ç¨‹çš„ç›¸å¯¹è·¯å¾„<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">modules</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œå¦‚æœå­å·¥ç¨‹å°±åœ¨çˆ¶å·¥ç¨‹çš„ç›®å½•ä¸‹ï¼Œå¯ä»¥ç›´æ¥å†™<code>maven_son</code></p><h1 id="maven-ç§æœ">Maven ç§æœ</h1><h2 id="ç®€ä»‹">ç®€ä»‹</h2><p>Mavenç§æœæ˜¯ä¸€ç§ç‰¹æ®Šçš„Mavenè¿œç¨‹ä»“åº“ï¼Œå®ƒæ˜¯æ¶è®¾åœ¨<strong>å±€åŸŸç½‘</strong>å†…çš„ä»“åº“æœåŠ¡ï¼Œç”¨æ¥ä»£ç†ä½äºå¤–éƒ¨çš„è¿œç¨‹ä»“åº“ã€‚</p><blockquote><p>å½“ç„¶å¹¶ä¸æ˜¯è¯´ç§æœåªèƒ½å»ºç«‹åœ¨å±€åŸŸç½‘ï¼Œå¾ˆå¤šå…¬å¸ä¼šæŠŠç§æœç›´æ¥éƒ¨ç½²åˆ°å…¬ç½‘ï¼Œæ–¹ä¾¿å‘˜å·¥å±…å®¶åŠå…¬ã€‚</p></blockquote><p>å»ºç«‹äº†Mavenç§æœåï¼Œå½“å±€åŸŸç½‘å†…çš„ç”¨æˆ·éœ€è¦æŸä¸ªæ„å»ºæ—¶ï¼Œä¼šæŒ‰ç…§å¦‚ä¸‹çš„é¡ºåºè¿›è¡Œè¯·æ±‚å’Œä¸‹è½½ï¼š</p><ol type="1"><li>è¯·æ±‚æœ¬åœ°ä»“åº“ï¼Œè‹¥ä¸å­˜åœ¨åˆ™ä¸‹ä¸€æ­¥</li><li>è¯·æ±‚Mavenç§æœï¼Œå°†æ‰€éœ€æ„ä»¶ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“ï¼Œè‹¥ä¸å­˜åœ¨åˆ™ä¸‹ä¸€æ­¥</li><li>è¯·æ±‚å¤–éƒ¨çš„è¿œç¨‹ä»“åº“ï¼Œå°†æ‰€éœ€æ„ä»¶ä¸‹è½½å¹¶ç¼“å­˜åˆ°ç§æœï¼Œè‹¥ä¸å­˜åœ¨åˆ™æŠ¥é”™</li></ol><p>Mavenç”¨æˆ·æ—¢å¯ä»¥ä»ç§æœä¸‹è½½æ„ä»¶ï¼Œä¹Ÿå¯ä»¥ä¸Šä¼ æ„ä»¶ã€‚</p><p><strong>ç§æœçš„ä¼˜åŠ¿</strong>ï¼šé™ä½å¤–ç½‘å¸¦å®½å‹åŠ›ï¼›ä¸‹è½½é€Ÿåº¦æ›´å¿«ï¼›ä¾¿äºéƒ¨ç½²ç¬¬ä¸‰æ–¹æ„ä»¶ï¼ˆæœ‰äº›æ„ä»¶æ— æ³•ä»ç¬¬ä¸‰æ–¹ä»“åº“è·å¾—ï¼‰ï¼›æé«˜é¡¹ç›®çš„ç¨³å®šæ€§ï¼Œå¢å¼ºå¯¹é¡¹ç›®çš„æ§åˆ¶ã€‚</p><h2 id="sonatype-nexus">Sonatype Nexus</h2><p>ä½¿ç”¨æœ€å¹¿æ³›çš„ Maven ç§æœäº§å“æ˜¯<strong>Nexus</strong>ã€‚Nexus RepositoryManagerï¼ˆé€šå¸¸ç®€ç§° Nexusï¼‰æ˜¯ç”±ä¸€å®¶å« Sonatypeçš„å…¬å¸å¼€å‘çš„ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª Maven ä»“åº“ç®¡ç†å™¨ã€‚</p><blockquote><p>Sonatype Nexus Repositoryæ˜¯ä¸€æ¬¾è½¯ä»¶ä»“åº“ç®¡ç†å™¨ï¼Œæ—¢æœ‰å¼€æºè®¸å¯ç‰ˆæœ¬ï¼Œä¹Ÿæœ‰å•†ä¸šè®¸å¯ç‰ˆæœ¬ã€‚å®ƒèƒ½å¤Ÿå°†å¤šç§ç¼–ç¨‹è¯­è¨€çš„ä»“åº“æ•´åˆåœ¨ä¸€èµ·ï¼Œä½¿å¾—å¯ä»¥é€šè¿‡ä¸€ä¸ªæœåŠ¡å™¨ä½œä¸ºæ„å»ºè½¯ä»¶æ—¶çš„ç»Ÿä¸€æ¥æºã€‚å¼€æºç‰ˆä½¿ç”¨çš„æ˜¯H2 æ•°æ®åº“ã€‚<br />TamÃ¡s CservenÃ¡k æœ€åˆåœ¨ 2005å¹´ å¼€å‘äº†Proximityï¼ŒåŸå› æ˜¯ä»–å½“æ—¶ä½¿ç”¨çš„æ˜¯è¾ƒæ…¢çš„ ADSLäº’è”ç½‘è¿æ¥ã€‚ åæ¥ï¼Œä»–è¢«Sonatype å…¬å¸è˜è¯·ï¼Œå¼€å‘äº†ä¸€ä¸ªç±»ä¼¼çš„äº§å“ï¼Œå³Nexusã€‚<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="https://en.wikipedia.org/wiki/Sonatype_Nexus_Repository">[2]</span></a></sup></p></blockquote><p>å®‰è£…è¿‡ç¨‹æ¯”è¾ƒçƒ¦äººï¼Œå…ˆè¿›å…¥https://www.sonatype.com/nexus-repository-osså¡«å†™ä¿¡æ¯ä¸‹è½½ï¼Œä¸‹è½½å¥½ä¹‹åè§£å‹ã€‚</p><p>æŒ‰ç…§ç½‘ä¸Šçš„æ–¹æ³•è¿›å…¥binç›®å½•è¾“å…¥<code>nexus.exe /run</code>ï¼ŒæŠ¥é”™ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus">E:\nexus-<span class="hljs-number">3.79</span>.<span class="hljs-number">1</span>-<span class="hljs-number">04</span>-win-x86_64\nexus-<span class="hljs-number">3.79</span>.<span class="hljs-number">1</span>-<span class="hljs-number">04</span>\bin&gt;nexus<span class="hljs-selector-class">.exe</span> /run<br><span class="hljs-selector-attr">[2025-04-28 15:40:49]</span> <span class="hljs-selector-attr">[error]</span> <span class="hljs-selector-attr">[ 1048]</span> Unrecognized cmd <span class="hljs-selector-tag">option</span> /run<br><span class="hljs-selector-attr">[2025-04-28 15:40:49]</span> <span class="hljs-selector-attr">[error]</span> <span class="hljs-selector-attr">[ 1048]</span> Invalid command <span class="hljs-selector-tag">line</span> arguments.<br><span class="hljs-selector-attr">[2025-04-28 15:40:49]</span> <span class="hljs-selector-attr">[error]</span> <span class="hljs-selector-attr">[ 1048]</span> Apache Commons Daemon procrun failed with exit value: <span class="hljs-number">1</span> (failed to parse command <span class="hljs-selector-tag">line</span> arguments).<br></code></pre></td></tr></table></figure><p>è¯´æ˜ç½‘ä¸Šçš„æ–¹æ³•å¤±æ•ˆäº†ã€‚å†çœ‹ä¸€çœ¼è§£å‹åçš„ç›®å½•</p><p><img src="https://s21.ax1x.com/2025/04/28/pE7iUJ0.png" /></p><p>çœ‹çœ‹ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚</p><p>å—¯ï¼Ÿæœ‰ç‚¹æ€ªï¼Œè¿™ä¸æ˜¯å®‰è£…è„šæœ¬å˜›ã€‚å†ç¿»ç¿»å®˜æ–¹æ–‡æ¡£<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="https://help.sonatype.com/en/sonatype-nexus-repository.html">[3]</span></a></sup></p><p><img src="https://s21.ax1x.com/2025/04/28/pE7AuJ1.png" /></p><div class="note note-primary">            <p>Nexus Repository åœ¨ 3.78.0 ç‰ˆæœ¬è¿›è¡Œäº†å¤§é‡æ„å»ºæ–¹å¼çš„æ›´æ”¹ã€‚ 3.78.0åŠä»¥åç‰ˆæœ¬ä½¿ç”¨äº†ä¸Šé¢åˆ—å‡ºçš„ //ES//ã€//SS//ã€//DS// è¿™ç§æ–°æ ¼å¼ã€‚</p>          </div><p>æ€»ä¹‹å¾ˆæŠ˜è…¾ï¼Œä¸å»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼Œæœ€å¥½ä½¿ç”¨3.78.0ä¹‹å‰çš„ã€‚</p><p>ä»è¿™ä¸ªé“¾æ¥ä¸‹è½½å†å²ç‰ˆæœ¬ï¼šhttps://help.sonatype.com/en/download-archives---repository-manager-3.html</p><p>ä¸‹è½½ä¹‹å‰è®°å¾—çœ‹ä¸€ä¸‹è‡ªå·±çš„ç”µè„‘ä¸Šæœ‰æ²¡æœ‰å¯¹åº”çš„jdkç‰ˆæœ¬ã€‚</p><p>æˆåŠŸå¯åŠ¨ä¹‹åé€šè¿‡localhost:8081è®¿é—®ã€‚</p><p>åç»­åˆ©ç”¨Nexusæ­å»ºç§æœå’ŒMavenè”åŠ¨çš„å†…å®¹åˆ°äº†åæœŸæ‰ä¼šç”¨åˆ°ï¼Œè¿™é‡Œå…ˆæ­‡ä¸€æ­‡ã€‚</p><p>æ”¾å‡ ä¸ªå‚è€ƒé“¾æ¥ã€‚ä»¥åå†æ¥çœ‹ï¼š</p><p>https://www.easyblog.vip/detail/58</p><p>https://www.bilibili.com/video/BV1854y1F7Lt/?spm_id_from=333.337.search-card.all.click&amp;vd_source=918a6909c997fbaf818d1fbc55d65ca9</p><p>https://wiki.eryajf.net/pages/1815.html#_1-%E5%88%9B%E5%BB%BA-blob-%E5%AD%98%E5%82%A8%E3%80%82</p><p>https://www.hangge.com/blog/cache/detail_2844.html</p><h1 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h1><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1"class="footnote-text"><span>https://zh.wikipedia.org/wiki/Apache_Maven<a href="#fnref:1" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li><li><span id="fn:2"class="footnote-text"><span>https://en.wikipedia.org/wiki/Sonatype_Nexus_Repository<a href="#fnref:2" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li><li><span id="fn:3"class="footnote-text"><span>https://help.sonatype.com/en/sonatype-nexus-repository.html<a href="#fnref:3" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Web Development</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Hexo Fluid èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢</title>
    <link href="/2025/04/26/%E7%99%BD%E5%A4%A9%E9%BB%91%E5%A4%9C%E8%83%8C%E6%99%AF%E5%9B%BE%E5%88%87%E6%8D%A2/"/>
    <url>/2025/04/26/%E7%99%BD%E5%A4%A9%E9%BB%91%E5%A4%9C%E8%83%8C%E6%99%AF%E5%9B%BE%E5%88%87%E6%8D%A2/</url>
    
    <content type="html"><![CDATA[<p><ahref="https://kznep19.blog/2025/04/20/Fluid%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%962/#%E9%81%97%E7%95%99%E9%97%AE%E9%A2%98">å‰æƒ…æè¦</a></p><h1 id="è·å–å½“å‰æ¨¡å¼">1. è·å–å½“å‰æ¨¡å¼</h1><p>è¦è§£å†³çš„ç¬¬ä¸€ä»¶äº‹æ˜¯è·å–å½“å‰é¡µé¢é‡‡ç”¨çš„æ¨¡å¼ã€‚</p><p>æŒ‰F12æ‰“å¼€æ§åˆ¶å°ï¼Œå¾ˆå®¹æ˜“å‘ç°</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;nav-link&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_self&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">&quot;Color Toggle&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iconfont icon-dark&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;color-toggle-icon&quot;</span> <span class="hljs-attr">data</span>=<span class="hljs-string">&quot;light&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>class="iconfont icon-dark"</code>æŒ‡çš„æ˜¯å½“å‰æ˜¾ç¤ºçš„æŒ‰é’®å›¾æ ‡ï¼Œå½“é¼ æ ‡æ‚¬åœåœ¨ä¸Šæ–¹æ—¶å°±ä¼šå‘ç”Ÿæ”¹å˜ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦çš„ä¸æ˜¯è¿™ä¸ª</li><li><code>id="color-toggle-icon"</code>å¯ä»¥é€šè¿‡å”¯ä¸€idè·å–è¿™ä¸ªå¯¹è±¡</li><li><code>data="light"</code>è®°å½•çš„æ˜¯å½“å‰æ‰€åœ¨çš„æ¨¡å¼ï¼Œæ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„</li></ul><p>å› æ­¤ï¼Œè¦è·å–å½“å‰çš„æ¨¡å¼ï¼Œåªéœ€è¦åœ¨è‡ªå®šä¹‰jsæ–‡ä»¶<code>backgroundize.js</code>ä¸­å†™å…¥ä»¥ä¸‹ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#color-toggle-btn&#x27;</span>).<span class="hljs-title function_">addEventListener</span>(<br>    <span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-keyword">const</span> dataValue = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;color-toggle-icon&#x27;</span>).<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&#x27;data&#x27;</span>); <span class="hljs-comment">// è·å–dataå±æ€§</span><br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;dataå±æ€§å€¼æ˜¯ï¼š&#x27;</span>, dataValue);<br>    &#125;<br>)<br></code></pre></td></tr></table></figure><p>æ‰“å¼€æ§åˆ¶å°çœ‹çœ‹æ•ˆæœï¼š</p><p><img src="https://s21.ax1x.com/2025/04/26/pETiPpT.png" /></p><p>å‘ç°è·å–çš„dataå€¼å’Œå½“å‰é¡µé¢çš„å®é™…æ¨¡å¼åˆšå¥½ç›¸åï¼Œè¿™ä¸ªé—®é¢˜ä¸å¤§ï¼Œæ¯”è¾ƒçƒ¦äººçš„æ˜¯æ¯ä¸€æ¬¡ç‚¹å‡»æŒ‰é’®æ§åˆ¶å°éƒ½ä¼šæ‰“å°å‡ºä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„å€¼ã€‚é€šè¿‡æ£€æŸ¥æŒ‰é’®çš„å±æ€§ï¼Œå‘ç°è¿™ä¸ªclickäº‹ä»¶è¢«<strong>é‡å¤ç»‘å®š</strong>ä¸¤æ¬¡ã€‚</p><p>è§£å†³æ–¹æ³•ï¼šå®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ä½œä¸ºæ ‡è®°ï¼Œåˆå§‹å€¼ä¸º<code>undefined</code>ï¼Œç»‘å®šä¸€æ¬¡ä¹‹åèµ‹å€¼ä¸º<code>true</code>ï¼Œå› æ­¤ä»¥åä¸ä¼šé‡å¤ç»‘å®šã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ç›‘å¬ä¸»é¢˜åˆ‡æ¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getCurrentMode</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;color-toggle-icon&#x27;</span>).<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&#x27;data&#x27;</span>);<br>&#125;<br><br><span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²åˆå§‹åŒ–</span><br><span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">window</span>.<span class="hljs-property">_colorToggleInitialized</span>) &#123;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleColorToggle</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getCurrentMode</span>());<br>    &#125;<br><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#color-toggle-btn&#x27;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, handleColorToggle);<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">_colorToggleInitialized</span> = <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ ‡è®°ä¸ºå·²åˆå§‹åŒ–</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹åçš„æ•ˆæœï¼š</p><figure><img src="https://s21.ax1x.com/2025/04/26/pETibU1.png"alt="backgroundize.jsåªè¢«ç»‘å®šä¸€æ¬¡" /><figcaption aria-hidden="true">backgroundize.jsåªè¢«ç»‘å®šä¸€æ¬¡</figcaption></figure><p>å¯ä»¥çœ‹å‡ºéç”¨æˆ·è‡ªå®šä¹‰çš„æ–‡ä»¶ä¹Ÿæœ‰è¢«é‡å¤ç»‘å®šçš„æƒ…å†µï¼ŒåŸå› æš‚æ—¶ä¸å¤ªæ¸…æ¥šã€‚</p><h1 id="æ›¿æ¢èƒŒæ™¯å›¾">2. æ›¿æ¢èƒŒæ™¯å›¾</h1><p>æ–‡ç« é¡µçš„èƒŒæ™¯å›¾ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;web_bg&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;background-image: url(<span class="hljs-symbol">&amp;quot;</span>/img/girl.webp<span class="hljs-symbol">&amp;quot;</span>);position: fixed;width: 100%;height: 100%;z-index: -1;background-size: cover;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>é¦–é¡µçš„èƒŒæ™¯å›¾ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;web_bg&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;background-image: url(<span class="hljs-symbol">&amp;quot;</span>/img/miku.webp<span class="hljs-symbol">&amp;quot;</span>);position: fixed;width: 100%;height: 100%;z-index: -1;background-size: cover;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ä»…ä»htmlä¸Šå·²ç»æ— æ³•åŒºåˆ†è¿™ä¸¤å¼ å›¾ç‰‡ï¼Œè€Œæˆ‘çš„ç›®æ ‡æ˜¯åªåœ¨æ–‡ç« é¡µçš„æ—¶å€™å¯ç”¨åˆ‡æ¢ã€‚æ³¨æ„åˆ°æ–‡ç« é¡µå’Œé¦–é¡µçš„<code>&lt;head&gt;</code>æ ‡ç­¾</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;og:type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;article&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;og:type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;website&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ‰€ä»¥å¯ä»¥ä»è¿™é‡Œä¸‹æ‰‹è¿›è¡ŒåŒºåˆ†ã€‚å®Œæ•´çš„jsä»£ç å¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²åˆå§‹åŒ–</span><br><span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">window</span>.<span class="hljs-property">_colorToggleInitialized</span>) &#123;<br><br>    <span class="hljs-comment">//ä¸ºç‚¹å‡»äº‹ä»¶ç»‘å®šåˆ‡æ¢èƒŒæ™¯çš„åŠŸèƒ½</span><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#color-toggle-btn&#x27;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, setBackgroundImage);<br><br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">_colorToggleInitialized</span> = <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ ‡è®°ä¸ºå·²åˆå§‹åŒ–</span><br>&#125;<br><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * è·å–å½“å‰æ—¥/å¤œæ¨¡å¼</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@returns</span> light:å¤œï¼Œdark:æ—¥ï¼ˆåˆšå¥½åè¿‡æ¥ï¼‰</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getCurrentMode</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;color-toggle-icon&#x27;</span>).<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&#x27;data&#x27;</span>);<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * è®¾ç½®èƒŒæ™¯å›¾ç‰‡</span><br><span class="hljs-comment"> * é€šè¿‡Open Graph metaåˆ¤æ–­å½“å‰é¡µé¢æ˜¯ä¸æ˜¯æ–‡ç« é¡µ</span><br><span class="hljs-comment"> * å¦‚æœæ˜¯ï¼Œåˆ™æ ¹æ®å½“å‰çš„æ¨¡å¼æ›¿æ¢èƒŒæ™¯å›¾ç‰‡</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">setBackgroundImage</span>(<span class="hljs-params"></span>) &#123;<br><br>    <span class="hljs-keyword">const</span> ogTypeMeta = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;meta[property=&quot;og:type&quot;]&#x27;</span>);<br>    <span class="hljs-keyword">const</span> isPost = ogTypeMeta &amp;&amp; ogTypeMeta.<span class="hljs-property">content</span> === <span class="hljs-string">&#x27;article&#x27;</span>;<br><br>    <span class="hljs-keyword">if</span> (isPost) &#123;<br>        <span class="hljs-keyword">const</span> bgDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;web_bg&#x27;</span>);<br><br>        <span class="hljs-keyword">if</span> (bgDiv) &#123;<br><br>            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getCurrentMode</span>() === <span class="hljs-string">&#x27;light&#x27;</span>) bgDiv.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundImage</span> = <span class="hljs-string">&#x27;url(&quot;/img/night.webp&quot;)&#x27;</span>;<br><br>            <span class="hljs-keyword">else</span> bgDiv.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundImage</span> = <span class="hljs-string">&#x27;url(&quot;/img/girl.webp&quot;)&#x27;</span>;<br><br>            <span class="hljs-comment">//console.log(&quot;æˆåŠŸæ›¿æ¢&quot;);</span><br>        &#125;<br>    &#125;<br><br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ä¸Šé¢çš„ä»£ç åªæœ‰å½“ç‚¹å‡»æ—¥å¤œåˆ‡æ¢æŒ‰é’®æ—¶æ‰ç”Ÿæ•ˆã€‚</span><br><span class="hljs-comment"> * å¦‚æœåœ¨é¦–é¡µå°±åˆ‡æ¢ä¸ºé»‘å¤œæ¨¡å¼ï¼Œè¿›å…¥æ–‡ç« é¡µåä¼šå‘ç°èƒŒæ™¯ä»ç„¶æ˜¯ç™½è‰²çš„</span><br><span class="hljs-comment"> * æ‰€ä»¥è¿™é‡Œåˆ©ç”¨DOMContentLoadedäº‹ä»¶ï¼Œæ¯å½“ä¸€ä¸ªé¡µé¢çš„HTMLç»“æ„åŠ è½½å®Œæˆæ—¶åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ç« é¡µï¼Œæ˜¯çš„è¯å°±æ ¹æ®æ¨¡å¼æ›¿æ¢èƒŒæ™¯</span><br><span class="hljs-comment"> */</span><br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;DOMContentLoaded&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// é€šè¿‡ Open Graph åè®®åˆ¤æ–­</span><br>    <span class="hljs-keyword">const</span> ogTypeMeta = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;meta[property=&quot;og:type&quot;]&#x27;</span>);<br>    <span class="hljs-keyword">const</span> isPost = ogTypeMeta &amp;&amp; ogTypeMeta.<span class="hljs-property">content</span> === <span class="hljs-string">&#x27;article&#x27;</span>;<br><br>    <span class="hljs-keyword">if</span> (isPost) &#123; <span class="hljs-comment">// åˆ¤æ–­è¿›å…¥æ–‡ç« é¡µ</span><br><br>        <span class="hljs-keyword">const</span> bgDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;web_bg&#x27;</span>);<br><br>        <span class="hljs-keyword">if</span> (bgDiv) &#123;<br><br>            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getCurrentMode</span>() === <span class="hljs-string">&#x27;light&#x27;</span>) bgDiv.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundImage</span> = <span class="hljs-string">&#x27;url(&quot;/img/night.webp&quot;)&#x27;</span>;<br><br>            <span class="hljs-keyword">else</span> bgDiv.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundImage</span> = <span class="hljs-string">&#x27;url(&quot;/img/girl.webp&quot;)&#x27;</span>;<br><br>            <span class="hljs-comment">//console.log(&quot;æˆåŠŸæ›¿æ¢&quot;);</span><br>        &#125;<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><p>ç„¶åå†åŠ å…¥cssä»£ç </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* æ˜æš—åˆ‡æ¢ */</span><br><span class="hljs-selector-id">#web_bg</span> &#123;<br>    <span class="hljs-attribute">transition</span>: background-image <span class="hljs-number">0.5s</span> ease-in-out <span class="hljs-meta">!important</span>;<br>&#125;<br><br><span class="hljs-comment">/* ç”±é»‘å¤œåˆ‡æ¢ä¸ºç™½å¤©çš„æ—¶é—´ä¼šé•¿ä¸€ç‚¹ */</span><br><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">prefers-color-scheme</span>: dark) &#123;<br>    <span class="hljs-selector-id">#web_bg</span> &#123;<br>        <span class="hljs-attribute">transition-duration</span>: <span class="hljs-number">0.8s</span> <span class="hljs-meta">!important</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å› ä¸ºè¿™é‡Œé‡‡ç”¨çš„é€»è¾‘æ˜¯åªæœ‰æ£€æµ‹åˆ°åŠ è½½çš„é¡µé¢æ˜¯æ–‡ç« é¡µæ—¶æ‰æ‰§è¡ŒåŒ—äº¬æ›¿æ¢çš„é€»è¾‘ï¼Œæ‰€ä»¥ä½¿ç”¨äº†ä¸¤å¤„æ›¿æ¢èƒŒæ™¯çš„åŠŸèƒ½ï¼šåˆæ¬¡åŠ è½½é¡µé¢æ—¶ã€æŒ‰ä¸‹æ—¥å¤œåˆ‡æ¢æŒ‰é’®æ—¶ã€‚</p><h1 id="é—ç•™é—®é¢˜">é—ç•™é—®é¢˜</h1><p>ä¸Šé¢çš„å®ç°æ–¹å¼æœ‰ä¸€ä¸ªç¼ºé™·ï¼šåˆšè¿›å…¥æ–‡ç« é¡µæ—¶æœ‰æ¦‚ç‡å…ˆæ˜¾ç¤ºå‡º<code>config.fluid.yml</code>ä¸­é…ç½®çš„åŸèƒŒæ™¯å›¾ï¼Œå†æ¸å˜è½¬æ¢æˆé¢„æœŸçš„èƒŒæ™¯å›¾ï¼Œçœ‹èµ·æ¥æ¯”è¾ƒçªå…€ã€‚å› ä¸ºæˆ‘ä¹‹å‰é…ç½®è¿‡é¢„åŠ è½½åŠŸèƒ½ï¼Œæ‰€ä»¥å¹²è„†ç›´æ¥æŠŠåŸèƒŒæ™¯å›¾æ¢æˆå’ŒåŠ è½½é¡µé¢ç›¸åŒåº•è‰²çš„å›¾äº†ã€‚</p><p>å¦å¤–ï¼Œåœ¨æ–‡ç« é¡µå†…ç¬¬ä¸€æ¬¡ç‚¹å‡»æ—¥å¤œåˆ‡æ¢æŒ‰é’®æ—¶ï¼Œå› ä¸ºèƒŒæ™¯å›¾åªæœ‰åœ¨éœ€è¦å®ƒçš„æ—¶å€™æ‰ä¼šå¼€å§‹åŠ è½½ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡èƒŒæ™¯ä¼šé—ªçƒä¸€ä¸‹ç„¶åçªç„¶å‡ºç°èƒŒæ™¯å›¾ï¼Œåç»­å†æ¬¡åˆ‡æ¢æ¨¡å¼çš„æ—¶å€™æ‰ä¼šæ­£å¸¸ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜å°±è¦ä½¿ç”¨é¢„åŠ è½½ï¼Œæå‰åŠ è½½èƒŒæ™¯å›¾ç‰‡ï¼Œä¸è¿‡æˆ‘ç›®å‰å¹¶ä¸æ¸…æ¥šé¢„åŠ è½½çš„å…·ä½“å®ç°æ–¹å¼ï¼Œæ‰€ä»¥æš‚æ—¶å°±å…ˆè¿™æ ·äº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Theme</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>JSåŸºç¡€</title>
    <link href="/2025/04/23/JS%E5%9F%BA%E7%A1%80/"/>
    <url>/2025/04/23/JS%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<p>JSåŸºç¡€çŸ¥è¯†ï¼Œå…ˆé€Ÿé€šä¸€éï¼Œä»¥åå†æ…¢æ…¢è¡¥å……ç»†èŠ‚</p><span id="more"></span><h1 id="å¼•å…¥æ–¹å¼">å¼•å…¥æ–¹å¼</h1><h2 id="å†…éƒ¨è„šæœ¬">å†…éƒ¨è„šæœ¬</h2><p>å°†JSä»£ç å®šä¹‰åœ¨HTMLä¸­ã€‚å¯ä»¥åœ¨ä»»æ„åœ°æ–¹æ”¾ç½®ä»»æ„æ•°é‡çš„jsï¼Œä½†æ˜¯ä¸€èˆ¬ä¼šæŠŠè„šæœ¬ä½äº<code>&lt;body&gt;</code>å…ƒç´ çš„åº•éƒ¨ï¼Œå¯ä»¥æ”¹å–„æ˜¾ç¤ºé€Ÿåº¦ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;Hello JavaScript&quot;</span>)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="å¤–éƒ¨è„šæœ¬">å¤–éƒ¨è„šæœ¬</h2><p>å®šä¹‰åœ¨å¤–éƒ¨jsæ–‡ä»¶ä¸­ï¼ŒHTMLæ–‡æ¡£é€šè¿‡ä»¥ä¸‹æ ¼å¼å¼•ç”¨ï¼Œä¸èƒ½è‡ªé—­åˆã€‚å¤–éƒ¨jsæ–‡ä»¶ä¸éœ€è¦<code>&lt;script&gt;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;js/demo.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="åŸºæœ¬è¯­æ³•">åŸºæœ¬è¯­æ³•</h1><ul><li>æ¯è¡Œç»“å°¾çš„åˆ†å·å¯æœ‰å¯æ— ï¼ˆä½†æ˜¯å»ºè®®åŠ ä¸Šï¼‰</li><li>è¾“å‡ºè¯­å¥<ul><li><code>window.alert()</code>å¼¹å‡ºçª—å£ï¼ˆ/É™ËˆlÉœËrt/ æ„æ€æ˜¯è­¦ç¤ºï¼‰</li><li><code>document.write()</code>å†™å…¥HTMLæ–‡æ¡£ï¼ˆå¼€å‘å¾ˆå°‘ç”¨ï¼‰</li><li><code>console.log()</code>è¾“å‡ºåˆ°æ§åˆ¶å°</li></ul></li></ul><h1 id="å˜é‡">å˜é‡</h1><p>åœ¨ JavaScript ä¸­å®šä¹‰å˜é‡çš„æ–¹æ³•æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯</p><ol type="1"><li><code>let</code>ï¼ˆæ¨èï¼‰</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> name = <span class="hljs-string">&quot;åˆéŸ³ãƒŸã‚¯&quot;</span>;<br></code></pre></td></tr></table></figure><ul><li><code>let</code>å®šä¹‰çš„æ˜¯å¯ä»¥<strong>æ›´æ”¹å€¼</strong>çš„å˜é‡</li><li>ä»£ç å—å†…æœ‰æ•ˆ</li></ul><ol start="2" type="1"><li><code>const</code>ï¼ˆæ¨èï¼‰</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PI</span> = <span class="hljs-number">3.14159</span>;<br></code></pre></td></tr></table></figure><ul><li><code>const</code>å®šä¹‰çš„æ˜¯<strong>å¸¸é‡</strong>ï¼Œ<strong>ä¸èƒ½é‡æ–°èµ‹å€¼</strong></li><li>ä¸€æ—¦èµ‹å€¼å°±ä¸èƒ½æ”¹å˜</li><li>ä»£ç å—å†…æœ‰æ•ˆ</li></ul><ol start="3" type="1"><li><code>var</code>âš ï¸ï¼ˆä¸æ¨èï¼‰</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> age = <span class="hljs-number">16</span>;<br></code></pre></td></tr></table></figure><ul><li>æ—§è¯­æ³•ï¼ˆES5ä¹‹å‰ï¼‰ï¼Œå†™è€ä»£ç ã€æˆ–è€…å…¼å®¹æ—§æµè§ˆå™¨æ‰ç”¨</li><li>å…è®¸ä¿®æ”¹</li><li>å˜é‡ä¼šæå‡ï¼ˆhoistingï¼‰ï¼Œä¸”æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œå®¹æ˜“å‡º bug</li><li>å‡ºä»£ç å—è¿˜å¯ä»¥è®¿é—®ï¼Œå±äºå…¨å±€å˜é‡</li><li>å¯ä»¥é‡å¤å®šä¹‰ï¼Œå‰ä¸¤ä¸ªéƒ½ä¸è¡Œã€‚ä¾‹å¦‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-string">&#x27;A&#x27;</span>;<br>&#125;<br><span class="hljs-title function_">alert</span>(x);<br></code></pre></td></tr></table></figure><p>ä¸æŠ¥é”™ã€‚</p><h1 id="æ•°æ®ç±»å‹è¿ç®—ç¬¦æµç¨‹æ§åˆ¶è¯­å¥">æ•°æ®ç±»å‹ã€è¿ç®—ç¬¦ã€æµç¨‹æ§åˆ¶è¯­å¥</h1><h2 id="æ•°æ®ç±»å‹">æ•°æ®ç±»å‹</h2><ul><li><strong>åŸå§‹ç±»å‹ï¼ˆPrimitive Typesï¼‰</strong></li></ul><p>å¯¹åº”Javaä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä½†æ˜¯åˆ†å¾—æ²¡é‚£ä¹ˆç»†</p><table><thead><tr><th>æ•°æ®ç±»å‹</th><th>ç¤ºä¾‹å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>number</code></td><td><code>42</code>, <code>3.14</code>, <code>NaN</code>,<code>Infinity</code></td><td>æ•°å­—ç±»å‹ï¼ŒåŒ…å«æ•´æ•°å’Œæµ®ç‚¹æ•°</td></tr><tr><td><code>string</code></td><td><code>"Hello"</code>, <code>'ä¸–ç•Œ'</code></td><td>å­—ç¬¦ä¸²ï¼Œå•åŒå¼•å·éƒ½å¯</td></tr><tr><td><code>boolean</code></td><td><code>true</code>, <code>false</code></td><td>å¸ƒå°”å€¼</td></tr><tr><td><code>undefined</code></td><td><code>let x;</code> â†’ <code>x === undefined</code></td><td>å£°æ˜æœªèµ‹å€¼æ—¶çš„é»˜è®¤å€¼</td></tr><tr><td><code>null</code></td><td><code>let x = null</code></td><td>è¡¨ç¤ºâ€œæ— â€æˆ–â€œç©ºå€¼â€</td></tr><tr><td><code>bigint</code></td><td><code>12345678901234567890n</code></td><td>å¤§æ•´æ•°ç±»å‹ï¼ˆES2020+ï¼‰</td></tr><tr><td><code>symbol</code></td><td><code>Symbol("id")</code></td><td>ç‹¬ä¸€æ— äºŒçš„æ ‡è¯†ç¬¦</td></tr></tbody></table><ul><li><strong>å¼•ç”¨ç±»å‹ï¼ˆReference Typesï¼‰</strong></li></ul><p>å¯¹åº”Javaä¸­çš„å¼•ç”¨æ•°æ®ç±»å‹ï¼Œä½†æ˜¯å°‘å¾—å¤š</p><table><thead><tr><th>æ•°æ®ç±»å‹</th><th>ç¤ºä¾‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>object</code></td><td><code>&#123; name: "Miku", age: 16 &#125;</code></td><td>æ™®é€šå¯¹è±¡ï¼Œé”®å€¼å¯¹ç»“æ„</td></tr><tr><td><code>array</code></td><td><code>[1, 2, 3, "åˆéŸ³"]</code></td><td>æ•°ç»„ï¼ŒJS ä¸­æ˜¯ä¸€ç§å¯¹è±¡ç±»å‹</td></tr><tr><td><code>function</code></td><td><code>function greet() &#123;&#125;</code></td><td>å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡</td></tr><tr><td><code>date</code></td><td><code>new Date()</code></td><td>æ—¥æœŸå¯¹è±¡</td></tr><tr><td><code>regexp</code></td><td><code>/abc/</code>, <code>new RegExp("abc")</code></td><td>æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡</td></tr></tbody></table><p>ä½¿ç”¨<code>typeof</code>è¿ç®—ç¬¦å¯ä»¥å¾—åˆ°æ•°æ®ç±»å‹ã€‚</p><h2 id="è¿ç®—ç¬¦">è¿ç®—ç¬¦</h2><p>ç®—æœ¯è¿ç®—ç¬¦ï¼Œé€»è¾‘è¿ç®—ç¬¦åŒJavaã€‚</p><p>æ¯”è¾ƒè¿ç®—ç¬¦ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">==    <span class="hljs-comment">// ç›¸ç­‰ï¼Œä¼šè¿›è¡Œç±»å‹è½¬æ¢</span><br>===   <span class="hljs-comment">// å…¨ç­‰ï¼ˆå€¼å’Œç±»å‹éƒ½ç›¸ç­‰ï¼‰ï¼Œä¸è¿›è¡Œç±»å‹è½¬æ¢âœ…æ¨è</span><br>!=    <span class="hljs-comment">// ä¸ç­‰</span><br>!==   <span class="hljs-comment">// å…¨ä¸ç­‰ï¼ˆå€¼å’Œç±»å‹éƒ½ä¸ç›¸ç­‰ï¼‰</span><br>&lt; &gt; &lt;= &gt;=<br></code></pre></td></tr></table></figure><p>èµ‹å€¼è¿ç®—ç¬¦ï¼š <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">= **<br>+=   -=   *=   /=   %=   **=<br></code></pre></td></tr></table></figure></p><ul><li><code>**</code>ï¼š<strong>æŒ‡æ•°è¿ç®—ç¬¦ExponentiationOperatorï¼‰</strong>ï¼Œä¾‹å¦‚<code>2**3</code>è¡¨ç¤º2çš„ä¸‰æ¬¡æ–¹ã€‚å®ƒæ˜¯<strong>å·¦ç»“åˆ</strong>è¿ç®—ç¬¦ï¼Œæ¯”å¦‚<code>2 ** 3 ** 2</code>çš„è®¡ç®—é¡ºåºæ˜¯<code>2 ** (3 ** 2)</code>ã€‚</li><li><code>**=</code>æ˜¯<strong>æŒ‡æ•°èµ‹å€¼è¿ç®—ç¬¦ï¼ˆExponentiation assignmentoperatorï¼‰</strong>ï¼ŒES7åŠ å…¥ã€‚ä¸¾ä¸ªä¾‹å­ï¼š<code>x **= y</code>ï¼Œæ„æ€å°±æ˜¯<code>x = x ** y;</code>ï¼Œæ„æ€å°±æ˜¯æŠŠxçš„yæ¬¡æ–¹èµ‹ç»™xæœ¬èº«ã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> a = <span class="hljs-number">2</span>;<br>a **= <span class="hljs-number">3</span>;<br></code></pre></td></tr></table></figure><p>å°±æ˜¯æŠŠ<code>a</code>çš„3æ¬¡æ–¹èµ‹å€¼ç»™<code>a</code>ï¼Œç»“æœä¸º8ã€‚</p><h3 id="ç±»å‹è½¬æ¢">ç±»å‹è½¬æ¢</h3><h4 id="è½¬æ¢æˆå­—ç¬¦ä¸²">è½¬æ¢æˆå­—ç¬¦ä¸²</h4><p><code>.toString()</code></p><p>Booleanå€¼ã€æ•°å­—(number)å’Œå­—ç¬¦ä¸²(string)éƒ½æ˜¯<strong>ä¼ªå¯¹è±¡</strong>ï¼Œå®ƒä»¬å®é™…ä¸Šå…·æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œ<code>.toString()</code>å°±æ˜¯å…¶ä¸­ä¸€ç§å¯ä¾›è°ƒç”¨çš„æ–¹æ³•ã€‚</p><p>å¦å¤–numberç±»å‹çš„<code>toString()</code>æ–¹æ³•æ¯”è¾ƒç‰¹æ®Šï¼Œå¦‚æœä¸ä¼ å…¥ä»»ä½•å‚æ•°ï¼Œé‚£ä¹ˆé‡‡ç”¨çš„æ˜¯<strong>é»˜è®¤æ¨¡å¼</strong>ï¼Œè¿”å›çš„æ˜¯æ•°å­—çš„åè¿›åˆ¶è¡¨ç¤ºã€‚å¦‚æœä¼ å…¥å‚æ•°ï¼Œå³ä¸º<strong>åŸºæ¨¡å¼</strong>ï¼Œå¯ä»¥ç”¨ä¸åŒçš„åŸº(radix)è¾“å‡ºæ•°å­—ã€‚</p><p>ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> x = <span class="hljs-number">9</span>;<br><span class="hljs-title function_">alert</span>(x.<span class="hljs-title function_">toString</span>(<span class="hljs-number">2</span>));<br></code></pre></td></tr></table></figure><p>å¾—åˆ°çš„ç»“æœä¸º<code>1001</code>ï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶æ•°å­—9çš„äºŒè¿›åˆ¶è¡¨ç¤ºã€‚</p><h4 id="è½¬æ¢æˆæ•°å­—">è½¬æ¢æˆæ•°å­—</h4><p>è½¬æ¢ä¸ºæ•´æ•°ï¼š<code>parseInt</code>è½¬æ¢ä¸ºå°æ•°ï¼š<code>parseFloat()</code></p><p>ä»å¼€å¤´å¼€å§‹ä»å·¦åˆ°å³è¯»å–æ˜¯æ•°å­—çš„éƒ¨åˆ†ã€‚å¦‚æœå¼€å¤´å°±ä¸æ˜¯æ•°å­—ï¼Œåˆ™è½¬æ¢å¤±è´¥ï¼Œè¿”å›<code>NaN</code>(Nota Number)ã€‚</p><p>å­—ç¬¦ä¸²ä¸­åŒ…å«çš„æ•°å­—å­—é¢é‡ä¼šè¢«æ­£ç¡®è½¬æ¢ä¸ºæ•°å­—ï¼Œä¾‹å¦‚"0xA"ä¼šè¢«è½¬æ¢æˆæ•°å­—10ã€‚ä½†æ˜¯"22.5"ä¼šè¢«è½¬æ¢æˆ22ï¼Œå› ä¸ºå°æ•°ç‚¹è¢«å½“æˆæ— æ•ˆå­—ç¬¦å¤„ç†äº†ã€‚<code>parseFloat()</code>ä¼šæŠŠé‡åˆ°çš„ç¬¬ä¸€ä¸ªå°æ•°ç‚¹å½“æˆå°æ•°ç‚¹å¤„ç†ã€‚</p><p><code>parseInt()</code>æ–¹æ³•ä¹Ÿæœ‰åŸºæ¨¡å¼ï¼Œå®šä¹‰ä¸º<code>parseInt(string: string, radix?: number): number</code>ï¼Œä½†æ˜¯<code>parseFloat()</code>æ²¡æœ‰ã€‚</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒJavaä½¿ç”¨<code>Integer.parseInt()</code><code>Float.parseFloat</code> <code>Double.parseDouble()</code><code>Long.parseLong</code>ç­‰æ–¹æ³•è¿›è¡Œè½¬æ¢ï¼Œå¦‚æœè½¬æ¢å¤±è´¥ä¼šæŠ›å‡º<code>NumberFormatException</code>å¼‚å¸¸ã€‚</p><h3 id="å¼ºåˆ¶ç±»å‹è½¬æ¢">å¼ºåˆ¶ç±»å‹è½¬æ¢</h3><p><strong>type casting</strong></p><p class="note note-info">castæœ‰â€œé“¸é€ â€ä¹‹æ„ï¼Œå¾ˆè´´åˆâ€œå¼ºåˆ¶è½¬æ¢â€çš„æ„æ€</p><p><strong>ECMAScript ä¸­å¯ç”¨çš„3ç§å¼ºåˆ¶ç±»å‹è½¬æ¢</strong>ï¼š</p><ul><li>Boolean(value) - æŠŠç»™å®šçš„å€¼è½¬æ¢æˆ Boolean å‹ï¼›ç©ºå­—ç¬¦ä¸²ã€æ•°å­—0ã€undefined æˆ– nullï¼Œè¿”å› falseã€‚</li><li>Number(value) -æŠŠç»™å®šçš„å€¼è½¬æ¢æˆæ•°å­—ï¼ˆå¯ä»¥æ˜¯æ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼‰ï¼›å¤„ç†<strong>æ•´ä¸ªå€¼</strong>ã€‚</li><li>String(value) - æŠŠç»™å®šçš„å€¼è½¬æ¢æˆå­—ç¬¦ä¸²ï¼›</li></ul><h1 id="å‡½æ•°">å‡½æ•°</h1><p>ä½¿ç”¨<strong>function</strong>è¿›è¡Œå®šä¹‰ï¼Œè¯­æ³•ä¸º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">functionName</span>(<span class="hljs-params">para1, para2,...</span>) &#123;<br>    <span class="hljs-comment">//å‡½æ•°ä½“</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>å½¢å‚ä¸éœ€è¦ç±»å‹ï¼Œå› ä¸ºjså¼±ç±»å‹</li><li>è¿”å›å€¼ä¹Ÿä¸éœ€è¦å®šä¹‰ç±»å‹ï¼Œæœ‰returnå°±è¯´æ˜æœ‰è¿”å›å€¼</li><li>è°ƒç”¨çš„æ—¶å€™å¯ä»¥ä¼ é€’ä»»æ„ä¸ªæ•°çš„å‚æ•°</li></ul><p>å‡½æ•°ä½œä¸ºå½¢å‚æ—¶ï¼Œä½¿ç”¨lambdaè¡¨è¾¾å¼ä¼šèˆ’æœå¾ˆå¤šã€‚</p><h2 id="é—­åŒ…closure">*é—­åŒ…(closure)</h2><h3 id="å¼•å…¥">å¼•å…¥</h3><p>JSæ¯”è¾ƒç‹¬ç‰¹çš„ä¸€ä¸ªç‰¹æ€§ã€‚</p><div class="note note-secondary">            <p>JavaScript å˜é‡å±äº æœ¬åœ° æˆ– å…¨å±€ ä½œç”¨åŸŸã€‚ å…¨å±€å˜é‡èƒ½å¤Ÿé€šè¿‡ é—­åŒ…å®ç°å±€éƒ¨ï¼ˆç§æœ‰ï¼‰ã€‚</p>          </div><ul><li>åœ¨ç½‘é¡µä¸­ï¼Œå…¨å±€å˜é‡å±äº<code>window</code>å¯¹è±¡ï¼Œå…¨å±€å˜é‡èƒ½å¤Ÿè¢«é¡µé¢ä¸­ï¼ˆä»¥åŠçª—å£ä¸­ï¼‰çš„æ‰€æœ‰è„šæœ¬ä½¿ç”¨å’Œä¿®æ”¹ã€‚</li><li>è€Œå±€éƒ¨å˜é‡åªèƒ½ç”¨äºå…¶è¢«å®šä¹‰çš„å‡½æ•°å†…éƒ¨ï¼Œå¯¹äºå…¶ä»–å‡½æ•°å’Œè„šæœ¬ä»£ç æ¥è¯´å®ƒæ˜¯ä¸å¯è§çš„ã€‚</li></ul><p>è€ƒè™‘ä¸‹é¢è¿™ç§æƒ…å†µï¼šæˆ‘ä»¬æƒ³åšä¸€ä¸ªè®¡æ•°å™¨ç”¨æ¥è®¡æ•°å‡½æ•°è¢«è°ƒç”¨çš„æ¬¡æ•°ã€‚å¦‚æœä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// åˆå§‹åŒ–è®¡æ•°å™¨</span><br><span class="hljs-keyword">var</span> counter = <span class="hljs-number">0</span>;<br><br><span class="hljs-comment">// é€’å¢è®¡æ•°å™¨çš„å‡½æ•°</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params"></span>) &#123;<br>  counter += <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-comment">// è°ƒç”¨ä¸‰æ¬¡ add()</span><br><span class="hljs-title function_">add</span>();<br><span class="hljs-title function_">add</span>();<br><span class="hljs-title function_">add</span>();<br><br><span class="hljs-comment">//æ­¤æ—¶è®¡æ•°å™¨ä¸º3</span><br></code></pre></td></tr></table></figure><p>è™½ç„¶èƒ½å®ç°è®¡æ•°çš„åŠŸèƒ½ï¼Œä½†æ˜¯<strong>ä¸å¤Ÿå®‰å…¨</strong>ï¼Œå› ä¸ºä½œä¸ºå…¨å±€å˜é‡çš„<code>counter</code>å¯ä»¥è¢«ä»»æ„å‡½æ•°éšæ„æ›´æ”¹ã€‚ä¸ºäº†é˜²æ­¢éšæ„æ›´æ”¹ï¼Œè€ƒè™‘æŠŠå®ƒå£°æ˜ä¸ºå±€éƒ¨å˜é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> counter = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">plus</span>(<span class="hljs-params"></span>) &#123;counter += <span class="hljs-number">1</span>;&#125;<br>    <span class="hljs-title function_">plus</span>();     <br>    <span class="hljs-keyword">return</span> counter; <br>&#125;<br></code></pre></td></tr></table></figure><p>æ˜¾ç„¶ä»ç„¶å­˜åœ¨é—®é¢˜ï¼Œå› ä¸ºæ¯æ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶éƒ½ä¼šç»™<code>counter</code>é‡æ–°èµ‹å€¼ä¸º0ï¼Œä¸èƒ½å®ç°è®¡æ•°çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¿…é¡»ä¿è¯åˆå§‹åŒ–å‡½æ•°ä¹‹è¢«è°ƒç”¨ä¸€æ¬¡</p><p>åœ¨Javaä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æƒé™ä¿®é¥°ç¬¦<code>private</code>å’Œ<code>getter</code>è§£å†³å®‰å…¨æ€§é—®é¢˜ï¼Œä½†æ˜¯JSä¸­æ²¡æœ‰æƒé™ä¿®é¥°ç¬¦ï¼Œæ€ä¹ˆåŠï¼Ÿæœ‰æ²¡æœ‰ä»€ä¹ˆä¸œè¥¿å¯ä»¥å®ç°ç±»ä¼¼çš„åŠŸèƒ½ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯æœ‰çš„ï¼Œé‚£å°±æ˜¯é—­åŒ…ã€‚</p><hr /><h3 id="ä½¿ç”¨">ä½¿ç”¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-keyword">let</span> counter = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-keyword">return</span> counter += <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;;<br><br><span class="hljs-keyword">const</span> conterFunc = <span class="hljs-title function_">add</span>(); <span class="hljs-comment">// è·å¾—å†…å±‚å‡½æ•°</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">conterFunc</span>());<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">conterFunc</span>());<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">conterFunc</span>());<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">conterFunc</span>());<br><br><span class="hljs-comment">//æ§åˆ¶å°ï¼š 1  2  3  4</span><br></code></pre></td></tr></table></figure><ul><li><code>add</code>æ˜¯å¤–å±‚å‡½æ•°ï¼Œå†…éƒ¨å®šä¹‰äº†ä¸€ä¸ªå†…éƒ¨åŒ¿åå‡½æ•°ï¼Œå¹¶ä¸”<code>add</code>çš„è¿”å›å€¼å°±æ˜¯å†…éƒ¨å‡½æ•°çš„å¼•ç”¨ï¼Œæˆ–è€…è¯´å¥æŸ„ï¼›</li><li><code>const conterFunc = add();</code>è°ƒç”¨äº†ä¸€æ¬¡å¤–å±‚å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ª<code>counter</code>å¹¶åˆå§‹åŒ–ä¸º0ï¼›</li><li>ä¹‹åæ¯æ¬¡è°ƒç”¨<code>conterFunc()</code>å®é™…ä¸Šè°ƒç”¨çš„æ˜¯å†…å±‚å‡½æ•°ï¼Œå› ä¸º<code>counter</code>è¿˜æ˜¯ç¬¬ä¸€æ¬¡åˆ›å»ºå¥½çš„é‚£ä¸ªï¼Œæ‰€ä»¥å¯ä»¥æ­£å¸¸è®¡æ•°ï¼›</li><li>åˆå› ä¸º<code>counter</code>æ˜¯å‡½æ•°å†…éƒ¨å®šä¹‰çš„å±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥ä¸ä¼šè¢«å¤–ç•Œè®¿é—®åˆ°ï¼Œè¶³å¤Ÿå®‰å…¨ã€‚</li></ul><p><strong>æ³¨æ„</strong>ï¼šæ¯æ¬¡è°ƒç”¨<code>add()</code>ä¼šç”Ÿæˆæ–°çš„ç‹¬ç«‹åŒ…ï¼Œç›¸äº’ç‹¬ç«‹äº’ä¸å½±å“ï¼Œæ‰€ä»¥åªåœ¨å¼€å¤´è°ƒç”¨äº†ä¸€æ¬¡ã€‚</p><p>é—­åŒ…è¿˜å¯ä»¥æŠŠå¤šå‚æ•°çš„å‡½æ•°å˜æˆå•å‚æ•°çš„å‡½æ•°ï¼Œä¾‹å¦‚å¹³æ–¹å’Œç«‹æ–¹çš„è®¡ç®—ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/* æŠŠxå’Œnåˆ†é…åˆ°å¤–å±‚å‡½æ•°å’Œå†…å±‚å‡½æ•°å³å¯å®ç° */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">make_pow</span>(<span class="hljs-params">n</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">x</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(x, n);<br>    &#125;<br>&#125;<br><span class="hljs-comment">// åˆ›å»ºä¸¤ä¸ªæ–°å‡½æ•°:</span><br><span class="hljs-keyword">let</span> pow2 = <span class="hljs-title function_">make_pow</span>(<span class="hljs-number">2</span>);<br><span class="hljs-keyword">let</span> pow3 = <span class="hljs-title function_">make_pow</span>(<span class="hljs-number">3</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">pow2</span>(<span class="hljs-number">5</span>)); <span class="hljs-comment">// 25</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">pow3</span>(<span class="hljs-number">7</span>)); <span class="hljs-comment">// 343</span><br></code></pre></td></tr></table></figure><h2 id="ç”Ÿæˆå™¨generator">ç”Ÿæˆå™¨(generator)</h2><p>ES6æ ‡å‡†å¼•å…¥çš„æ–°çš„æ•°æ®ç±»å‹ã€‚å¦å¤–ï¼Œ</p><div class="note note-primary">            <p>ç”Ÿæˆå™¨å‡½æ•° æ˜¯ä¸€ç§å¯ä»¥â€œæš‚åœæ‰§è¡Œâ€çš„å‡½æ•°ï¼Œé€šè¿‡ function* å®šä¹‰ï¼Œç”¨ yieldæ§åˆ¶æµç¨‹ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ª å¯è¿­ä»£å¯¹è±¡ï¼ˆiteratorï¼‰ã€‚</p>          </div><ul><li><code>yield</code>: è¿”å›ä¸€ä¸ªå€¼ç»™å¤–éƒ¨ï¼ŒåŒæ—¶æš‚åœå‡½æ•°çš„æ‰§è¡Œã€‚</li><li><code>next()</code>: ä¸€æ—¦è°ƒç”¨å°±æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ª<code>yield</code></li></ul><p>è°ƒç”¨è¿™ä¸ªå‡½æ•°ä¸ä¼šç›´æ¥æ‰§è¡Œå‡½æ•°ä½“å†…éƒ¨çš„ä»£ç ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ª<strong>ç”Ÿæˆå™¨å¯¹è±¡</strong>ï¼ˆgeneratorobjectï¼‰ã€‚æ¯æ¬¡è°ƒç”¨å®ƒéƒ½ä¼šé‡å¼€ä¸€ä¸ªç”Ÿæˆå™¨ã€‚</p><p>ä¸ºäº†è®©ç”Ÿæˆå™¨èƒ½å¾€ä¸‹è·‘ï¼Œéœ€è¦é‡‡ç”¨ç±»ä¼¼é—­åŒ…çš„æ–¹æ³•ï¼šå…ˆè·å–å¥æŸ„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span>* <span class="hljs-title function_">countUp</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>        <span class="hljs-keyword">yield</span> i++; <span class="hljs-comment">// è¿”å›içš„å€¼ï¼Œç„¶åi+1</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">countUp</span>(); <span class="hljs-comment">// å…ˆåˆ›å»ºä¸€ä¸ªâ€œå¯ä»¥æš‚åœçš„æ‰§è¡Œå™¨â€ </span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(counter.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 0</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(counter.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(counter.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 2</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">countUp</span>().<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>);<span class="hljs-comment">//0</span><br></code></pre></td></tr></table></figure><h1 id="å¯¹è±¡">å¯¹è±¡</h1><ul><li>Array</li><li>String</li><li>JSON</li><li>BOM(Browser Object Model, æµè§ˆå™¨å¯¹è±¡æ¨¡å‹)</li><li>DOM(Document Object Model, æ–‡æ¡£å¯¹è±¡æ¨¡å‹)</li></ul><h2 id="åŒ…è£…ç±»å¯¹è±¡">åŒ…è£…ç±»å¯¹è±¡</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">123.</span>.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// ä¸æŠ¥é”™</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">123.</span><span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// æŠ¥é”™</span><br></code></pre></td></tr></table></figure><p><strong>åˆ«ç”¨</strong></p><h2 id="date">Date</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">2018</span>, <span class="hljs-number">11</span>, <span class="hljs-number">24</span>, <span class="hljs-number">10</span>, <span class="hljs-number">33</span>, <span class="hljs-number">30</span>, <span class="hljs-number">0</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(d);<br><span class="hljs-comment">//æ§åˆ¶å°è¾“å‡ºï¼šMon Dec 24 2018 10:33:30 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)</span><br></code></pre></td></tr></table></figure><div class="note note-warning">            <p>JavaScript ä» 0 åˆ° 11 è®¡ç®—æœˆä»½ã€‚ ä¸€æœˆæ˜¯ 0ã€‚åäºŒæœˆæ˜¯11ã€‚6ä¸ªæ•°å­—æŒ‡å®šå¹´ã€æœˆã€æ—¥ã€å°æ—¶ã€åˆ†é’Ÿã€ç§’ï¼š</p>          </div><h2 id="array">Array</h2><ul><li><strong>å®šä¹‰</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ä¸€èˆ¬æ–¹å¼</span><br><span class="hljs-keyword">var</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>);<br><span class="hljs-comment">// ç®€åŒ–çš„æ–¹å¼</span><br><span class="hljs-keyword">var</span> cars = [<span class="hljs-string">&quot;Saab&quot;</span>, <span class="hljs-string">&quot;Volvo&quot;</span>, <span class="hljs-string">&quot;BMW&quot;</span>];<br></code></pre></td></tr></table></figure><ul><li><strong>è®¿é—®</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">arr[index] = value;<br></code></pre></td></tr></table></figure><ul><li><strong>éå†</strong>ï¼šæ¨è<code>forEach</code>æ–¹æ³•ï¼ˆç›¸å½“äºJavaä¸­çš„forEach+lambdaè¡¨è¾¾å¼ï¼‰</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><br>arr.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(element);<br>&#125;);<br></code></pre></td></tr></table></figure><p>JSæ•°ç»„é•¿åº¦å¯å˜ï¼Œç±»å‹å¯å˜ï¼Œå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ®ã€‚æ²¡æœ‰èµ‹å€¼çš„ä½ç½®è®°ä¸ºundefinedã€‚</p><p><strong>å±æ€§</strong>ï¼š<code>length</code>ï¼Œç”¨æ³•åŒJava</p><p><strong>æ–¹æ³•</strong>ï¼š</p><ul><li><code>forEach</code>:éå†<strong>æœ‰å€¼</strong>çš„å…ƒç´ ï¼Œå¹¶è°ƒç”¨ä¼ å…¥çš„å‡½æ•°</li><li><code>push()</code>:å°†æ–°çš„å…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦</li><li><code>splice(start: number, deleteCount?: number): number[]</code>:ä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ ï¼Œå·¦é—­å³å¼€ã€‚é—®å·è¡¨ç¤ºå¯é€‰å‚æ•°</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br>arr.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>)<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr[i]);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ§åˆ¶å°ï¼š3 4</p><h2 id="string">String</h2><p><strong>åˆ›å»º</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> å˜é‡å = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;...&quot;</span>);<br><span class="hljs-keyword">var</span> å˜é‡å = <span class="hljs-string">&quot;...&quot;</span>;<br></code></pre></td></tr></table></figure><p><strong>å±æ€§</strong>ï¼š<code>length</code></p><p><strong>æ–¹æ³•</strong>ï¼š</p><ul><li><code>charAt(index)</code>:è¿”å›å­—ç¬¦ä¸²ä¸­ æŒ‡å®šä½ç½®çš„å­—ç¬¦ã€‚</li><li><code>indexOf(searchValue, fromIndex?)</code>:ä»fromIndexå¼€å§‹æŸ¥æ‰¾æŸä¸ªå­å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œæ‰¾ä¸åˆ°å°±è¿”å›-1ã€‚</li><li><code>trim()</code>:å»é™¤å­—ç¬¦ä¸²ä¸¤è¾¹çš„ç©ºæ ¼ï¼ˆä¸åŒ…æ‹¬ä¸­é—´çš„ç©ºæ ¼ï¼‰ã€‚</li><li><code>substring(startIndex, endIndex?)</code>:æˆªå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå·¦é—­å³å¼€ã€‚</li></ul><h3 id="å¯¹å­—ç¬¦ä¸²åšä¸€äº›è¡¥å……">å¯¹å­—ç¬¦ä¸²åšä¸€äº›è¡¥å……</h3><ol type="1"><li><strong>å¤šè¡Œå­—ç¬¦ä¸²</strong>ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> s = <span class="hljs-string">`è¿™æ˜¯ä¸€ä¸ª</span><br><span class="hljs-string">å¤šè¡Œ</span><br><span class="hljs-string">å­—ç¬¦ä¸²</span><br><span class="hljs-string">`</span>;<br></code></pre></td></tr></table></figure><p>é€šè¿‡åå¼•å·çš„å½¢å¼å£°æ˜å¤šè¡Œå­—ç¬¦ä¸²ï¼Œå¯ä»¥çœå»æ¢è¡Œå­—ç¬¦ã€‚</p><ol start="2" type="1"><li><strong>æ¨¡æ¿å­—ç¬¦ä¸²</strong>ï¼š</li></ol><p>è¦æŠŠå¤šä¸ªå­—ç¬¦ä¸²è¿æ¥èµ·æ¥ï¼Œå¯ä»¥ç”¨+å·è¿æ¥ï¼›ES6æ–°å¢äº†ä¸€ç§æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œè¿æ¥å­—ç¬¦ä¸²æ›´æ–¹ä¾¿ï¼šï¼ˆæ³¨æ„ä½¿ç”¨åå¼•å·åŒ…è£¹ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> person = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;sss&quot;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">17</span>,<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`åå­—æ˜¯ï¼š<span class="hljs-subst">$&#123;person.name&#125;</span>, å¹´é¾„æ˜¯<span class="hljs-subst">$&#123;person.age&#125;</span>`</span>);<br></code></pre></td></tr></table></figure><h2 id="json">JSON</h2><p>åŸºäº JavaScript è¯­è¨€çš„è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼ˆJavaScript ObjectNotationï¼‰</p><p>æ„ä¹‰ï¼š</p><div class="note note-success">            <p>å½“æ•°æ®åœ¨æµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œäº¤æ¢æ—¶ï¼Œè¿™äº›æ•°æ®åªèƒ½æ˜¯æ–‡æœ¬ã€‚</p><p>JSON å±äºæ–‡æœ¬ï¼Œå¹¶ä¸”æˆ‘ä»¬èƒ½å¤ŸæŠŠä»»ä½• JavaScript å¯¹è±¡è½¬æ¢ä¸º JSONï¼Œç„¶åå°†JSON å‘é€åˆ°æœåŠ¡å™¨ã€‚</p><p>æˆ‘ä»¬ä¹Ÿèƒ½æŠŠä»æœåŠ¡å™¨æ¥æ”¶åˆ°çš„ä»»ä½• JSON è½¬æ¢ä¸º JavaScript å¯¹è±¡ã€‚</p><p>ä»¥è¿™æ ·çš„æ–¹å¼ï¼Œæˆ‘ä»¬èƒ½å¤ŸæŠŠæ•°æ®ä½œä¸º JavaScriptå¯¹è±¡æ¥å¤„ç†ï¼Œæ— éœ€å¤æ‚çš„è§£æå’Œè½¬è¯‘ã€‚</p>          </div><p>è™½ç„¶åå­—é‡Œæœ‰ JavaScriptï¼Œä½†å®ƒæ˜¯è¯­è¨€æ— å…³çš„æ ¼å¼ï¼Œå¯ä»¥è¢«å‡ ä¹æ‰€æœ‰è¯­è¨€ï¼ˆå¦‚Pythonã€Javaã€C#ï¼‰æ”¯æŒã€‚</p><hr /><p>å…ˆè¯´è¯´JSè‡ªå®šä¹‰å¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> å¯¹è±¡å = &#123;<br>    å±æ€§åï¼šå±æ€§å€¼,<br>    ...<br>    å‡½æ•°å:<span class="hljs-keyword">function</span>(<span class="hljs-params">å½¢å‚åˆ—è¡¨</span>)&#123;æ‰§è¡Œä»£ç &#125;<br>    <span class="hljs-comment">// :function å¯ä»¥çœç•¥</span><br><br>&#125;;<br></code></pre></td></tr></table></figure><hr /><p>å¦‚ä½•å®šä¹‰ä¸€ä¸ªJSONï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;HÆ°ng&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">21</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;languages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;Vietnamese&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;Japanese&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;Chinese&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;isStudent&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;details&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;city&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Ho Chi Minh&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;hobbies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;music&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;anime&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;games&quot;</span><span class="hljs-punctuation">]</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><ul><li><strong>æŠŠ JSONå­—ç¬¦ä¸²è½¬ä¸ºå¯¹è±¡</strong>ï¼š<code>const obj = JSON.parse(jsonStr);</code></li><li><strong>æŠŠå¯¹è±¡è½¬ä¸º JSONå­—ç¬¦ä¸²</strong>ï¼š<code>const jsonStr = JSON.stringify(obj);</code></li></ul><h1 id="é¢å‘å¯¹è±¡ç¼–ç¨‹">é¢å‘å¯¹è±¡ç¼–ç¨‹</h1><p>å‚çœ‹è¿™ä½å¤§ä½¬çš„åšå®¢ï¼š</p><p><ahref="https://www.cnblogs.com/wangfupeng1988/p/3977924.html">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…</a></p><h1 id="bom">BOM</h1><p>æµè§ˆå™¨å¯¹è±¡æ¨¡å‹å…è®¸ JavaScript ä¸æµè§ˆå™¨å¯¹è¯ã€‚</p><ul><li><code>window</code>:çª—å£å¯¹è±¡ï¼Œå»é™¤å ä½ç¬¦åçš„å‡€å®½é«˜ä¸ºï¼ˆIE&lt;=8ä¸æ”¯æŒï¼‰<ul><li><code>innerWidth</code></li><li><code>innerHeight</code></li></ul></li><li><code>screen</code>:è¡¨ç¤ºå±å¹•çš„ä¿¡æ¯ï¼ˆå®½ï¼Œé«˜ï¼Œä½å®½ï¼‰</li><li><code>location</code>:å½“å‰é¡µé¢çš„URLä¿¡æ¯<ul><li><p><code>location.href</code>:å½“å‰é¡µé¢çš„URL</p></li><li><p><code>setInterval</code>æŒç»­é‡å¤æ‰§è¡Œè¯¥å‡½æ•°ã€‚</p></li><li><p><code>setTimeout</code>åœ¨ç­‰å¾…æŒ‡å®šçš„æ¯«ç§’æ•°åæ‰§è¡Œå‡½æ•°ã€‚</p></li></ul></li></ul><p><strong>Cookie</strong></p><div class="note note-secondary">            <p>æµè§ˆå™¨ç”¨æ¥å­˜å‚¨å°å—æ•°æ®ï¼ˆæœ€å¤šçº¦ 4KBï¼‰çš„ä¸€ç§æœºåˆ¶ã€‚å®ƒå¯ä»¥åœ¨ç”¨æˆ·æµè§ˆç½‘é¡µæ—¶ï¼Œåœ¨æœ¬åœ°ä¿å­˜æ•°æ®ï¼Œå¹¶åœ¨ä¹‹åè®¿é—®æ—¶è‡ªåŠ¨æºå¸¦åˆ°æœåŠ¡å™¨ã€‚</p>          </div><p>æˆ‘ä»¬ç™»å½•äº†ä¸€ä¸ªç½‘ç«™ï¼Œå…³é—­ç½‘é¡µåç¬¬äºŒå¤©å†æ¥ï¼Œä¸ç”¨é‡æ–°ç™»å½•äº†ï¼Œå°±æ˜¯å› ä¸ºCookieã€‚</p><h1 id="dom">DOM</h1><p>å½“ç½‘é¡µè¢«åŠ è½½æ—¶ï¼Œæµè§ˆå™¨ä¼šåˆ›å»ºé¡µé¢çš„æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDocument ObjectModelï¼‰ã€‚</p><p>HTML DOM æ¨¡å‹è¢«ç»“æ„åŒ–ä¸ºå¯¹è±¡æ ‘ï¼š</p><figure><img src="https://www.w3school.com.cn/i/ct_htmltree.gif"alt="https://www.w3school.com.cn/js/js_htmldom.asp" /><figcaptionaria-hidden="true">https://www.w3school.com.cn/js/js_htmldom.asp</figcaption></figure><p>é€šè¿‡<code>document</code>å¯¹è±¡çš„æ–¹æ³•å¯ä»¥æ‰¾åˆ°å¯¹è±¡æ ‘ä¸Šçš„èŠ‚ç‚¹ï¼Œå¸¸ç”¨çš„æœ‰ï¼š</p><ul><li><code>getElementById()</code></li><li><code>getElementsByTagName()</code></li></ul><h2 id="æ›´æ–°">æ›´æ–°</h2><p>è·å–å¯¹è±¡åï¼Œå¯ä»¥å¯¹å¯¹è±¡è¿›è¡Œæ“ä½œï¼š</p><ul><li><code>innerHTML</code></li><li><code>innerText</code></li><li><code>textContent</code></li></ul><p>ä¹Ÿå¯ä»¥ä¿®æ”¹cssæ ·å¼ï¼ˆå’Œcssçš„å‘½åæ–¹å¼ä¸ä¸€æ ·ï¼‰</p><ul><li><code>.style.color</code></li><li><code>.style.fontSize</code></li><li><code>.style.paddingTop</code></li></ul><p>æ ¼å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id).<span class="hljs-property">style</span>.<span class="hljs-property">property</span> = newstyle<br></code></pre></td></tr></table></figure><h2 id="æ’å…¥">æ’å…¥</h2><ul><li><code>appendChild</code></li><li><code>insertBefore</code> ## åˆ é™¤</li></ul><p>çˆ¶èŠ‚ç‚¹è°ƒç”¨<code>removeChild</code>åˆ é™¤å­èŠ‚ç‚¹</p><h1 id="async">Async</h1><h2 id="å›è°ƒ">å›è°ƒ</h2><p>å›è°ƒå‡½æ•°ï¼ˆCallback Functionï¼‰ï¼Œå°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‚æ•°</p><h1 id="jsäº‹ä»¶">JSäº‹ä»¶</h1><p>äº‹ä»¶ç»‘å®šçš„æ–¹å¼ï¼š</p><ul><li>é€šè¿‡HTMLä¸­çš„äº‹ä»¶å±æ€§ã€‚ä¾‹å¦‚<code>&lt;button onclick="displayDate()"&gt;è¯•ä¸€è¯•&lt;/button&gt;</code></li><li>é€šè¿‡DOMåˆ†é…äº‹ä»¶ï¼Œä¾‹å¦‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;myBtn&quot;</span>).<span class="hljs-property">onclick</span> = displayDate;<br>&lt;/script&gt; <br></code></pre></td></tr></table></figure><h2 id="äº‹ä»¶ç›‘å¬">*äº‹ä»¶ç›‘å¬</h2><div class="note note-secondary">            <p>åœ¨ JavaScript ä¸­ï¼Œäº‹ä»¶ç›‘å¬ï¼ˆEvent Listenerï¼‰ æ˜¯æŒ‡ä½ ä¸ºä¸€ä¸ª HTMLå…ƒç´ ç»‘å®šä¸€ä¸ªå‡½æ•°ï¼ˆç›‘å¬å™¨ï¼‰ï¼Œå½“æŸä¸ªäº‹ä»¶å‘ç”Ÿæ—¶ï¼ˆæ¯”å¦‚ç‚¹å‡»ã€é”®ç›˜è¾“å…¥ã€é¼ æ ‡æ‚¬åœç­‰ï¼‰ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚</p>          </div><p>è¯­æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-title function_">addEventListener</span>(event, <span class="hljs-keyword">function</span>, useCapture);<br></code></pre></td></tr></table></figure><ul><li>äº‹ä»¶ç±»å‹</li><li>äº‹ä»¶å‘ç”Ÿæ—¶è°ƒç”¨çš„å‡½æ•°</li><li>å¸ƒå°”å€¼ï¼ŒæŒ‡å®šäº‹ä»¶æ˜¯ä½¿ç”¨å†’æ³¡è¿˜æ˜¯äº‹ä»¶æ•è·ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤æ˜¯å†’æ³¡é˜¶æ®µï¼ˆç”¨å¾—å¾ˆå°‘ï¼‰</li></ul><p>å¯ä»¥å‘ä¸€ä¸ªå…ƒç´ æ·»åŠ å¤šä¸ªäº‹ä»¶å¤„ç†ç¨‹åºã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Web Development</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Hexo + Fluidåšå®¢ç¾åŒ–è®°å½•</title>
    <link href="/2025/04/20/Fluid%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%962/"/>
    <url>/2025/04/20/Fluid%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%962/</url>
    
    <content type="html"><![CDATA[<p>ç®€å•çš„åšå®¢ç¾åŒ–è®°å½• <span id="more"></span></p><h1 id="ç¾åŒ–æ¸…å•">ç¾åŒ–æ¸…å•</h1><ol type="1"><li><a href="#æ·»åŠ åšå®¢åŠ è½½é¡µé¢">æ·»åŠ åšå®¢åŠ è½½é¡µé¢</a></li><li><a href="#githubçŠ¶æ€å’Œæ´»è·ƒæ›²çº¿">GithubçŠ¶æ€å’Œæ´»è·ƒæ›²çº¿</a></li><li><a href="#macé£æ ¼ä»£ç å—">macé£æ ¼ä»£ç å—</a></li><li><a href="#è‰ºæœ¯å­—ç­¾å">è‰ºæœ¯å­—ç­¾å</a></li><li><a href="#æ›´æ¢å›¾åºŠ">æ›´æ¢å›¾åºŠ</a></li><li><a href="#é—ç•™é—®é¢˜">é—ç•™é—®é¢˜</a></li></ol><h1 id="æ·»åŠ åšå®¢åŠ è½½é¡µé¢">æ·»åŠ åšå®¢åŠ è½½é¡µé¢</h1><p>Fluidä¸»é¢˜æœ¬èº«æ˜¯ä¸æ”¯æŒå›ºå®šèƒŒæ™¯å›¾çš„ï¼Œå¼ºè¡Œå›ºå®šä¼šå¯¼è‡´åŠ è½½é¡µé¢æ—¶æ˜æ˜¾è§‚å¯Ÿåˆ°èƒŒæ™¯å›¾â€œç¬ç§»â€ï¼Œè€Œä¸”ä¸é€‚é…ç§»åŠ¨ç«¯ã€‚</p><p>ç°åœ¨ç§»åŠ¨ç«¯æˆ‘å…ˆä¸ç®¡äº†ï¼Œè¿™é‡Œé€šè¿‡æ·»åŠ åŠ è½½é¡µé¢çš„æ–¹å¼è§„é¿èƒŒæ™¯å›¾ç¬ç§»çš„é—®é¢˜ã€‚</p><p>ä»£ç æºè‡ªè¯¥<ahref="https://www.zywvvd.com/notes/hexo/theme/fluid/fluid-loading/fluid-loading/">å®ä¾‹</a></p><p>å…³äºç¬¬ä¸€æ­¥ï¼Œâ€œåœ¨bodyBeginæ³¨å…¥å…ƒç´ ä»£ç â€ï¼Œå³æŠŠä¸‹é¢è¿™æ®µä»£ç åŠ åˆ°åšå®¢ç›®å½•ä¸‹çš„<code>\Blogs\node_modules\hexo-theme-fluid\layout\layout.ejs</code>çš„<code>&lt;body&gt;</code>å¼€å¤´çš„éƒ¨åˆ†ï¼š</p><p><img src="https://i.imgur.com/SGhKbvj.png" /></p><p>å‰©ä¸‹çš„CSSå’Œjsä»£ç åˆ†åˆ«æ·»åŠ åˆ°è‡ªå®šä¹‰CSSå’Œjsæ–‡ä»¶ä¸­å³å¯ã€‚</p><h1 id="githubçŠ¶æ€å’Œæ´»è·ƒæ›²çº¿">GithubçŠ¶æ€å’Œæ´»è·ƒæ›²çº¿</h1><p>é¡¹ç›®åœ°å€ï¼š</p><ul><li><ahref="https://github.com/anuraghazra/github-readme-stats?tab=readme-ov-file">github-readme-stats</a></li><li><ahref="https://github.com/Ashutosh00710/github-readme-activity-graph">github-readme-activity-graph</a></li></ul><p>å¤åˆ¶ç²˜è´´åˆ°å…³äºé¡µå³å¯ã€‚</p><h1 id="macé£æ ¼ä»£ç å—">macé£æ ¼ä»£ç å—</h1><p>å‚è€ƒï¼š<ahref="https://qingshaner.com/HexoFluid%E4%B8%BB%E9%A2%98%E4%BB%A3%E7%A0%81%E5%9D%97%E6%A0%B7%E5%BC%8F%E4%BF%AE%E6%94%B9/">HexoFluidä¸»é¢˜ä»£ç å—æ ·å¼ä¿®æ”¹</a></p><h1 id="è‰ºæœ¯å­—ç­¾å">è‰ºæœ¯å­—ç­¾å</h1><p>å‚è€ƒé“¾æ¥</p><ul><li><ahref="https://mrna16.github.io/2024/11/14/%E3%80%90Hexo%E3%80%91Fluid%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/#%E6%A0%87%E7%AD%BE%E5%8F%98%E5%8C%96">ã€Hexoã€‘Fluidä¸»é¢˜ç¾åŒ–</a></li><li><a href="https://4rozen.github.io/archives/Hexo/38001.html">ä½¿ç”¨ CSSå’Œ JS å®ç°åšå®¢å¯¼èˆªæ çº¿æ¡åŠ¨ç”»æ•ˆæœ</a>ï¼ˆè¿™ä¸ªçš„è®²è§£æ›´è¯¦ç»†ï¼‰</li></ul><p>ç­¾ååŠ¨ç”»ä¼¼ä¹ä¸åŠ è½½é¡µé¢ä¸å…¼å®¹ï¼Œæˆ‘æ²¡æœ‰çœ‹åˆ°åŠ¨ç”»æ•ˆæœï¼Œæ‰€ä»¥æŠŠåŠ¨ç”»éƒ¨åˆ†çš„ä»£ç å»æ‰äº†ã€‚</p><p>å¯¹<code>sign.css</code>éƒ¨åˆ†:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.svg</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">height</span>: auto;<br>  &#125;<br>  <br>  <span class="hljs-selector-class">.svg</span> <span class="hljs-selector-tag">path</span> &#123;<br>    <span class="hljs-attribute">stroke</span>: white;<br>    <span class="hljs-attribute">stroke-width</span>: <span class="hljs-number">3pt</span>;<br>    <span class="hljs-attribute">stroke-linecap</span>: round;<br>    <span class="hljs-attribute">stroke-dasharray</span>: <span class="hljs-built_in">var</span>(--l);<br>    <span class="hljs-attribute">stroke-dashoffset</span>: <span class="hljs-built_in">var</span>(--l);<br>    <span class="hljs-attribute">fill</span>: none;<br>    <span class="hljs-attribute">fill-rule</span>: nonzero;<br>    <span class="hljs-attribute">animation</span>: stroke <span class="hljs-number">25s</span> forwards;<br>    -webkit-<span class="hljs-attribute">animation</span>: stroke <span class="hljs-number">25s</span> forwards;<br>  &#125;<br>  <br>  <span class="hljs-keyword">@keyframes</span> stroke &#123;<br>    <span class="hljs-selector-tag">to</span> &#123;<br>      <span class="hljs-attribute">stroke-dashoffset</span>: <span class="hljs-number">0</span>;<br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure><p><code>width</code>å’Œ<code>height</code>ä¸¤ä¸ªå±æ€§å¯ä»¥æ”¹ä¸º<code>100%</code>å’Œ<code>auto</code>ï¼Œæˆ‘ç»è¿‡å°è¯•å‘ç°å½±å“ç­¾åå¤§å°çš„ä¸»è¦è¿˜æ˜¯<ahref="https://danmarshall.github.io/google-font-to-svg-path/">GoogleFont to SvgPath</a>çš„Sizeæ•°å€¼ï¼Œæ‰€ä»¥ä¸ç”¨çº ç»“å®½å’Œé«˜åˆ°åº•åº”è¯¥å¡«å¤šå°‘äº†ï¼Œç›´æ¥è‡ªé€‚åº”ã€‚è¿™é‡ŒSizeå–çš„æ˜¯35ã€‚</p><p><code>sign.js</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span>  navbarBrand  =  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.container a&#x27;</span>);<br><br>navbarBrand.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`</span><br><span class="hljs-string">  &lt;object type=&quot;image/svg+xml&quot; data=&quot;/img/banyee&#x27;s Blog.svg&quot;&gt;&lt;/object&gt;</span><br><span class="hljs-string">`</span>;<br><br><span class="hljs-comment">// const  paths  =  document.querySelector(&#x27;.container .navbar-brand .svg .g path&#x27;)</span><br><br><span class="hljs-comment">// const  len  =  paths.getTotalLength()</span><br><br><span class="hljs-comment">// paths.style.setProperty(&#x27;--l&#x27;, len)</span><br></code></pre></td></tr></table></figure><p>åŠ¨ç”»éƒ¨åˆ†çš„ä»£ç å·²ç»è¢«æ³¨é‡Šã€‚å¦å¤–ï¼Œå¼•å…¥<code>.svg</code>æ–‡ä»¶æ—¶å¯ä»¥ç”¨ä¸Šé¢çš„è¿™ç§æ–¹æ³•ï¼Œå…ˆæŠŠsvgæ–‡ä»¶ä¸‹è½½åˆ°sourceç›®å½•ä¸‹çš„ä¸€ä¸ªimgæ–‡ä»¶å¤¹ä¸­ï¼Œå†å¼•ç”¨ï¼Œè¿™æ ·å¯ä»¥è®©ä»£ç çœ‹èµ·æ¥ç®€æ´ä¸€äº›ã€‚</p><h1 id="æ›´æ¢å›¾åºŠ">æ›´æ¢å›¾åºŠ</h1><p>ä¹‹å‰ç”¨çš„ä¸€ç›´æ˜¯imgurï¼Œå›½å¤–çš„è€ç‰Œå…è´¹å›¾åºŠç½‘ç«™ï¼Œç¨³å®šå®‰å…¨å¯é ã€‚ä½†æ˜¯è¢«å¢™äº†ï¼Œè‡³äºä¸ºä»€ä¹ˆè¢«å¢™å•Šä¿ºä¹Ÿä¸çŸ¥é“</p><p>é‰´äºå›½å†…ç”¨æˆ·æ— æ³•è®¿é—®æ‰˜ç®¡åœ¨imgurä¸Šçš„å›¾ç‰‡ï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—æ¢ä¸ªå›¾åºŠ</p><p>ä¸€å¼€å§‹æ‰“ç®—æ‰“ç®—ä½¿ç”¨è…¾è®¯COSå­˜å‚¨ï¼Œä¸»è¦æ˜¯å†²ç€è®¿é—®é€Ÿåº¦å¿«+é•¿æœŸç¨³å®šå»çš„<spanclass="heimu"title="ä½ çŸ¥é“çš„å¤ªå¤šäº†">è™½ç„¶ä½†æ˜¯è…¾è®¯ä½ ä»€ä¹ˆæ—¶å€™æ­»</span>ï¼Œè·Ÿç€<ahref="https://cloud.tencent.com/developer/article/1834573">æ•™ç¨‹</a>èµ°äº†å‡ æ­¥ï¼Œåˆ°äº†è¦ç»‘å®šåŸŸåçš„æ—¶å€™</p><p><img src="https://i.imgur.com/5nHrB3T.png" /></p><p>æœ¬æ¥æƒ³ç€æ¥éƒ½æ¥äº†ï¼Œé‚£å°±å¤‡æ¡ˆå•Šï¼Œç„¶åå¤‡æ¡ˆå¼ºåˆ¶å®åè®¤è¯ğŸ˜‚</p><p>è¿™æ—¶å€™æˆ‘æ‰æ„è¯†åˆ°è²Œä¼¼å›½å†…çš„åŸŸåéƒ½è¦å¤‡æ¡ˆä¹‹åæ‰èƒ½ä½¿ç”¨</p><p>ç„¶åæˆ‘åˆå°è¯•äº†SM.MSå›¾åºŠï¼Œè¿™ä¸ªå›¾åºŠçš„æ¥å†ï¼š</p><figure><img src="https://i.imgur.com/4RJjAug.png"alt="SM.MSè¯ç”Ÿäºäº’è”ç½‘ç²¾ç¥" /><figcaption aria-hidden="true">SM.MSè¯ç”Ÿäºäº’è”ç½‘ç²¾ç¥</figcaption></figure><p>ç„¶åæˆ‘è¯•ç€è®¿é—®äº†ä¸»ç«™</p><p><img src="https://i.imgur.com/BOutTZH.png" /></p><blockquote><p>"Due to network issues, users from China Mainland are unable toaccess SM.MS, we have added an alternate domain name smms.app"</p></blockquote><p>åˆè¢«å¤§é™†å¢™äº†ğŸ˜‚è€Œä¸”è¿™ä¸ªå›¾åºŠå·²ç»å…³é—­äº†æ³¨å†ŒåŠŸèƒ½</p><p>æœ€åæˆ‘è½¬å‘äº†<ahref="https://imgse.com/page/about">è·¯è¿‡å›¾åºŠ</a>ã€‚è¿™ä¸ªå›¾åºŠä¹Ÿæ˜¯è›®å¹½é»˜çš„ï¼Œæ³¨å†Œæ—¶å¦‚æœæŒ‚ç€VPNï¼Œä¼šé©¬ä¸Šè§¦å‘å®‰å…¨æœºåˆ¶ï¼š</p><figure><img src="https://i.imgur.com/bfFspUp.png" alt="ğŸ˜­" /><figcaption aria-hidden="true">ğŸ˜­</figcaption></figure><p>ä¸è¿‡è¿™ä¸ªå›¾åºŠå·²ç»ç¨³å®šè¿è¡Œäº†14å¹´ï¼Œæœ€å¤§æ”¯æŒ10Mçš„å›¾ç‰‡ï¼ŒåŒæ—¶å…·æœ‰å…¨çƒ CDNåŠ é€Ÿä»¥ç¡®ä¿é«˜é€Ÿã€ç¨³å®šã€‚æš‚æ—¶å°±å…ˆç”¨ç€è¿™ä¸ªå¥½äº†ã€‚</p><p>å‘è·¯è¿‡å›¾åºŠä¸Šä¼ å›¾ç‰‡çš„æ—¶å€™ä¹Ÿè¦æ±‚å…³é—­VPNä»£ç†ï¼Œæ‰€ä»¥æœ€å¥½çš„åŠæ³•å°±æ˜¯ç›´æ¥åœ¨clashæ–°å»ºè§„åˆ™ï¼Œæ£€æµ‹åˆ°imgseå…³é”®è¯å°±èµ°ç›´è¿</p><figure><img src="https://s21.ax1x.com/2025/04/21/pE5lxs0.png"alt="é¡ºä¾¿ä¸€ææˆ‘ä¹‹å‰æŠŠadobeç›´æ¥ç¦äº†ï¼Œå› ä¸ºè”ç½‘æœ‰ç›—ç‰ˆæ£€æµ‹" /><figcaptionaria-hidden="true">é¡ºä¾¿ä¸€ææˆ‘ä¹‹å‰æŠŠadobeç›´æ¥ç¦äº†ï¼Œå› ä¸ºè”ç½‘æœ‰ç›—ç‰ˆæ£€æµ‹</figcaption></figure><p>è€æ–‡ç« çš„å›¾ç‰‡å°±ä¸è¿ç§»äº†ï¼Œå› ä¸ºæ‡’</p><h1 id="é—ç•™é—®é¢˜">é—ç•™é—®é¢˜</h1><p>æˆ‘çš„æ–‡ç« é¡µèƒŒæ™¯å›¾ä¸ºäº®è‰²ï¼Œå¹¶ä¸”å¯ç”¨äº†æ¯›ç»ç’ƒæ•ˆæœï¼Œè¿™æ ·ä¸€æ¥åœ¨é»‘å¤œæ¨¡å¼ä¸‹ä¼šæ˜¾å¾—å¾ˆçªå…€ã€‚æœ€ç†æƒ³çš„è§£å†³æ–¹æ³•æ˜¯è®¾ç½®æ–‡ç« é¡µçš„èƒŒæ™¯å¯ä»¥éšæ—¥å¤œæ¨¡å¼åŠ¨æ€åˆ‡æ¢ï¼Œé»‘å¤œæ¨¡å¼å°±åˆ‡æ¢ä¸ºï¼š</p><figure><img src="https://i.imgur.com/fmmmG7o.jpg" alt="ç‰è¶³ğŸ¥°" /><figcaption aria-hidden="true">ç‰è¶³ğŸ¥°</figcaption></figure><p>ä»Šå¤©å¯¹ç€è¿™ç¯‡åšå®¢æŠ˜è…¾äº†å¾ˆé•¿æ—¶é—´</p><p><a href="https://4rozen.github.io/archives/Hexo/60191.html">fluidå…¨å±èƒŒæ™¯å›¾éšæ—¥å¤œæ¨¡å¼åˆ‡æ¢å’Œæ­£æ–‡åº•é¡µæ¯›ç»ç’ƒæ•ˆæœ</a></p><p>ç»“æœå¤±è´¥äº†ã€‚å…·ä½“ä½“ç°ä¸ºï¼šåªæœ‰åœ¨è¿›å…¥åšå®¢çš„ä¸€ç¬é—´å¯ä»¥çœ‹åˆ°ç™½å¤©æ¨¡å¼ä¸‹çš„èƒŒæ™¯å›¾ï¼Œä¹‹åé©¬ä¸Šè¢«é»‘å¤œæ¨¡å¼çš„èƒŒæ™¯å›¾è¦†ç›–ï¼›æ¨¡å¼åˆ‡æ¢æŒ‰é’®ä¸èµ·ä½œç”¨ï¼›è€Œä¸”ä¸»é¡µçš„èƒŒæ™¯å›¾ä¹Ÿè¢«è¦†ç›–æ‰äº†ã€‚è¿™å’Œè¿™ä¸ªæ–‡ç« çš„åšå®¢çš„è¡¨ç°å®Œå…¨ç›¸åŒï¼Œæ¨æµ‹æœ€æ—©è¿™äº›ä»£ç æ˜¯èµ·ä½œç”¨çš„ï¼Œä½†æ˜¯ç°åœ¨å¤±æ•ˆäº†ã€‚</p><p>æ¯”è¾ƒå¥½çš„ä¾‹å­æ˜¯<ahref="https://qingshaner.com/">è¿™ä¸ªåšå®¢</a>ï¼Œå…·ä½“å®ç°æ–¹å¼ä¸æ˜ã€‚è¿™ä¸ªé—®é¢˜ç•™åˆ°ä»¥åå†è§£å†³å¥½äº†ã€‚</p><hr /><p>2025/4/21è¡¥å……</p><p>ä»Šå¤©æ”¶åˆ°äº†æ¼«è‡ªç”±å‘æ¥çš„é‚®ä»¶ï¼š <imgsrc="https://s21.ax1x.com/2025/04/21/pE5ec1f.png" /></p><p>æ¼«è‡ªç”±æ˜¯æˆ‘åœ¨æ‰¾æ¼«ç”»èµ„æºæ—¶å‘ç°çš„ç½‘ç«™ï¼Œä¹Ÿæ˜¯æˆ‘è§è¿‡çš„ä¸ºæ•°ä¸å¤šçš„ä¸“é—¨å¯¹å¤§é™†ç”¨æˆ·è¡¨ç¤ºæ¬¢è¿çš„ç½‘ç«™ï¼Œå–œæè¢«å¢™åå•+1</p><p>ä»–ç°åœ¨æ–°å¼€è¾Ÿäº†ä¸€ä¸ªåŸŸåï¼Œå¤§é™†å¯è®¿é—®ï¼Œå†…å®¹å’ŒåŸç½‘å€æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œä¸çŸ¥é“èƒ½åšæŒå¤šä¹…</p>]]></content>
    
    
    <categories>
      
      <category>Theme</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Java SE-Stream APIè¯¦è§£ by AlbertShen</title>
    <link href="/2025/04/18/java11/"/>
    <url>/2025/04/18/java11/</url>
    
    <content type="html"><![CDATA[<p>å‚è€ƒï¼š<ahref="https://www.bilibili.com/video/BV1Vi421C73n/?spm_id_from=333.1387.list.card_archive.click&amp;vd_source=918a6909c997fbaf818d1fbc55d65ca9">Javaä¸­çš„æµã€å¹¶è¡Œæµ</a></p><p>æœ¬åšæ–‡ä¸ºè§†é¢‘å†…å®¹çš„ç®€å•æ¢³ç†ã€‚</p><h1 id="ç›®å½•">ç›®å½•</h1><h1 id="å¼•å…¥">å¼•å…¥</h1><p>å·²çŸ¥ä¸€ä¸ªåˆ—è¡¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java">List&lt;Person&gt; people = List.of(<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Neo&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;USA&quot;</span>),<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Blu&quot;</span>, <span class="hljs-number">12</span>, <span class="hljs-string">&quot;China&quot;</span>),<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alex&quot;</span>, <span class="hljs-number">29</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">25</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-string">&quot;Japan&quot;</span>)<br>);<br></code></pre></td></tr></table></figure><p>æ£€æŸ¥æ‰€æœ‰äººçš„ä¿¡æ¯ï¼Œæ‰¾å‡ºå¹´é¾„å¤§äº18å²çš„äººã€‚</p><p><strong>å‘½ä»¤å¼ç¼–ç¨‹</strong>ï¼Œä½¿ç”¨forå¾ªç¯ä¾æ¬¡æ£€æŸ¥æ¯ä¸€ä¸ªäººçš„ä¿¡æ¯ï¼Œå°†å¹´é¾„è¶…è¿‡åå…«å²çš„äººæ·»åŠ åˆ°æ–°çš„åå•ä¸­ï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>    List&lt;Person&gt; people = List.of(<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Neo&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;USA&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Blu&quot;</span>, <span class="hljs-number">12</span>, <span class="hljs-string">&quot;China&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alex&quot;</span>, <span class="hljs-number">29</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">25</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-string">&quot;Japan&quot;</span>)<br>    );<br>    <span class="hljs-comment">//åˆ›å»ºæ–°çš„åˆ—è¡¨ç”¨æ¥å­˜æ”¾ç»“æœ</span><br>    List&lt;Person&gt; adults = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <span class="hljs-keyword">for</span>(Person p : people) &#123;<br>        <span class="hljs-keyword">if</span>(p.getAge() &gt; <span class="hljs-number">18</span>) &#123;<br>            adults.add(p);<br>        &#125;<br>    &#125;<br>    System.out.println(adults);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨<strong>Stream API</strong>å¯ä»¥å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span> &#123;<br>    List&lt;Person&gt; people = List.of(<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Neo&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;USA&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Blu&quot;</span>, <span class="hljs-number">12</span>, <span class="hljs-string">&quot;China&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alex&quot;</span>, <span class="hljs-number">29</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">25</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-string">&quot;Japan&quot;</span>)<br>    );<br>    List&lt;Person&gt; adults = people.stream()<br>            .filter(person -&gt; person.getAge() &gt; <span class="hljs-number">18</span>)<br>            .toList();<span class="hljs-comment">//æˆ–è€….collect(Collectors.toList());</span><br>    System.out.println(adults);<br><br>&#125;<br></code></pre></td></tr></table></figure><p>ä»£ç æ›´åŠ ç®€æ´ã€‚</p><p>Streamæœ¬èº«å¹¶ä¸æ˜¯æ•°æ®ç»“æ„ï¼Œä¸ä¼šå¤„ç†æ•°æ®æˆ–æ”¹å˜æ•°æ®æºï¼Œå®ƒä»…å®šä¹‰å¤„ç†æ–¹å¼ã€‚ä¸ä»…èƒ½å¤Ÿæ”¯æŒé¡ºåºå¤„ç†ï¼Œè¿˜èƒ½è¿›è¡Œå¹¶è¡Œå¤„ç†ã€‚</p><p><strong>Javaçš„Streamåªèƒ½ä½¿ç”¨ä¸€æ¬¡</strong>ï¼Œä¸€æ—¦ä½ è°ƒç”¨äº†ç»ˆç»“æ“ä½œï¼ˆæ¯”å¦‚.forEach()ã€.collect() ç­‰ï¼‰ï¼Œè¿™ä¸ªæµå°±è¢«â€œæ¶ˆè´¹æ‰â€äº†ï¼Œä¸èƒ½å†ç”¨ã€‚</p><p><strong>ä¸‰ä¸ªæ­¥éª¤</strong>ï¼š</p><ul><li><strong>åˆ›å»ºæµ</strong> Stream Creation</li><li><strong>ä¸­é—´æ“ä½œ</strong> Intermediate Operations<ul><li>ä¸­é—´æ“ä½œæ˜¯æƒ°æ€§æ‰§è¡Œçš„ï¼Œåªæœ‰é‡åˆ°ç»ˆç«¯æ“ä½œæ‰ä¼šå®é™…æ‰§è¡Œã€‚</li></ul></li><li><strong>ç»ˆç«¯æ“ä½œ</strong> Terminal Operations<ul><li>æ•´ä¸ªæµçš„å®é™…å¤„ç†éƒ¨åˆ†ï¼Œä»–ä¼šè§¦å‘ä¹‹å‰æ‰€æœ‰å®šä¹‰ä¸­çš„ä¸­é—´æ“ä½œï¼Œç”Ÿæˆæœ€ç»ˆç»“æœã€‚</li></ul></li></ul><p><img src="https://i.imgur.com/Pxty23E.png" /></p><p>ä¸‹é¢ä»è¿™ä¸‰ä¸ªæ–¹é¢è¿›è¡Œåˆ†æã€‚</p><h1 id="åˆ›å»ºæµ">åˆ›å»ºæµ</h1><p>å¯¹äºä»»ä½•å®ç°äº†<code>Collection</code>æ¥å£çš„é›†åˆï¼Œå¯ä»¥é€šè¿‡<code>stream()</code>æ–¹æ³•ç›´æ¥åˆ›å»ºæµï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java">String[] array = &#123;<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;b&quot;</span>,<span class="hljs-string">&quot;c&quot;</span>,<span class="hljs-string">&quot;d&quot;</span>,<span class="hljs-string">&quot;e&quot;</span>,<span class="hljs-string">&quot;f&quot;</span>&#125;;<br>Stream&lt;String&gt; stream = Arrays.stream(array);<br><br>stream.forEach(System.out::println);<br><br>List&lt;String&gt; list = List.of(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>);<br>Stream&lt;String&gt; myStream = list.stream();<br>myStream.forEach(System.out::println);<br><br><span class="hljs-comment">//æ›´ç›´æ¥çš„æ–¹æ³•</span><br>Stream&lt;String&gt; stream1 = Stream.of(<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;b&quot;</span>,<span class="hljs-string">&quot;c&quot;</span>);<br></code></pre></td></tr></table></figure><hr /><p>é‡‡ç”¨ä¸Šè¿°æ–¹æ³•åˆ›å»ºçš„streamå¯¹è±¡è‡ªè¯ç”Ÿä¹‹åˆå°±æ˜¯å†™æ­»çš„ï¼Œæ— æ³•ä¿®æ”¹ã€‚æƒ³è¦<strong>åŠ¨æ€åˆ›å»ºæµ</strong>ï¼Œéœ€è¦ä½¿ç”¨<code>Stream.Builder</code>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åˆ›å»ºå¯¹è±¡</span><br>Stream.Builder&lt;String&gt; builder = Stream.builder();<br><span class="hljs-comment">//æ·»åŠ å…ƒç´ </span><br><span class="hljs-comment">//æ·»åŠ åæ— æ³•åˆ é™¤</span><br>builder.add(<span class="hljs-string">&quot;a&quot;</span>);<br>builder.add(<span class="hljs-string">&quot;b&quot;</span>);<br><span class="hljs-comment">//ä¹Ÿå¯æ ¹æ®æ¡ä»¶åŠ¨æ€æ·»åŠ </span><br><span class="hljs-keyword">if</span>(Math.random()&lt;<span class="hljs-number">0.5</span>)&#123;<br>    builder.add(<span class="hljs-string">&quot;c&quot;</span>);<br>&#125;<br><span class="hljs-comment">//é€šè¿‡buildæ–¹æ³•æ¥åˆ›å»ºstreamå¯¹è±¡</span><br>Stream&lt;String&gt; stream = builder.build();<br><span class="hljs-comment">//ä¸€æ—¦è°ƒç”¨äº†buildå°±ä¸èƒ½å†æ·»åŠ å…ƒç´ ï¼Œå¦åˆ™æ‰§è¡Œæ—¶æŠ¥é”™</span><br>stream.forEach(System.out::println);<br></code></pre></td></tr></table></figure><hr /><p>ä½¿ç”¨Streamä¹Ÿå¯<strong>ä»æ–‡ä»¶åˆ›å»ºæµ</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test3</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">Path</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> Paths.get(<span class="hljs-string">&quot;D:\\develop\\code\\Practice\\chapter0\\hello_copy.txt&quot;</span>);<br>    <span class="hljs-keyword">try</span>(Stream&lt;String&gt; lines = Files.lines(path))&#123;<br>        lines.forEach(System.out::println);<span class="hljs-comment">//è¾“å‡ºåˆ°æ§åˆ¶å°</span><br>    &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>        e.printStackTrace();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>Files.lines(path, StandardCharsets.UTF_8)</code>è¿”å›ä¸€ä¸ªæƒ°æ€§è¯»å–çš„Streamï¼Œå¯ä»¥é€è¡Œè¯»å–æ–‡æœ¬æ–‡ä»¶å†…å®¹ã€‚</li><li><code>try-with-resources</code>ä¿è¯èµ„æºåŠæ—¶å…³é—­</li></ul><hr /><p>StreamAPIä¹Ÿæä¾›äº†<code>IntStream</code>ç­‰ç±»ç”¨æ¥æ–¹ä¾¿åœ°åˆ›å»º<strong>åŸºæœ¬æ•°æ®ç±»å‹çš„æµ</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">IntStream</span> <span class="hljs-variable">intStream</span> <span class="hljs-operator">=</span> IntStream.range(<span class="hljs-number">1</span>,<span class="hljs-number">6</span>);<br><span class="hljs-type">IntStream</span> <span class="hljs-variable">intStream</span> <span class="hljs-operator">=</span> IntStream.of(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);<br><span class="hljs-comment">//é€šè¿‡boxedå¯ä»¥æŠŠåŸºæœ¬æ•°æ®ç±»å‹çš„æµè½¬æ¢ä¸ºå¯¹è±¡æµï¼š</span><br>Stream&lt;Integer&gt; integerStream = intStream.boxed();<br></code></pre></td></tr></table></figure><hr /><p>Stream.iterateå¯ç”Ÿæˆ<strong>æ— é™æµ</strong>ï¼ˆé€šå¸¸ç”¨limité™åˆ¶ç”Ÿæˆçš„ä¸ªæ•°ï¼‰ï¼š</p><p><strong>è¯­æ³•</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span>&lt;T&gt; Stream&lt;T&gt; <span class="hljs-title function_">iterate</span><span class="hljs-params">(<span class="hljs-keyword">final</span> T seed, <span class="hljs-keyword">final</span> UnaryOperator&lt;T&gt; f)</span><br></code></pre></td></tr></table></figure><ul><li><code>seed</code>:åˆå§‹å€¼</li><li><code>f</code>ï¼šä½œç”¨äºåˆå§‹å€¼çš„å‡½æ•°</li><li>è¿”å›å€¼ï¼šä¸€ä¸ªæ–°çš„Streamç±»å‹çš„åºåˆ—</li></ul><p>å¢å¼ºå‹ï¼š<code>public static&lt;T&gt; Stream&lt;T&gt; iterate(T seed, Predicate&lt;? super T&gt; hasNext, UnaryOperator&lt;T&gt; next)</code>ï¼Œå…¶ä¸­<code>hasNext</code>æ˜¯ç»ˆæ­¢æ¡ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ç”Ÿæˆä¸€ä¸ªç­‰å·®æ•°åˆ—</span><br>   Stream.iterate(<span class="hljs-number">0</span>, i -&gt; i + <span class="hljs-number">1</span>).limit(<span class="hljs-number">5</span>).forEach(System.out::println);<br></code></pre></td></tr></table></figure><hr /><p><strong>å¹¶è¡Œæµ</strong>ï¼šæŠŠæ•°æ®åˆ†æˆå¤šä¸ªéƒ¨åˆ†ï¼Œå¹¶â€œåŒæ—¶â€ç”¨å¤šä¸ªçº¿ç¨‹æ¥å¤„ç†ï¼Œä»è€ŒåŠ å¿«å¤„ç†é€Ÿåº¦ã€‚</p><ul><li>å¯¹äºé›†åˆï¼Œè°ƒç”¨<code>list.parallelStraem()</code>å¯ä»¥ç›´æ¥å¾—åˆ°ä¸€ä¸ªå¹¶è¡Œæµã€‚ä¾‹å¦‚<code>List.of("a", "b", "c", "d", "e", "f").parallelStream().forEach(System.out::println);</code>ï¼Œè¾“å‡ºæ˜¯<strong>ä¹±åº</strong>çš„</li><li>å¯¹äºå·²æœ‰çš„Streamï¼Œå¯ä»¥è°ƒç”¨<code>.parallel()</code>å¾—åˆ°å¹¶è¡Œæµ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test5</span><span class="hljs-params">()</span> &#123;<br>    Stream&lt;Integer&gt; iterateStream = Stream.iterate(<span class="hljs-number">0</span>, n -&gt; n + <span class="hljs-number">1</span>).limit(<span class="hljs-number">5</span>);<br>    iterateStream.parallel();<br>    iterateStream.forEach(System.out::println);<br>    <span class="hljs-comment">//è¿™æ—¶çš„æ‰“å°é¡ºåºä¹Ÿæ˜¯ä¹±çš„ï¼Œå› ä¸ºforEachæ˜¯å¹¶å‘çš„ã€‚</span><br>    <span class="hljs-comment">//forEachOrderedå¯ä»¥ä¿è¯é¡ºåºã€‚</span><br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ä¸­é—´æ“ä½œ">ä¸­é—´æ“ä½œ</h1><p>ä¸­é—´æ“ä½œç”¨äºå¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œå¤„ç†ï¼Œå¦‚ç­›é€‰ã€æ’åºç­‰ç­‰ã€‚æ ¹æ®æ“ä½œçš„æ€§è´¨å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªç±»åˆ«ï¼š</p><ul><li><strong>ç­›é€‰å’Œåˆ‡ç‰‡</strong>(Filtering andSlicing):è¿‡æ»¤æˆ–ç¼©å‡æµä¸­çš„å…ƒç´ çš„æ•°é‡</li><li><strong>æ˜ å°„</strong>(Mapping):è½¬æ¢æµä¸­çš„å…ƒç´ æˆ–æå–å…ƒç´ çš„ç‰¹å®šå±æ€§</li><li><strong>æ’åº</strong>(Sorting)</li></ul><figure><img src="https://i.imgur.com/naZpiDN.png" alt="ä¸­é—´æ“ä½œå›¾è§£" /><figcaption aria-hidden="true">ä¸­é—´æ“ä½œå›¾è§£</figcaption></figure><h2 id="ç­›é€‰å’Œåˆ‡ç‰‡">ç­›é€‰å’Œåˆ‡ç‰‡</h2><p>ä¾‹å¦‚å¼€å¤´å¤„æåˆ°çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">List&lt;Person&gt; adults = people.stream()<br>        .filter(myperson -&gt; myperson.getAge() &gt; <span class="hljs-number">18</span>)<br>        .toList();<span class="hljs-comment">//æˆ–è€….collect(Collectors.toList());</span><br></code></pre></td></tr></table></figure><p><strong>è¿‡æ»¤å™¨å®šä¹‰</strong>:</p><p><code>Stream&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate);</code></p><p>Predicateå³<strong>åˆ¤æ–­æ¡ä»¶å‡½æ•°</strong>ï¼Œç”¨lambdaå†™å‡ºï¼Œè¿”å›å¸ƒå°”å€¼ã€‚æ„æ€æ˜¯:<em>ç»™æˆ‘ä¸€ä¸ªå«myperson çš„å‚æ•°ï¼Œåˆ¤æ–­è¿™ä¸ªäººå¹´é¾„æ˜¯å¦å¤§äº 18ï¼Œè¿”å›ä¸€ä¸ª true/falseç»“æœ</em>ã€‚<code>myperson</code>çš„ç±»å‹ç”±å‰æ–‡è‡ªåŠ¨æ¨æ–­å‡ºï¼Œæ‰€ä»¥çœç•¥ã€‚</p><p>è¿™é‡Œç­‰ä»·äºç”¨æ›´ç®€æ´çš„å½¢å¼å®ç°äº†<code>Predicate</code>æ¥å£çš„æŠ½è±¡æ–¹æ³•<code>boolean test(T t);</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">Predicate&lt;Person&gt; predicate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Predicate</span>&lt;Person&gt;() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">test</span><span class="hljs-params">(Person person)</span> &#123;<br>        <span class="hljs-keyword">return</span> person.getAge() &gt; <span class="hljs-number">18</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><hr /><p>å¯ä»¥ç”¨<code>.distinct()</code>ä¸ºæµä¸­çš„å…ƒç´ <strong>å»é‡</strong>ï¼Œåº•å±‚é€šè¿‡ç»´æŠ¤ä¸€ä¸ªHashSetå®ç°ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test3</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">//</span><br>    Stream.of(<span class="hljs-string">&quot;Origami&quot;</span>, <span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-string">&quot;Kurumi&quot;</span>)<br>            .distinct()<br>            .forEach(System.out::println);<br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœæ˜¯è‡ªå®šä¹‰çš„ç±»çš„å¯¹è±¡ï¼Œéœ€è¦ç¡®ä¿æ­£ç¡®åœ°é‡å†™äº†<code>equals()``HashCode</code>æ–¹æ³•ï¼Œå› ä¸ºHashSetå°±æ˜¯é€šè¿‡è¿™ä¸¤ä¸ªæ–¹æ³•åˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸ç­‰ã€‚</p><hr /><p>Streamç±»ä¸­å®šä¹‰çš„<code>Stream&lt;T&gt; limit(long maxSize);</code>æ–¹æ³•è¿”å›ç”±æ­¤æµçš„å…ƒç´ ç»„æˆçš„æˆªæ–­é•¿åº¦ä¸è¶…è¿‡maxSizeçš„æµã€‚</p><p>åŒæ ·ï¼Œ<code>Stream&lt;T&gt; skip(long n);</code>è·³è¿‡å‰nä¸ªå…ƒç´ ã€‚</p><p>limitå’Œskipåœ¨æœ‰åºçš„å¹¶è¡Œæµä¸­ä½¿ç”¨æ—¶å¯èƒ½ä¼šä½¿æ€§èƒ½å˜å·®ï¼Œæ­¤æ—¶å¯ä»¥ç”¨<code>.unordered()</code> æé«˜æ•ˆç‡ï¼›å¦‚æœé¡ºåºå¿…é¡»ä¿ç•™ï¼Œé‚£æœ€å¥½ä½¿ç”¨é¡ºåºæµ<code>.sequential()</code>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test4</span><span class="hljs-params">()</span> &#123;<br>    Stream&lt;Integer&gt; s1 = Stream.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>);<br>    s1.limit(<span class="hljs-number">5</span>).forEach(System.out::print);<br><br>    Stream&lt;Integer&gt; s2 = Stream.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>);<br>    s2.skip(<span class="hljs-number">5</span>).forEach(System.out::print);<br>    <span class="hljs-comment">//æ‰“å°ç»“æœï¼š12345678910</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ˜ å°„">æ˜ å°„</h2><p>æ˜ å°„æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ•°æ®è½¬æ¢çš„è¿‡ç¨‹</p><p><strong>å®šä¹‰</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;R&gt; Stream&lt;R&gt; <span class="hljs-title function_">map</span><span class="hljs-params">(Function&lt;? <span class="hljs-built_in">super</span> T, ? extends R&gt; mapper)</span>;<br></code></pre></td></tr></table></figure><p><code>T</code>æ˜¯Streamä¸­å…ƒç´ çš„ç±»å‹ï¼Œ<code>R</code>æ–°çš„æµçš„å…ƒç´ ç±»å‹</p><p>mapèƒ½å¤Ÿé€šè¿‡æä¾›çš„å‡½æ•°<code>Function</code>å°†æµä¸­çš„æ¯ä¸ªå…ƒç´ è½¬æ¢æˆæ–°çš„å…ƒç´ ï¼Œæœ€åç”Ÿæˆä¸€ä¸ªæ–°å…ƒç´ æ„æˆçš„æµã€‚</p><p>mapæ¥å—çš„æ˜¯ä¸€ä¸ª<strong>å‡½æ•°å¼æ¥å£</strong>ã€‚</p><figure><img src="https://i.imgur.com/Yk5xhTe.png"alt="åˆ©ç”¨æ˜ å°„å±‚å±‚æå–æ•°æ®çš„è¿‡ç¨‹" /><figcaption aria-hidden="true">åˆ©ç”¨æ˜ å°„å±‚å±‚æå–æ•°æ®çš„è¿‡ç¨‹</figcaption></figure><p>ç¤ºä¾‹ï¼šåˆ©ç”¨æ˜ å°„è·å¾—Personåˆ—è¡¨ä¸­æ‰€æœ‰äººçš„name</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test6</span><span class="hljs-params">()</span> &#123;<br>    List&lt;Person&gt; people = List.of(<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Neo&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;USA&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Blu&quot;</span>, <span class="hljs-number">12</span>, <span class="hljs-string">&quot;China&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alex&quot;</span>, <span class="hljs-number">29</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">25</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-string">&quot;Japan&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-string">&quot;Japan&quot;</span>)<br>    );<br><br>    Stream&lt;Person&gt; peopleStream = people.stream();<br>    <span class="hljs-comment">//peopleStream.map(myperson -&gt; myperson.getName()).forEach(System.out::println);</span><br>    <span class="hljs-comment">//æ–¹æ³•å¼•ç”¨çš„æ ¼å¼ï¼šç±»åæˆ–å¯¹è±¡å::æ–¹æ³•å</span><br>    peopleStream.map(Person::getName).forEach(System.out::println);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ‰“å°ç»“æœï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">Neo<br>Blu<br>Alex<br>Bob<br>Kurumi<br>Kurumi<br></code></pre></td></tr></table></figure><hr /><p><code>map</code>ç»“æ„é€‚ç”¨äº<strong>å•å±‚ç»“æ„</strong>çš„æµï¼Œè¿›è¡Œå…ƒç´ <strong>ä¸€å¯¹ä¸€</strong>çš„è½¬æ¢ã€‚</p><p>å¯¹äºåµŒå¥—çš„é›†åˆï¼Œæ•°ç»„ç­‰ç­‰ï¼Œé€‚åˆä½¿ç”¨<code>flatMap</code>ã€‚</p><p><img src="https://i.imgur.com/sq8UWmE.png" /></p><p><strong>å®šä¹‰</strong>ï¼š<code>Stream.java</code>ä¸­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;R&gt; Stream&lt;R&gt; <span class="hljs-title function_">flatMap</span><span class="hljs-params">(Function&lt;? <span class="hljs-built_in">super</span> T, ? extends Stream&lt;? extends R&gt;&gt; mapper)</span>;<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼šå°†åµŒå¥—Listè½¬æ¢æˆçš„æµæ‰å¹³åŒ–ä¸ºå•å±‚æµæ‰“å°å‡ºæ¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test7</span><span class="hljs-params">()</span> &#123;<br>    List&lt;List&lt;Person&gt;&gt; peopleGroups = List.of(<br>            List.of(<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;neo&quot;</span>, <span class="hljs-number">45</span>, <span class="hljs-string">&quot;USA&quot;</span>),<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Stan&quot;</span>, <span class="hljs-number">10</span>, <span class="hljs-string">&quot;USA&quot;</span>)<br>            ),<br>            List.of(<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Grace&quot;</span>, <span class="hljs-number">16</span>, <span class="hljs-string">&quot;UK&quot;</span>),<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alex&quot;</span>, <span class="hljs-number">17</span>, <span class="hljs-string">&quot;UK&quot;</span>)<br>            ),<br>            List.of(<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Sebastian&quot;</span>, <span class="hljs-number">40</span>, <span class="hljs-string">&quot;FR&quot;</span>)<br>            )<br>    );<br><br>    Stream&lt;List&lt;Person&gt;&gt; peopleGroupStream = peopleGroups.stream();<br>    <span class="hljs-comment">//è½¬æ¢æˆå•å±‚æµ  æ‰å¹³åŒ–  å•ä¸€åŒ–</span><br>    Stream&lt;Person&gt; personStream = peopleGroupStream.flatMap(people -&gt; people.stream());<br>    personStream.forEach(System.out::println);<br>&#125;<br></code></pre></td></tr></table></figure><p>æµæ“ä½œè¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„æµï¼ŒåŸå§‹æµåœ¨ç¬¬ä¸€æ¬¡æ“ä½œåå°±ä¼šè¢«æ ‡è®°ä¸ºå·²æ“ä½œï¼Œä¸èƒ½å†æ¬¡è¿›è¡Œæ“ä½œã€‚å®é™…åº”ç”¨ä¸­é€šå¸¸ä¼šé‡‡ç”¨<strong>é“¾å¼æ“ä½œ</strong>:</p><p><img src="https://i.imgur.com/lZ0Yc3R.png" /></p><p>åµŒå¥—æµ -&gt; å•å±‚æµ -&gt; æå–nameå±æ€§ -&gt; æ‰“å°</p><hr /><p><code>mapToInt</code>å¯ä»¥å°†å¯¹è±¡æµè½¬æ¢ä¸ºåŸºç¡€ç±»å‹çš„æµ<code>IntStream</code>ã€‚</p><hr /><h2 id="æ’åº">æ’åº</h2><p>å½“æµä¸­çš„å…ƒç´ ç±»å‹å®ç°äº†<code>Comparable</code>æ¥å£æ—¶ï¼ˆè‡ªç„¶æ’åºï¼‰ï¼Œå¯ç›´æ¥è°ƒç”¨<code>sorted()</code>ã€‚</p><p>å®šåˆ¶æ’åºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test10</span><span class="hljs-params">()</span> &#123;<br>    Stream.of(<span class="hljs-string">&quot;blueberry&quot;</span>, <span class="hljs-string">&quot;greenberry&quot;</span>, <span class="hljs-string">&quot;redberry&quot;</span>, <span class="hljs-string">&quot;pear&quot;</span>, <span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;orange&quot;</span>)<br>            .sorted(Comparator.comparingInt(String::length).reversed())<br>            .forEach(System.out::println);<br>            <span class="hljs-comment">//å¹´é¾„é™åº</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å…³äº<code>Comparator.comparingInt(String::length).reversed()</code>:</p><ul><li><code>comparingInt</code>æ˜¯Comparatorçš„ä¸€ä¸ªæ–¹æ³•</li><li>ç›¸å½“äº<code>Comparator.comparingInt(p -&gt; p.getAge())</code>ï¼Œå°†Ageä½œä¸ºæ’åºçš„æ ‡å‡†</li><li><code>comparingInt</code>å’Œ<code>reversed()</code>å¹¶åˆ—å®šä¹‰ï¼Œä½†æ˜¯å‰è€…è¿”å›çš„ä»ç„¶æ˜¯ä¸€ä¸ª<code>Comparator&lt;T&gt;</code>å¯¹è±¡ï¼Œåè€…æ˜¯ä¸€ä¸ªComparatorçš„é»˜è®¤æ–¹æ³•ï¼Œåªè¦æ˜¯<code>Comparator&lt;T&gt;</code>çš„å¯¹è±¡å°±å¯ä»¥è°ƒç”¨å®ƒã€‚</li></ul><hr /><p>ä¸­é—´æ“ä½œåªæ˜¯å®šä¹‰äº†æ“ä½œçš„è§„åˆ™ï¼Œå¹¶ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œå¸¸å¸¸ç”¨å˜é‡ä¿å­˜å’Œä¼ é€’ã€‚</p><p>ç»¼åˆç»ƒä¹ ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> &#123;<br>    List&lt;List&lt;Person&gt;&gt; peopleGroups = List.of(<br>            List.of(<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;neo&quot;</span>, <span class="hljs-number">45</span>, <span class="hljs-string">&quot;USA&quot;</span>),<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Stan&quot;</span>, <span class="hljs-number">10</span>, <span class="hljs-string">&quot;USA&quot;</span>)<br>            ),<br>            List.of(<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Grace&quot;</span>, <span class="hljs-number">16</span>, <span class="hljs-string">&quot;UK&quot;</span>),<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alex&quot;</span>, <span class="hljs-number">19</span>, <span class="hljs-string">&quot;UK&quot;</span>)<br>            ),<br>            List.of(<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Sebastian&quot;</span>, <span class="hljs-number">40</span>, <span class="hljs-string">&quot;FR&quot;</span>),<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Sebastian&quot;</span>, <span class="hljs-number">40</span>, <span class="hljs-string">&quot;FR&quot;</span>)<br>            )<br>    );<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ‰å¹³åŒ–ã€å»é‡ã€å¹´é¾„å¤§äº18ã€æ˜ å°„åˆ°nameã€æŒ‰ç…§åå­—çš„é•¿åº¦æ’åº</span><br><span class="hljs-comment">     */</span><br>    Stream&lt;String&gt; s= peopleGroups.stream()<br>            .flatMap(List::stream)<br>            .distinct()<br>            .filter(person -&gt; person.getAge() &gt; <span class="hljs-number">18</span>)<span class="hljs-comment">//ç­›é€‰</span><br>            .map(Person::getName)<br>            .sorted(Comparator.comparing(String::length));<span class="hljs-comment">//æ˜ å°„ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„åå­—ä¹‹åå†æŒ‰ç…§å­—ç¬¦ä¸²çš„é•¿åº¦æ’åº;</span><br>    <br>    <span class="hljs-comment">//è§¦å‘æ‰§è¡Œæ“ä½œ</span><br>    s.forEach(System.out::println);<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ç»ˆç«¯æ“ä½œ">ç»ˆç«¯æ“ä½œ</h1><p>ç»ˆç«¯æ“ä½œæ˜¯æµå¤„ç†çš„æœ€ç»ˆæ­¥éª¤ï¼Œå®å¼¹å‘ç”Ÿï¼Œæµä¸­çš„å…ƒç´ è¢«æ¶ˆè´¹ï¼Œæµä¸èƒ½å†è¢«ä½¿ç”¨ã€‚</p><p>ç»ˆç«¯æ“ä½œåŒ…æ‹¬æŸ¥æ‰¾ä¸åŒ¹é…ã€èšåˆæ“ä½œã€å½’çº¦æ“ä½œã€æ”¶é›†æ“ä½œã€è¿­ä»£æ“ä½œã€‚</p><p><img src="https://i.imgur.com/mg7OIu4.png" /></p><h2 id="æŸ¥æ‰¾ä¸åŒ¹é…">æŸ¥æ‰¾ä¸åŒ¹é…</h2><p>å±äºçŸ­è·¯æ“ä½œ(Short-circuitingOperations),ä¹Ÿå°±æ˜¯è¯´è¿™äº›æ“ä½œåœ¨æ‰¾åˆ°æ‰€éœ€çš„å…ƒç´ åä¼šç«‹å³è¿”å›ç»“æœ,ä¸ä¼šéå†æ•´ä¸ªæµ.</p><ul><li><code>anyMatch</code>:å¦‚æœæµä¸­ä»»æ„å…ƒç´ æ»¡è¶³ç»™å®šçš„æ¡ä»¶åˆ™è¿”å›true</li><li><code>noneMatch</code>:ä¸å‰è€…ç›¸å</li><li><code>allMatch</code>:æ‰€æœ‰çš„éƒ½æ»¡è¶³æ‰ä¼šè¿”å›true</li></ul><hr /><ul><li><code>Optional&lt;T&gt; findFirst();</code>æ‰¾åˆ°æµä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ,ç±»å‹ä¸º<code>Optional</code>.å› ä¸ºè¿”å›çš„å…ƒç´ å¯èƒ½ä¸ºç©º,è¿™æ ·åšçš„è¯æ›´åŠ å®‰å…¨.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span> &#123;<br>    List&lt;Person&gt; people = List.of(<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Neo&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;USA&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Blu&quot;</span>, <span class="hljs-number">12</span>, <span class="hljs-string">&quot;China&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alex&quot;</span>, <span class="hljs-number">29</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">25</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-string">&quot;Japan&quot;</span>)<br>    );<br>    Optional&lt;Person&gt; optionalPerson = people.stream().findFirst();<br>    <span class="hljs-comment">//ifPresent:å¦‚æœå€¼å­˜åœ¨ï¼Œå°±æ‰§è¡Œæ‹¬å·é‡Œçš„æ“ä½œï¼Œå¦åˆ™ä»€ä¹ˆä¹Ÿä¸åš.</span><br>    optionalPerson.ifPresent(System.out::println);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ‰“å°ç»“æœ:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">Person&#123;name=&#x27;Neo&#x27;, age=1, country=&#x27;USA&#x27;&#125;<br></code></pre></td></tr></table></figure><ul><li><code>findAny</code>:è¿”å›ä»»æ„ä¸€ä¸ªå…ƒç´ </li></ul><h2 id="èšåˆæ“ä½œ">èšåˆæ“ä½œ</h2><ul><li><code>long count();</code>:è®¡ç®—å…ƒç´ çš„æ•°é‡</li><li><code>Optional&lt;T&gt; max(Comparator&lt;? super T&gt; comparator);</code>:è¿”å›æµä¸­çš„æœ€å¤§å…ƒç´ ,éœ€è¦æä¾›ä¸€ä¸ªæ¯”è¾ƒå™¨.</li><li>åŒç†è¿˜æœ‰<code>min</code></li></ul><hr /><ul><li><code>sum()</code>ç”¨äºæ±‚å’Œ,åªèƒ½å¤„ç†åŸºæœ¬æ•°æ®ç±»å‹çš„æµ,æ‰€ä»¥ä½¿ç”¨ä¹‹å‰è¦è¿›è¡Œæµç±»å‹çš„è½¬æ¢.</li><li><code>average</code>åŒä¸Š</li></ul><p>æœ¬è´¨ä¸Šèšåˆæ“ä½œæ˜¯å½’çº¦æ“ä½œçš„ä¸€ç§ç‰¹æ®Šå½¢å¼,é€‚åˆå¿«é€Ÿç®€å•çš„ç»Ÿè®¡ä»»åŠ¡.å½’çº¦æ“ä½œreduceæ›´åŠ é€šç”¨.</p><h2 id="å½’çº¦æ“ä½œ">å½’çº¦æ“ä½œ</h2><p>æ•´å‹çš„reduceå®šä¹‰å¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-title function_">reduce</span><span class="hljs-params">(<span class="hljs-type">int</span> identity, IntBinaryOperator op)</span>;<br></code></pre></td></tr></table></figure><p>Javaæä¾›çš„æ³¨è§£:</p><blockquote><p>å¯¹è¯¥æµçš„å…ƒç´ æ‰§è¡Œå½’çº¦æ“ä½œï¼Œä½¿ç”¨æä¾›çš„æ ‡è¯†å€¼ï¼ˆidentityï¼‰å’Œä¸€ä¸ªå…³è”çš„ç´¯ç§¯å‡½æ•°ï¼ˆaccumulationfunctionï¼‰ï¼Œå¹¶è¿”å›å½’çº¦åçš„ç»“æœã€‚å…¶ç­‰ä»·äºä»¥ä¸‹ä»£ç ï¼š <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> identity;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> element : <span class="hljs-built_in">this</span> stream)<br>    result = accumulator.applyAsInt(result, element)<br><span class="hljs-keyword">return</span> result;<br></code></pre></td></tr></table></figure>å³,å…ˆæŠŠ identityçš„å€¼èµ‹ç»™ç»“æœ,ç„¶åå†ä½¿ç”¨ç´¯è®¡å‡½æ•°å¯¹ç»“æœå’Œæµä¸­çš„å…ƒç´ è¿›è¡Œè¿ç®—.<br />è¿™ç§å½’çº¦ä¸ä¸€å®šæŒ‰é¡ºåºæ‰§è¡Œï¼ˆå³å®ƒå¯ä»¥å¹¶è¡Œå¤„ç†ï¼‰ã€‚<br />identityå¿…é¡»æ˜¯ä¸€ä¸ª<strong>æ’ç­‰å…ƒ</strong>,ä¹Ÿå°±æ˜¯è¯´ç´¯è®¡å‡½æ•°ä½œç”¨åœ¨å®ƒèº«ä¸Šä¹‹åçš„ç»“æœä»ç„¶ç­‰äºå®ƒæœ¬èº«.ä¾‹å¦‚:<br />åŠ æ³•çš„æ’ç­‰å…ƒæ˜¯0,å› ä¸º 0 + x = x<br />ä¹˜æ³•çš„æ’ç­‰å…ƒæ˜¯1,å› ä¸º1 * x = x<br />æ­¤å¤–ï¼Œç´¯ç§¯å‡½æ•°å¿…é¡»æ˜¯<strong>å¯ç»“åˆçš„</strong>ï¼ˆassociativeï¼‰å‡½æ•°,ä¹Ÿå°±æ˜¯ç¬¦åˆç»“åˆå¾‹,è®¡ç®—é¡ºåºä¸å½±å“ç»“æœ.</p></blockquote><p><strong>å½¢å‚</strong>:</p><ul><li><code>identity</code>:ç´¯ç§¯å‡½æ•°çš„æ’ç­‰å…ƒ</li><li><code>op</code>:ä¸€ä¸ªå¯ç»“åˆçš„,æ— å‰¯ä½œç”¨(å‡½æ•°åœ¨å¤„ç†å€¼æ—¶ä¸åº”è¯¥ä¿®æ”¹å¤–éƒ¨çŠ¶æ€)çš„,æ— çŠ¶æ€çš„å‡½æ•°</li></ul><p><strong>è¿”å›å€¼</strong>:å½’çº¦çš„ç»“æœ</p><p>å¯¹ä¸€ä¸ªæµä¸­çš„æ‰€æœ‰å…ƒç´ æ±‚å’Œ,å¯ä»¥å†™ä¸º<code>int sum = integers.reduce(0, (a, b) -&gt; a+b);</code><br />æˆ–è€…æ›´ç®€æ´ä¸€ç‚¹<code>int sum = integers.reduce(0, Integer::sum);</code></p><p>è™½ç„¶ç›¸æ¯”äºåœ¨å¾ªç¯ä¸­ç›´æ¥ä¿®æ”¹ä¸€ä¸ªè¿è¡Œä¸­çš„æ€»å’Œå˜é‡ï¼Œè¿™ç§æ–¹å¼çœ‹èµ·æ¥æœ‰äº›ç»•è¿œè·¯ï¼Œä½†å½’çº¦ï¼ˆreductionï¼‰æ“ä½œåœ¨å¹¶è¡ŒåŒ–æ—¶è¡¨ç°å¾—æ›´åŠ ä¼˜é›…ï¼Œæ— éœ€é¢å¤–çš„åŒæ­¥ï¼ˆsynchronizationï¼‰ï¼Œå¹¶ä¸”å¤§å¤§é™ä½äº†æ•°æ®ç«äº‰ï¼ˆdataracesï¼‰çš„é£é™©ã€‚</p><hr /><p>ä¾‹:å¯¹æµçš„æ‰€æœ‰å…ƒç´ çš„å¹´é¾„æ±‚å’Œ,ç„¶åè¾“å‡ºæ‰€æœ‰äººåå­—çš„ä¸²æ¥å­—ç¬¦ä¸²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test3</span><span class="hljs-params">()</span> &#123;<br>    List&lt;Person&gt; people = List.of(<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Neo&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;USA&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Blu&quot;</span>, <span class="hljs-number">13</span>, <span class="hljs-string">&quot;China&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alex&quot;</span>, <span class="hljs-number">29</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">25</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-string">&quot;Japan&quot;</span>)<br>    );<br>    <span class="hljs-comment">//è®¡ç®—å¹´é¾„çš„å’Œ</span><br>    <span class="hljs-type">IntStream</span> <span class="hljs-variable">doubleStream</span> <span class="hljs-operator">=</span> people.stream().mapToInt(Person::getAge);<br>    <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> doubleStream.reduce(<span class="hljs-number">0</span>, (a,b) -&gt; (a + b));<br>    System.out.println(sum);<br><br>    <span class="hljs-comment">//å°†æ‰€æœ‰äººçš„åå­—ä¸²æ¥èµ·æ¥</span><br>    <span class="hljs-type">String</span> <span class="hljs-variable">joinedName</span> <span class="hljs-operator">=</span> people.stream()<br>            .map(Person::getName)<br>            .reduce(<span class="hljs-string">&quot;&quot;</span>, (a, b) -&gt; a + b);<br>    System.out.println(joinedName);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ‰“å°ç»“æœ</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">86<br>NeoBluAlexBobKurumi<br></code></pre></td></tr></table></figure><h2 id="æ”¶é›†æ“ä½œ">æ”¶é›†æ“ä½œ</h2><p>æŠŠæµå¤„ç†åçš„å…ƒç´ æ±‡é›†åˆ°æ–°çš„æ•°æ®ç»“æ„ä¸­, æ¯”å¦‚åˆ—è¡¨, map, é›†åˆç­‰ç­‰.</p><p><strong>å®šä¹‰</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;R, A&gt; R <span class="hljs-title function_">collect</span><span class="hljs-params">(Collector&lt;? <span class="hljs-built_in">super</span> T, A, R&gt; collector)</span>;<br></code></pre></td></tr></table></figure><p><code>Collectors.java</code>ä¸­æä¾›äº†ä¸°å¯Œçš„<strong>é™æ€æ–¹æ³•</strong>ç”¨ä½œcollectorå‚æ•°.å¦‚<code>toList</code>,<code>toMap</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ”¶é›†å¹´é¾„å¤§äº18å²çš„äºº</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test4</span><span class="hljs-params">()</span> &#123;<br>    List&lt;Person&gt; people = List.of(<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Neo&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;USA&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Blu&quot;</span>, <span class="hljs-number">13</span>, <span class="hljs-string">&quot;China&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alex&quot;</span>, <span class="hljs-number">29</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">25</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-string">&quot;Japan&quot;</span>)<br>    );<br>    List&lt;Person&gt; adults = people.stream()<br>            .filter(person -&gt; person.getAge() &gt; <span class="hljs-number">18</span>)<br>            .collect(Collectors.toList());<span class="hljs-comment">//ä½¿ç”¨Collectorsæä¾›çš„æ–¹æ³•</span><br>    System.out.println(adults);<br>&#125;<br></code></pre></td></tr></table></figure><hr /><p><strong>åˆ†ç»„</strong>:<code>Collectors</code>ç±»æä¾›çš„é™æ€æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T, K&gt; Collector&lt;T, ?, Map&lt;K, List&lt;T&gt;&gt;&gt;<br> groupingBy(Function&lt;? <span class="hljs-built_in">super</span> T, ? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">K</span>&gt; classifier) &#123;<br>     <span class="hljs-keyword">return</span> groupingBy(classifier, toList());<br> &#125;<br></code></pre></td></tr></table></figure><ul><li><code>T</code>:æµä¸­å…ƒç´ çš„ç±»å‹,ä¾‹å¦‚<code>Person</code></li><li><code>K</code>:ç”¨äºåˆ†ç»„çš„é”®çš„ç±»å‹</li><li><strong>å½¢å‚</strong>:<code>classifier</code>,å°†è¾“å…¥å…ƒç´ æ˜ å°„åˆ°é”®çš„åˆ†ç±»å™¨å‡½æ•°</li><li><strong>è¿”å›å€¼</strong>:å®ç°åˆ†ç»„æ“ä½œçš„æ”¶é›†å™¨,å°†<code>Stream&lt;T&gt;</code>æ”¶é›†æˆä¸€ä¸ª<code>Map&lt;K, List&lt;T&gt;&gt;</code>.<ul><li>key:ç”±classifierç”Ÿæˆ</li><li>value:åˆ†åˆ°è¯¥ç»„çš„<code>T</code>å…ƒç´ ç»„æˆçš„åˆ—è¡¨</li></ul></li></ul><p>ç¤ºä¾‹:æ ¹æ®å›½å®¶åˆ†ç»„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test6</span><span class="hljs-params">()</span> &#123;<br>    List&lt;Person&gt; people = List.of(<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Neo&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;USA&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Blu&quot;</span>, <span class="hljs-number">13</span>, <span class="hljs-string">&quot;China&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alex&quot;</span>, <span class="hljs-number">29</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">25</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-string">&quot;Japan&quot;</span>)<br>    );<br>    Map&lt;String, List&lt;Person&gt;&gt; collect = people.stream()<br>            .collect(Collectors.groupingBy(Person::getCountry));<br>    collect.forEach((k, v) -&gt; System.out.println(k + <span class="hljs-string">&quot; = &quot;</span> + v));<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><code>T</code>åœ¨è¿™é‡Œå³<code>Person</code></li><li>è¿™é‡Œçš„åˆ†ç±»å™¨æ˜¯<code>(Person::getCountry)</code>,æ‰€ä»¥é”®çš„ç±»å‹æ˜¯<code>String</code></li><li>æœ€ç»ˆå¾—åˆ°çš„Mapæ³›å‹ä¸º<code>Map&lt;String, List&lt;Person&gt;&gt;</code></li></ul><p>æ‰“å°ç»“æœ</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">USA = [Person&#123;name=&#x27;Neo&#x27;, age=1, country=&#x27;USA&#x27;&#125;]<br>Japan = [Person&#123;name=&#x27;Kurumi&#x27;, age=18, country=&#x27;Japan&#x27;&#125;]<br>China = [Person&#123;name=&#x27;Blu&#x27;, age=13, country=&#x27;China&#x27;&#125;]<br>Germany = [Person&#123;name=&#x27;Alex&#x27;, age=29, country=&#x27;Germany&#x27;&#125;, Person&#123;name=&#x27;Bob&#x27;, age=25, country=&#x27;Germany&#x27;&#125;]<br></code></pre></td></tr></table></figure><hr /><p><strong>åˆ†åŒº</strong>åŠŸèƒ½åŒç†,è°ƒç”¨<code>Collectors.partitioningBy</code>å³å¯,ä¸è¿‡è¿™æ—¶ä¼ å…¥çš„æ˜¯ä¸€ä¸ªæ¡ä»¶åˆ¤æ–­å¼, mapçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¹Ÿå˜æˆäº†booleanå˜é‡.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">Map&lt;Boolean, List&lt;Person&gt;&gt; agePartition = people.stream()<br>                .collect(Collectors.partitioningBy(person -&gt; person.getAge() &gt; <span class="hljs-number">18</span>));<br>        agePartition.forEach((k, v) -&gt; System.out.println(k + <span class="hljs-string">&quot; = &quot;</span> + v));<br></code></pre></td></tr></table></figure><hr /><p><code>Collectors</code>ä¹Ÿæä¾›äº†æ‹¼æ¥å­—ç¬¦ä¸²çš„æ–¹æ³•<code>joining</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">joinedName</span> <span class="hljs-operator">=</span> people.stream()<br>        .map(Person::getName)<br>        .collect(Collectors.joining(<span class="hljs-string">&quot;,&quot;</span>));<br>System.out.println(joinedName);<br></code></pre></td></tr></table></figure><p>æ‰“å°ç»“æœ</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">Neo,Blu,Alex,Bob,Kurumi<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç”¨<code>Collectors.joining</code>è¿æ¥å­—ç¬¦ä¸².</p><hr /><p>ä½¿ç”¨<code>Collectors.summarizingInt</code>å¯ä»¥<strong>æ±‡æ€»</strong>æŒ‡å®šçš„æ•°æ®,è¿”å›ç±»å‹ä¸º<code>IntSummaryStatistics</code>,ä½¿ç”¨<code>IntSummaryStatistics</code>çš„<code>get</code>æ–¹æ³•å¯ä»¥å¿«é€Ÿè·å–æœ€å¤§å€¼,æœ€å°å€¼, å¹³å‡å€¼ç­‰ç­‰.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test7</span><span class="hljs-params">()</span> &#123;<br>    List&lt;Person&gt; people = List.of(<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Neo&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;USA&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Blu&quot;</span>, <span class="hljs-number">13</span>, <span class="hljs-string">&quot;China&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alex&quot;</span>, <span class="hljs-number">29</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">25</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-string">&quot;Japan&quot;</span>)<br>    );<br>    <span class="hljs-type">String</span> <span class="hljs-variable">joinedName</span> <span class="hljs-operator">=</span> people.stream()<br>            .map(Person::getName)<br>            .collect(Collectors.joining(<span class="hljs-string">&quot;,&quot;</span>));<span class="hljs-comment">//è¾“å‡ºåˆå¹¶çš„å­—ç¬¦ä¸²</span><br>    System.out.println(joinedName);<br><br>    <span class="hljs-type">IntSummaryStatistics</span> <span class="hljs-variable">collect</span> <span class="hljs-operator">=</span> people.stream()<br>            .collect(Collectors.summarizingInt(Person::getAge));<br>    <span class="hljs-comment">//æ‰“å°collectçš„æ‰€æœ‰å±æ€§(æ•°é‡,å’Œ,æœ€å°å€¼,å¹³å‡å€¼,æœ€å¤§å€¼)</span><br>    System.out.println(collect);<br>    <span class="hljs-comment">//æŒ‡å®šè·å–æœ€å¤§å€¼</span><br>    System.out.println(collect.getMax());<br>    <span class="hljs-comment">//æŒ‡å®šè·å–æœ€å°å€¼</span><br>    System.out.println(collect.getMin());<br>&#125;<br></code></pre></td></tr></table></figure><hr /><p><strong>è‡ªå®šä¹‰æ”¶é›†å™¨</strong></p><p><code>Collector.of(...)</code>çš„äº”ä¸ªå‚æ•°ç»“æ„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java">Collector.of(<br>    Supplier&lt;R&gt; supplier,                         <span class="hljs-comment">// åˆ›å»ºä¸­é—´ç»“æœå®¹å™¨</span><br>    BiConsumer&lt;R, T&gt; accumulator,                <span class="hljs-comment">// å¦‚ä½•æ·»åŠ å…ƒç´ </span><br>    BinaryOperator&lt;R&gt; combiner,                  <span class="hljs-comment">// åˆå¹¶ä¸¤ä¸ªéƒ¨åˆ†ç»“æœ</span><br>    Function&lt;R, R&gt; finisher,                     <span class="hljs-comment">// æœ€ç»ˆå˜æ¢ç»“æœï¼ˆå¯é€‰ï¼‰</span><br>    Collector.Characteristics... characteristics <span class="hljs-comment">// ç‰¹å¾æ ‡è®°</span><br>)<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">customTest</span><span class="hljs-params">()</span> &#123;<br>    List&lt;Person&gt; people = List.of(<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Neo&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;USA&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Blu&quot;</span>, <span class="hljs-number">13</span>, <span class="hljs-string">&quot;China&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alex&quot;</span>, <span class="hljs-number">29</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">25</span>, <span class="hljs-string">&quot;Germany&quot;</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Kurumi&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-string">&quot;Japan&quot;</span>)<br>    );<br>    ArrayList&lt;Person&gt; collect = people.stream()<span class="hljs-comment">//.parallel()</span><br>            .collect(Collector.of(<br>                    () -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(), <span class="hljs-comment">//åˆ›å»ºç©ºå®¹å™¨</span><br>                    (list, person) -&gt; &#123;      <span class="hljs-comment">//ç´¯åŠ å™¨é€»è¾‘æŠŠä¸€ä¸ª person æ·»åŠ åˆ°å½“å‰çº¿ç¨‹ç»´æŠ¤çš„ list é‡Œ</span><br>                        System.out.println(<span class="hljs-string">&quot;Accumulator: &quot;</span> + person);<br>                        list.add(person);<br>                    &#125;,<br>                    (left, right) -&gt; &#123;       <span class="hljs-comment">//åˆå¹¶å¤šä¸ªçº¿ç¨‹çš„ä¸­é—´ç»“æœ,åªåœ¨å¹¶è¡Œæµèµ·ä½œç”¨</span><br>                        System.out.println(<span class="hljs-string">&quot;Combiner: &quot;</span> + left);<br>                        left.addAll(right);<br>                        <span class="hljs-keyword">return</span> left;<br>                    &#125;,<br>                    Collector.Characteristics.IDENTITY_FINISH<span class="hljs-comment">//è¡¨ç¤ºä¸éœ€è¦å˜æ¢,ä¸­é—´æ“ä½œçš„ç»“æœå°±æ˜¯æœ€ç»ˆç»“æœ</span><br>            ));<br>    System.out.println(collect);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ‰“å°ç»“æœ</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs text">Accumulator: Person&#123;name=&#x27;Neo&#x27;, age=1, country=&#x27;USA&#x27;&#125;<br>Accumulator: Person&#123;name=&#x27;Blu&#x27;, age=13, country=&#x27;China&#x27;&#125;<br>Accumulator: Person&#123;name=&#x27;Alex&#x27;, age=29, country=&#x27;Germany&#x27;&#125;<br>Accumulator: Person&#123;name=&#x27;Bob&#x27;, age=25, country=&#x27;Germany&#x27;&#125;<br>Accumulator: Person&#123;name=&#x27;Kurumi&#x27;, age=18, country=&#x27;Japan&#x27;&#125;<br>[Person&#123;name=&#x27;Neo&#x27;, age=1, country=&#x27;USA&#x27;&#125;, Person&#123;name=&#x27;Blu&#x27;, age=13, country=&#x27;China&#x27;&#125;, Person&#123;name=&#x27;Alex&#x27;, age=29, country=&#x27;Germany&#x27;&#125;, Person&#123;name=&#x27;Bob&#x27;, age=25, country=&#x27;Germany&#x27;&#125;, Person&#123;name=&#x27;Kurumi&#x27;, age=18, country=&#x27;Japan&#x27;&#125;]<br><br></code></pre></td></tr></table></figure><p>ï¼ˆè¿™ä¸€å—æ²¡çœ‹å¤ªæ‡‚ï¼Œå…ˆæ”¾åˆ°è¿™é‡Œä»¥åå†æ¥çœ‹ï¼‰</p><h1 id="å¹¶è¡Œæµ">å¹¶è¡Œæµ</h1><p>Parallel Streams</p><p>èƒ½å¤Ÿå€ŸåŠ©<strong>å¤šæ ¸å¤„ç†å™¨</strong>çš„<strong>å¹¶è¡Œè®¡ç®—èƒ½åŠ›</strong>åŠ é€Ÿæ•°æ®å¤„ç†,ç‰¹åˆ«é€‚åˆå¤§å‹æ•°æ®é›†æˆ–è®¡ç®—å¯†é›†å‹ä»»åŠ¡.</p><h2 id="å·¥ä½œåŸç†">å·¥ä½œåŸç†</h2><ul><li>å¹¶è¡Œæµåœ¨å¼€å§‹æ—¶, Spliteratoråˆ†å‰²è¿­ä»£å™¨å°†æ•°æ®åˆ†å‰²æˆå¤šä¸ªç‰‡æ®µ,åˆ†å‰²è¿‡ç¨‹é€šå¸¸é‡‡ç”¨é€’å½’çš„æ–¹å¼åŠ¨æ€è¿›è¡Œ, ä»¥æ­¤å¹³è¡¡å­ä»»åŠ¡çš„å·¥ä½œè´Ÿè½½,æé«˜èµ„æºåˆ©ç”¨ç‡.</li><li>ç„¶åFork/Joinæ¡†æ¶å°†è¿™äº›æ•°æ®ç‰‡æ®µåˆ†é…åˆ°å¤šä¸ªçº¿ç¨‹å’Œå¤„ç†å™¨æ ¸å¿ƒä¸Šè¿›è¡Œå¹¶è¡Œå¤„ç†.</li><li>å¤„ç†å®Œæˆå, ç»“æœå°†ä¼šè¢«æ±‡æ€»åˆå¹¶,å…¶æ ¸å¿ƒæ˜¯[ä»»åŠ¡çš„åˆ†è§£Fork]å’Œ[ç»“æœçš„åˆå¹¶Join]</li><li>æ— è®ºæ˜¯å¹¶è¡Œæµè¿˜æ˜¯é¡ºåºæµ.äºŒè€…éƒ½æä¾›ç›¸åŒçš„ä¸­é—´æ“ä½œå’Œç»ˆç«¯æ“ä½œ,ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥é‡‡ç”¨å‡ ä¹ç›¸åŒçš„æ–¹å¼è¿›è¡Œæ•°æ®å¤„ç†å’Œç»“æœæ”¶é›†</li></ul><figure><img src="https://i.imgur.com/MMyKgBt.png" alt="å¹¶è¡Œæµçš„å·¥ä½œåŸç†" /><figcaption aria-hidden="true">å¹¶è¡Œæµçš„å·¥ä½œåŸç†</figcaption></figure><h2 id="foreach-foreachordered">forEach &amp; forEachOrdered</h2><p>demo</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> &#123;<br>    List&lt;String&gt; Example = List.of(<span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;B&quot;</span>, <span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;D&quot;</span>, <span class="hljs-string">&quot;E&quot;</span>, <span class="hljs-string">&quot;F&quot;</span>, <span class="hljs-string">&quot;G&quot;</span>);<br>    Example.parallelStream()  <span class="hljs-comment">//å¹¶è¡Œæµ</span><br>            .map(String::toLowerCase)  <span class="hljs-comment">//è½¬æ¢ä¸ºå°å†™</span><br>            .forEach(System.out::println);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ‰“å°å‡ºçš„å­—æ¯æ˜¯ä¹±åºçš„, è€Œä¸”æ¯æ¬¡éƒ½ä¸ä¸€æ ·.</p><p>ä¸åƒé¡ºåºæµçš„æ‰§è¡Œæ˜¯å•çº¿ç¨‹çš„, å¹¶è¡Œæµé‡‡ç”¨å¤šçº¿ç¨‹å¹¶å‘å¤„ç†,ä¸ä¿è¯å…ƒç´ çš„å¤„ç†é¡ºåº.ç”¨<code>forEachOrdered</code>å¯ä»¥ä¿è¯å…ƒç´ çš„å‡ºç°é¡ºåº,è¿™å½’åŠŸäºSpliteratorå’ŒFork/Joinæ¡†æ¶çš„åä½œ:</p><ul><li><p>åœ¨å¤„ç†å¹¶è¡Œæµæ—¶, å¯¹äºæœ‰åºçš„æ•°æ®æº,Spliteratorä¼šå¯¹æ•°æ®æºè¿›è¡Œé€’å½’åˆ†å‰², é€šè¿‡åˆ’åˆ†æ•°æ®æºçš„ç´¢å¼•èŒƒå›´æ¥å®ç°.æ¯æ¬¡åˆ†å‰²éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„Spliteratorå®ä¾‹,å…¶å†…éƒ¨ç»´æŠ¤äº†æŒ‡å‘åŸæ•°æ®çš„ç´¢å¼•èŒƒå›´,è¿™ç§åˆ†å‰²æœºåˆ¶å¯ä»¥è®©æ•°æ®çš„å‡ºç°é¡ºåºå¾—ä»¥ä¿æŒ.</p></li><li><p>ç„¶å, Fork/Joinæ¡†æ¶æ¥æ‰‹, å°†åˆ†é…åçš„æ•°æ®å—åˆ†é…ç»™ä¸åŒçš„å­ä»»åŠ¡æ‰§è¡Œ.å¯¹äºforEachOrderedæ“ä½œ,æ¡†æ¶ä¾æ®Spliteratorç»´æŠ¤çš„é¡ºåºä¿¡æ¯æ¥è°ƒåº¦æ–¹æ³•çš„æ‰§è¡Œé¡ºåº. æ‰€ä»¥,å°±ç®—æŸä¸ªå­ä»»åŠ¡æå‰å®Œæˆäº†, å¦‚æœè·Ÿå®ƒå…³è”çš„é¡ºåºè¿˜æ²¡åˆ°æ¥, ç³»ç»Ÿå°†ç¼“å­˜è¯¥é¡ºåº,å¹¶æš‚åœæ‰§è¡Œè¯¥æ–¹æ³•, ç›´åˆ°æ‰€æœ‰å‰åºçš„ä»»åŠ¡éƒ½å·²ç»å®Œæˆ.</p></li><li><p>ä¸Šè¿°æœºåˆ¶ç¡®ä¿äº†å³ä½¿æ˜¯å¹¶è¡Œå¤„ç†ä¹Ÿèƒ½ä¿è¯åŸå§‹çš„å‡ºç°é¡ºåº,ä»£ä»·æ˜¯ç‰ºç‰²äº†ä¸€äº›å¹¶è¡Œæ‰§è¡Œçš„æ•ˆç‡.</p></li><li><p>å¯¹äº<code>forEach</code>,Fork/Joinä¼š<strong>å¿½ç•¥é¡ºåºçš„ä¿¡æ¯</strong>, èƒ½å¤Ÿæé«˜æ‰§è¡Œæ•ˆç‡.</p></li><li><p>forEachä¼šåœ¨ä¸åŒçš„çº¿ç¨‹ä¸Šç‹¬ç«‹è¿›è¡Œ, æ‰€ä»¥å¦‚æœæ“ä½œçš„æ˜¯å…±äº«èµ„æº,å¿…é¡»ç¡®ä¿è¿™äº›æ“ä½œæ˜¯<strong>çº¿ç¨‹å®‰å…¨</strong>çš„(åŒæ­¥).æ‰€ä»¥<code>forEach</code>æ›´é€‚åˆæ‰§è¡Œæ— çŠ¶æ€æ“ä½œæˆ–èµ„æºç‹¬ç«‹çš„åœºæ™¯.</p></li></ul><p>ä¸€ä¸ªå…³äºå¤šçº¿ç¨‹çš„æµ‹è¯•:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * å¹¶è¡Œæµçš„å¤šçº¿ç¨‹</span><br><span class="hljs-comment">  */</span><br> <span class="hljs-meta">@Test</span><br> <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span> &#123;<br>     List&lt;String&gt; Example = List.of(<span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;B&quot;</span>, <span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;D&quot;</span>, <span class="hljs-string">&quot;E&quot;</span>, <span class="hljs-string">&quot;F&quot;</span>, <span class="hljs-string">&quot;G&quot;</span>);<br>     Example.parallelStream().forEach(item -&gt; &#123;<br>         <span class="hljs-comment">//æ‰“å°æ­£åœ¨å¤„ç†çš„å…ƒç´ å’Œå¯¹åº”çš„çº¿ç¨‹</span><br>         System.out.println(<span class="hljs-string">&quot;Item: &quot;</span> + item + <span class="hljs-string">&quot;-&gt;&quot;</span> + <span class="hljs-string">&quot;Thread: &quot;</span> + Thread.currentThread().getName());<br>     &#125;);<br> &#125;<br></code></pre></td></tr></table></figure><p>æ‰“å°ç»“æœ</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs text">Item: E-&gt;Thread: main<br>Item: D-&gt;Thread: main<br>Item: G-&gt;Thread: main<br>Item: A-&gt;Thread: main<br>Item: F-&gt;Thread: ForkJoinPool.commonPool-worker-2<br>Item: B-&gt;Thread: ForkJoinPool.commonPool-worker-1<br>Item: C-&gt;Thread: ForkJoinPool.commonPool-worker-2<br></code></pre></td></tr></table></figure><ul><li><code>main</code>:ä¸»çº¿ç¨‹</li><li><code>ForkJoinPool.commonPool-worker-x</code>:åå°çº¿ç¨‹æ± ä¸­çš„å·¥ä½œçº¿ç¨‹</li></ul><h2 id="collectæ”¶é›†">collectæ”¶é›†</h2><p>Listä½¿ç”¨<code>collect</code><strong>æ”¶é›†</strong>è¾“å‡ºç»“æœ,æœ€ç»ˆåˆå¹¶å¾—åˆ°çš„åˆ—è¡¨ä»ä¸º<strong>æœ‰åº</strong>(ä¸ç¬¬ä¸€ä¸ªdemoä¸åŒ)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Listå¹¶è¡Œæµä¸ºæœ‰åº</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test3</span><span class="hljs-params">()</span> &#123;<br>    List&lt;String&gt; collect = List.of(<span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;B&quot;</span>, <span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;D&quot;</span>, <span class="hljs-string">&quot;E&quot;</span>, <span class="hljs-string">&quot;F&quot;</span>, <span class="hljs-string">&quot;G&quot;</span>).parallelStream()<br>            .map(String::toLowerCase)     <span class="hljs-comment">//è½¬æ¢ä¸ºå°å†™</span><br>            .collect(Collectors.toList());<span class="hljs-comment">//æ”¶é›†ä¸åŒçº¿ç¨‹çš„ç»“æœ,åˆå¹¶ä¸ºåˆ—è¡¨</span><br>    System.out.println();<br>    System.out.println(collect);<span class="hljs-comment">//è¾“å‡ºä¸º[a, b, c, d, e, f, g]</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨<strong>è‡ªå®šä¹‰æ”¶é›†å™¨</strong>æ¼”ç¤ºæœ‰åºåˆ—è¡¨<code>List</code>åœ¨å¹¶è¡Œæµçš„æƒ…å†µä¸‹åˆå¹¶åä»æœ‰åºè¾“å‡ºçš„è¿‡ç¨‹:</p><p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test4</span><span class="hljs-params">()</span> &#123;<br>    List&lt;String&gt; collect = List.of(<span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;B&quot;</span>, <span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;D&quot;</span>, <span class="hljs-string">&quot;E&quot;</span>).parallelStream()<br>            .map(String::toLowerCase)<br>            .collect(Collector.of(<br>                    () -&gt; &#123;<br>                        System.out.println(<span class="hljs-string">&quot;Supplier: new ArrayList&quot;</span> + <span class="hljs-string">&quot;Thread: &quot;</span> + Thread.currentThread().getName());<br>                        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>                    &#125;,<br>                    (list,item) -&gt; &#123;<br>                        System.out.println(<span class="hljs-string">&quot;Accumulator: &quot;</span> + item + <span class="hljs-string">&quot; Thread: &quot;</span> + Thread.currentThread().getName());<br>                        list.add(item);<br>                    &#125;,<br>                    (left, right) -&gt; &#123;<span class="hljs-comment">//å¹¶è¡Œæµéœ€è¦æœ‰æ•ˆåœ°åˆå¹¶ä¸åŒçº¿ç¨‹çš„å¤„ç†ç»“æœ</span><br>                        System.out.println(<span class="hljs-string">&quot;Combiner: &quot;</span> + left + <span class="hljs-string">&quot; &quot;</span> + right + <span class="hljs-string">&quot; Thread: &quot;</span> + Thread.currentThread().getName());<br>                        left.addAll(right);<br>                        <span class="hljs-keyword">return</span> left;<br>                    &#125;,<br>                    Collector.Characteristics.IDENTITY_FINISH<br>            ));<br>    System.out.println(collect);<br><br>&#125;<br></code></pre></td></tr></table></figure></p><p>æ‰“å°å†…å®¹:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs text">Supplier: new ArrayListThread: main<br>Accumulator: c Thread: main<br>Supplier: new ArrayListThread: ForkJoinPool.commonPool-worker-1<br>Accumulator: b Thread: ForkJoinPool.commonPool-worker-1<br>Supplier: new ArrayListThread: ForkJoinPool.commonPool-worker-2<br>Supplier: new ArrayListThread: ForkJoinPool.commonPool-worker-1<br>Accumulator: e Thread: ForkJoinPool.commonPool-worker-2<br>Accumulator: d Thread: ForkJoinPool.commonPool-worker-1<br>Supplier: new ArrayListThread: main<br>Accumulator: a Thread: main<br>Combiner: [d] [e] Thread: ForkJoinPool.commonPool-worker-1<br>Combiner: [a] [b] Thread: main<br>Combiner: [c] [d, e] Thread: ForkJoinPool.commonPool-worker-1<br>Combiner: [a, b] [c, d, e] Thread: ForkJoinPool.commonPool-worker-1<br>[a, b, c, d, e]<br></code></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨<code>Set</code>, åˆ™ç»“æœä»ç„¶æ˜¯æ— åºçš„,è¿™æ˜¯ç”±<strong>æ•°æ®ç»“æ„æœ¬èº«</strong>çš„ç‰¹ç‚¹å†³å®šçš„,Spliteratorå’ŒFork/Joinæ¡†æ¶çš„åˆ†å‰²åˆå¹¶ç­–ç•¥å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒ.</p><h2 id="unordered-concurrent">UNORDERED &amp; CONCURRENT</h2><p><strong>UNORDERED</strong></p><p>å³ä¾¿Colectorè¢«æ ‡è®°ä¸º<code>UNORDERED</code>,å¦‚æœæ•°æ®æºæˆ–æµæ“ä½œæœ¬èº«æ˜¯æœ‰åºçš„,ç³»ç»Ÿçš„æ‰§è¡Œç­–ç•¥é€šå¸¸ä»ä¼šä¿æŒè¿™äº›å…ƒç´ çš„å‡ºç°é¡ºåº.åªæœ‰åœ¨ç‰¹å®šåœºæ™¯ä¸‹ç³»ç»Ÿæ‰ä¼šé’ˆå¯¹é‚£äº›è¢«æ ‡è®°ä¸º<code>UNORDERED</code>çš„æµè¿›è¡Œä¼˜åŒ–ä»è€Œæ‰“ç ´é¡ºåºçš„çº¦æŸ.</p><p><strong>CONCURRENT</strong></p><ul><li>åœ¨æ ‡å‡†çš„å¹¶è¡Œæµå¤„ç†ä¸­, æ¯ä¸ªçº¿ç¨‹å¤„ç†æ•°æ®çš„ä¸€ä¸ªå­é›†,ç»´æŠ¤è‡ªå·±çš„å±€éƒ¨ç»“æœå®¹å™¨. åœ¨æ‰€æœ‰çš„æ•°æ®å¤„ç†å®Œæˆå,è¿™äº›å±€éƒ¨ç»“æœä¼šé€šè¿‡Combinerå‡½æ•°åˆå¹¶æˆä¸€ä¸ªæœ€ç»ˆçš„ç»“æœ.</li><li>ä½¿ç”¨CONCURRENTç‰¹æ€§å, æ‰€æœ‰çº¿ç¨‹å°†<strong>å…±äº«åŒä¸€ä¸ªç»“æœå®¹å™¨</strong>,è€Œä¸æ˜¯ç»´æŠ¤ç‹¬ç«‹çš„å±€éƒ¨ç»“æœ, ä»è€Œå‡å°‘äº†åˆå¹¶çš„éœ€è¦.è¿™é€šå¸¸ä¼šå¸¦æ¥æ€§èƒ½ä¸Šçš„æå‡, ç‰¹åˆ«æ˜¯åˆå¹¶æ“ä½œè¾ƒä¸ºå¤æ‚æ—¶.è¿™æ—¶åªæœ‰ä¸€ä¸ªç»“æœå®¹å™¨,è¿™ä¸ªå®¹å™¨å¿…é¡»æ˜¯çº¿ç¨‹å®‰å…¨çš„(ä¾‹å¦‚ConcurrentHashMap).</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java SE</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Java SE-FILEç±»ä¸IOæµ</title>
    <link href="/2025/04/13/java10/"/>
    <url>/2025/04/13/java10/</url>
    
    <content type="html"><![CDATA[<h1 id="fileç±»çš„ä½¿ç”¨">Fileç±»çš„ä½¿ç”¨</h1><p><strong>ä½ç½®</strong>ï¼š<code>package java.io</code></p><p><strong>æ„é€ å™¨</strong>ï¼š</p><ul><li><code>public File(String pathname)</code><ul><li><code>pathname</code>å¯ä»¥ç”¨ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹è·¯å¾„</li></ul></li><li><code>public File(String parent, String child)</code><ul><li><code>parent</code>:çˆ¶è·¯å¾„åå­—ç¬¦ä¸²ï¼Œå¦‚æœä¸ºnullåˆ™ç­‰æ•ˆäºä¸Šä¸€ç§æ„é€ å™¨</li><li><code>child</code>:å­è·¯å¾„åå­—ç¬¦ä¸²ï¼Œå¦‚æœå®ƒæ˜¯ç»å¯¹è·¯å¾„åˆ™ç›´æ¥å¿½ç•¥çˆ¶è·¯å¾„å</li><li>å¦‚æœäºŒè€…éƒ½æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œåˆ™æŠŠ<code>child</code>æ·»åŠ åœ¨<code>parent</code>çš„åé¢</li></ul></li><li><code>public File(File parent, String child)</code></li></ul><h2 id="æ–¹æ³•">æ–¹æ³•</h2><p>è§<code>File.java</code>ï¼ˆå¿«æ·é”®ï¼š<code>Ctrl + N</code>æŸ¥æ‰¾ç±»ï¼Œ<code>Ctrl + F12</code>æŸ¥æ‰¾å½“å‰æ–‡ä»¶ä¸­çš„æ–¹æ³•ï¼‰ã€‚</p><p>ä¾‹ï¼šè¾“å‡ºä¸€ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åï¼ˆé€’å½’ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printFileName</span><span class="hljs-params">(File file)</span> &#123;<br>    <span class="hljs-keyword">if</span>(file.isFile()) &#123;<br>        System.out.println(file.getName());<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (file.isDirectory()) &#123;<br>        File[] files = file.listFiles();<span class="hljs-comment">//listFiles()è¿”å›å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶+æ–‡ä»¶å¤¹</span><br>        <span class="hljs-keyword">for</span> (File f : files) &#123;<br>            printFileName(f);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ioæµ">IOæµ</h1><p>IOæµå°±æ˜¯Javaä¸­ç”¨æ¥â€œ<strong>è¯»</strong>â€å’Œâ€œ<strong>å†™</strong>â€æ•°æ®çš„é€šé“ã€‚</p><ul><li>æŒ‰æ•°æ®æ–¹å‘åˆ†<ul><li>è¾“å…¥æµï¼šè¯»å–æ•°æ®åˆ°ç¨‹åºä¸­</li><li>è¾“å‡ºæµï¼šå†™æ•°æ®åˆ°å¤–éƒ¨è®¾å¤‡</li></ul></li><li>æŒ‰æ•°æ®ç±»å‹åˆ†ï¼š<ul><li>å­—èŠ‚æµï¼šä»¥å­—èŠ‚ï¼ˆ8bitï¼‰ä¸ºå•ä½ï¼Œå¦‚<code>InputStream</code>ï¼Œ<code>OutputStream</code></li><li>å­—ç¬¦æµï¼šä»¥å­—ç¬¦ï¼ˆé•¿åº¦ä¸å®šï¼‰ä¸ºå•ä½ï¼Œå¦‚<code>Reader</code>ï¼Œ<code>Writer</code></li></ul></li></ul><p><strong>èŠ‚ç‚¹æµ</strong>æ˜¯ç›´æ¥ä¸ <strong>æ•°æ®æº</strong> æˆ–<strong>æ•°æ®ç›®çš„åœ°</strong> æ‰“äº¤é“çš„æµï¼Œå¸¸ç”¨äºæœ€åº•å±‚çš„ I/O æ“ä½œã€‚</p><p><strong>å¤„ç†æµ</strong>æ˜¯â€œå¥—æ¥â€åœ¨å·²æœ‰çš„æµï¼ˆé€šå¸¸æ˜¯èŠ‚ç‚¹æµï¼‰ä¸Šï¼Œå¯¹æ•°æ®è¿›è¡Œ<strong>åŠ å·¥å¤„ç†</strong> çš„æµã€‚</p><p><strong>æ³¨æ„</strong>ï¼šå­—ç¬¦æµä¸“é—¨ç”¨äº<strong>å¤„ç†æ–‡æœ¬å†…å®¹</strong>ï¼Œå­—èŠ‚æµç”¨äºå¤„ç†<strong>æ‰€æœ‰ç±»å‹çš„æ•°æ®</strong>ï¼ˆåŒ…æ‹¬æ–‡æœ¬ã€å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ç­‰ï¼‰ã€‚</p><p>æ ¸å¿ƒç±»ç»“æ„å›¾ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs CSS">  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>  â”‚ InputStreamâ”‚ &lt;-------- â”‚ FileInputStream â”‚<br>  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>        â–²<br>        â”‚<br><span class="hljs-selector-attr">[å¤„ç†å­—èŠ‚è¾“å…¥]</span><br><br>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>  â”‚ OutputStreamâ”‚ &lt;--------â”‚ FileOutputStreamâ”‚<br>  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>        â–²<br>        â”‚<br><span class="hljs-selector-attr">[å¤„ç†å­—èŠ‚è¾“å‡º]</span><br><br>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>  â”‚ Reader â”‚ &lt;--------- â”‚ FileReader â”‚<br>  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>        â–²<br><span class="hljs-selector-attr">[å¤„ç†å­—ç¬¦è¾“å…¥]</span><br><br>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>  â”‚ Writer â”‚ &lt;--------- â”‚ FileWriter â”‚<br>  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>        â–²<br><span class="hljs-selector-attr">[å¤„ç†å­—ç¬¦è¾“å‡º]</span><br><br></code></pre></td></tr></table></figure><p>å·¦åˆ—ï¼šæŠ½è±¡åŸºç±»<br />å³åˆ—ï¼šèŠ‚ç‚¹æµï¼ˆæ–‡ä»¶æµï¼‰ï¼Œç›´æ¥è¿æ¥æ•°æ®æºå’Œæ•°æ®ç›®çš„åœ°ã€‚</p><h2 id="filereaderfilewriter">FileReaderã€FileWriter</h2><p>ä¸€èˆ¬æ­¥éª¤ï¼š</p><ol type="1"><li>åˆ›å»ºè¯»å–æˆ–å†™å‡ºçš„Fileç±»å®ä¾‹</li><li>åˆ›å»ºè¾“å…¥æµæˆ–è¾“å‡ºæµ</li><li>å…·ä½“çš„è¯»æˆ–å†™çš„è¿‡ç¨‹<ol type="1"><li>read(char[] cbuffer):int</li><li>write(char[] cbuffer, 0, len):void</li></ol></li><li>å…³é—­æµèµ„æº</li></ol><p>æ³¨æ„ï¼š 1. å¤„ç†å¼‚å¸¸ 2. å¯¹äºè¾“å…¥æµï¼ŒFileç±»çš„å®ä¾‹å¯¹åº”çš„æ–‡ä»¶å¿…é¡»å·²ç»å­˜åœ¨3.å¯¹äºè¾“å‡ºæµï¼Œå¯ä»¥ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºå¹¶å†™å…¥æ•°æ®åˆ°æ­¤æ–‡ä»¶ä¸­ï¼›å¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œåˆ™<code>FileWriter(File file, true/false)</code></p><h2id="fileinputstreamfileoutputstream">FileInputStreamã€FileOutputStream</h2><ol type="1"><li>åˆ›å»ºè¯»å–æˆ–å†™å‡ºçš„Fileç±»å¯¹è±¡</li><li>åˆ›å»ºè¾“å…¥æµæˆ–è¾“å‡ºæµ</li><li>å…·ä½“çš„è¯»å…¥æˆ–å†™å‡ºè¿‡ç¨‹ï¼Œä»ç„¶æ˜¯readå’Œwrite</li><li>å…³é—­æµèµ„æº</li></ol><h2 id="ç¼“å†²æµ">ç¼“å†²æµ</h2><p>4ä¸ªå¤„ç†æµï¼š</p><ul><li>BufferedInputStream</li><li>BufferedOutputStream</li><li>BufferedReader</li><li>BufferedWriter</li></ul><p>ç¼“å†²æµçš„ä½œç”¨ï¼š<strong>æå‡æ–‡ä»¶è¯»å†™çš„æ•ˆç‡</strong>ã€‚</p><p>ç›´æ¥ä½¿ç”¨<code>FileInputStream</code>è¯»å–æ–‡ä»¶æ—¶ï¼Œæ¯æ¬¡ .read()éƒ½ä¼šå’Œç£ç›˜æ‰“äº¤é“ï¼Œè¿™æ ·æ•ˆç‡ä¼šéå¸¸ä½ã€‚è€Œ<strong>ç¼“å†²æµä¼šä¸€æ¬¡æ€§ä»åº•å±‚æµä¸­è¯»å–å¤§é‡æ•°æ®å­˜å…¥å†…å­˜ç¼“å†²åŒºï¼Œä¹‹åå°±ä»å†…å­˜ä¸­è¯»å–ï¼Œæé«˜äº†æ•ˆç‡</strong>ã€‚</p><blockquote><p>ç£ç›˜ I/O æ˜¯éå¸¸æ…¢çš„ï¼Œå¦‚æœä½ æ¯æ¬¡éƒ½å»ç£ç›˜è¯» 1 å­—èŠ‚ï¼ŒCPUä¼šä¸€ç›´ç­‰ï¼Œæ•ˆç‡å¾ˆä½ã€‚è€Œä¸€æ¬¡æ€§è¯»å–ä¸€ä¸ª 8KBç¼“å†²åŒºï¼Œå¯ä»¥æå¤§å‡å°‘ç£ç›˜è¯»å–æ¬¡æ•°ï¼Œæé«˜ç¨‹åºè¿è¡Œæ•ˆç‡ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å°†ä¸€ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°å¦ä¸€ä¸ªåœ°æ–¹</span><br><span class="hljs-comment">//å®é™…å†™çš„æ—¶å€™è®°å¾—ç”¨try-catch</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">File</span> <span class="hljs-variable">src</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;Neuro.png&quot;</span>);<br>        <span class="hljs-type">File</span> <span class="hljs-variable">dest</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;E:\\edge_download\\Neuro.png&quot;</span>);<br><br>        <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(src);<br>        <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(dest);<br><br>        <span class="hljs-type">BufferedInputStream</span> <span class="hljs-variable">bis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedInputStream</span>(fis);<br>        <span class="hljs-type">BufferedOutputStream</span> <span class="hljs-variable">bos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedOutputStream</span>(fos);<br><br>        <span class="hljs-type">int</span> len;<br>        <span class="hljs-comment">//bis.read():</span><br>        <span class="hljs-comment">//å¦‚æœ8KBçš„ç¼“å†²åŒºçš„æ•°æ®è¿˜æ²¡è¯»å®Œï¼šä»ç¼“å†²åŒºä¸­è¯»ä¸€ä¸ªå­—èŠ‚è¿”å›ã€‚</span><br>        <span class="hljs-comment">//å¦‚æœå·²ç»è¯»å®Œäº†ï¼šå°±ä¼šè°ƒç”¨åº•å±‚çš„è¾“å…¥æµï¼ˆä¾‹å¦‚ FileInputStreamï¼‰çš„ read(byte[] buffer) æ–¹æ³•ï¼›</span><br>        <span class="hljs-comment">// ä¸€æ¬¡æ€§ä»ç£ç›˜ä¸­è¯»å¾ˆå¤šå­—èŠ‚ï¼ˆæœ€å¤š8KBï¼‰ï¼Œå­˜å…¥ç¼“å†²åŒºï¼›ç„¶åå†ä»è¿™ä¸ªç¼“å†²åŒºä¸­è¯»ä¸€ä¸ªå­—èŠ‚è¿”å›è¿‡æ¥ã€‚</span><br>        <span class="hljs-comment">//å¦‚æœåº•å±‚è¾“å…¥æµè¿”å› -1ï¼ˆå³æ–‡ä»¶å·²ç»è¯»å®Œäº†ï¼‰ï¼Œåˆ™ bis.read() ä¹Ÿè¿”å› -1 è¡¨ç¤º EOFã€‚</span><br>        <span class="hljs-keyword">while</span>((len = bis.read()) != -<span class="hljs-number">1</span>) &#123;<br>            bos.write(len);<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;Done&quot;</span>);<br><br>        <span class="hljs-comment">//å¤–å±‚çš„æµçš„å…³é—­å¯ä»¥è‡ªåŠ¨å…³é—­å†…å±‚çš„æµ</span><br>        bos.close();<br>        bis.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>BufferedInputStream</code><strong>åŸç†</strong>ï¼š</p><ul><li>ä»–æœ‰ä¸€ä¸ªå†…éƒ¨çš„<code>byte[]</code>ç¼“å†²åŒºï¼Œé»˜è®¤å¤§å°8192å­—èŠ‚</li><li>å½“è°ƒç”¨<code>.read()</code>æ—¶ï¼Œ<strong>å¦‚æœç¼“å†²åŒºæœ‰æ•°æ®</strong>ï¼Œå°±ç›´æ¥ä»ç¼“å†²åŒºè¯»ï¼›<strong>å¦‚æœç¼“å†²åŒºç©ºäº†</strong>ï¼Œå°±ä»åº•å±‚æµä¸­<strong>è¯»å–ä¸€å¤§å—</strong>ï¼ˆæ¯”å¦‚8192å­—èŠ‚ï¼‰æ”¾å…¥ç¼“å†²åŒº</li><li>ç±»ä¼¼åœ°ï¼Œ<code>BufferedOutputStream</code>ä¹Ÿæ˜¯æŠŠæ•°æ®å…ˆå†™å…¥ç¼“å†²åŒºï¼Œç­‰ç¼“å†²åŒºæ»¡äº†æˆ–è°ƒç”¨<code>.flush()</code>æ—¶æ‰çœŸæ­£å†™åˆ°æ–‡ä»¶ã€‚</li></ul><hr /><p>ä»æ–‡æœ¬æ–‡ä»¶è¯»å–æ–‡æœ¬åˆ°æ§åˆ¶å°ï¼ˆä¸€æ¬¡è¯»ä¸€è¡Œï¼‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">File</span> <span class="hljs-variable">file</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;hello.txt&quot;</span>);<br>    <span class="hljs-type">BufferedReader</span> <span class="hljs-variable">br</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-comment">//ä¸€æ¬¡æ€§åˆ›å»ºæµ+ç¼“å†²æµ</span><br>        br = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(file));<br>        String Line;<span class="hljs-comment">//ä¸€æ¬¡è¯»å–ä¸€è¡Œï¼Œç›´åˆ°æ–‡ä»¶ç»“æŸ</span><br>        <span class="hljs-keyword">while</span>( (Line = br.readLine()) != <span class="hljs-literal">null</span>) &#123;<br>            System.out.println(Line);<br>        &#125;<br>    &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>        e.printStackTrace();<br>    &#125; <span class="hljs-keyword">finally</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">if</span>(br != <span class="hljs-literal">null</span>) br.close();<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="è½¬æ¢æµ">è½¬æ¢æµ</h2><p>è½¬æ¢æµï¼ˆConversionStreamsï¼‰æ˜¯è¿æ¥<strong>å­—èŠ‚æµ</strong>å’Œ<strong>å­—ç¬¦æµ</strong>ä¹‹é—´çš„æ¡¥æ¢ï¼Œå®ƒä»¬çš„ä½œç”¨æ˜¯ï¼š</p><blockquote><p>å°†â€œå­—èŠ‚â€è½¬æ¢æˆâ€œå­—ç¬¦â€ï¼Œæˆ–ç›¸ååœ°å°†â€œå­—ç¬¦â€è½¬æ¢æˆâ€œå­—èŠ‚â€ã€‚</p></blockquote><p>å¦‚æœèƒ½å¤Ÿç¡®è®¤æ–‡ä»¶çš„ç¼–ç æ ¼å¼ä¸ä½ çš„ç¨‹åºä½¿ç”¨çš„ç¼–ç ä¸€è‡´ï¼Œé‚£ç¡®å®å¯ä»¥ä¸æ˜¾å¼ä½¿ç”¨è½¬æ¢æµï¼ˆInputStreamReader/ OutputStreamWriterï¼‰ï¼Œç›´æ¥ç”¨å­—ç¬¦æµ FileReader /FileWriterä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ã€‚</p><table><thead><tr><th>ç±»å</th><th>æ–¹å‘</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>InputStreamReader</td><td>å­—èŠ‚ â†’ å­—ç¬¦</td><td>æŠŠå­—èŠ‚è¾“å…¥æµè½¬æ¢æˆå­—ç¬¦è¾“å…¥æµï¼ˆè¯»æ–‡ä»¶ï¼‰</td></tr><tr><td>OutputStreamWriter</td><td>å­—ç¬¦ â†’ å­—èŠ‚</td><td>æŠŠå­—ç¬¦è¾“å‡ºæµè½¬æ¢æˆå­—èŠ‚è¾“å‡ºæµï¼ˆå†™æ–‡ä»¶ï¼‰</td></tr></tbody></table><p>ä¸¾ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * å°†gbkæ ¼å¼çš„æ–‡ä»¶è½¬æ¢ä¸ºutf-8æ ¼å¼çš„æ–‡ä»¶</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-type">File</span> <span class="hljs-variable">file1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;GB18030.txt&quot;</span>);<br>    <span class="hljs-type">File</span> <span class="hljs-variable">file2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;GB18030_to_utf8.txt&quot;</span>);<br><br>    <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(file1);<br>    <span class="hljs-type">InputStreamReader</span> <span class="hljs-variable">isr</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(fis,<span class="hljs-string">&quot;GB18030&quot;</span>);<span class="hljs-comment">//ä½¿ç”¨gbkæ ¼å¼è§£ç </span><br><br>    <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(file2);<br>    <span class="hljs-type">OutputStreamWriter</span> <span class="hljs-variable">osw</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OutputStreamWriter</span>(fos,<span class="hljs-string">&quot;utf-8&quot;</span>);<span class="hljs-comment">//æŠŠè§£ç å¾—åˆ°çš„å­—ç¬¦ä»¥utf8è¾“å‡ºä¸ºå­—èŠ‚</span><br><br>    <span class="hljs-comment">//è¯»å†™è¿‡ç¨‹</span><br>    <span class="hljs-type">char</span>[] cBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">char</span>[<span class="hljs-number">1024</span>];<br>    <span class="hljs-type">int</span> len;<br>    <span class="hljs-keyword">while</span>((len = isr.read(cBuffer)) != -<span class="hljs-number">1</span>)&#123;<br>        osw.write(cBuffer,<span class="hljs-number">0</span>,len);<br>    &#125;<br>    System.out.println(<span class="hljs-string">&quot;OVER&quot;</span>);<br><br>    isr.close();<br>    osw.close();<span class="hljs-comment">//å…³é—­ç¼“å†²æµåï¼Œç¼“å†²çš„æ•°æ®æ‰ä¼šè¢«çœŸæ­£å†™å…¥</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œ<code>OutputStreamWriter</code><strong>ä¹Ÿæ˜¯å¸¦ç¼“å†²çš„æµ</strong>ï¼Œåªæœ‰å½“ç¼“å†²åŒºæ»¡äº†æˆ–è€…è°ƒç”¨<code>flush()</code>æˆ–è€…å…³é—­æµæ—¶ï¼Œæ‰ä¼šå‘ç¡¬ç›˜ä¸­å†™å…¥æ•°æ®ã€‚<code>.write()</code>æ–¹æ³•åªæ˜¯å†™åˆ°äº†å®ƒçš„ç¼“å†²åŒºä¸­ï¼Œå¹¶ä¸ä¸€å®šå†™åˆ°äº†ç£ç›˜ä¸­ã€‚<code>OutputStreamWriter.close()</code>æ–¹æ³•ä¼šè‡ªåŠ¨è°ƒç”¨<code>flush()</code>æ–¹æ³•ï¼Œå¹¶ä¸”å…³é—­åº•å±‚çš„<code>FileOutputStream</code>ã€‚</p><p>ä½†æ˜¯<code>InputStreamReader</code><strong>æœ¬èº«ä¸å¸¦ç¼“å†²åŒº</strong>ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªâ€œç¼–ç è§£ç å™¨â€ï¼Œç”¨æ¥æŠŠå­—èŠ‚æµè½¬æ¢ä¸ºå­—ç¬¦æµã€‚<code>BufferedReader</code>æ‰å¸¦æœ‰ç¼“å†²è¯»å–åŠŸèƒ½ã€‚å¦‚æœè¦æé«˜è¯»å–çš„æ•ˆç‡ï¼Œåº”è¯¥ç»™è½¬æ¢æµå¤–é¢å¥—ä¸Šä¸€å±‚ç¼“å†²æµï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">BufferedReader</span> <span class="hljs-variable">br</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">&quot;xxx.txt&quot;</span>), <span class="hljs-string">&quot;UTF-8&quot;</span>)<br>);<br></code></pre></td></tr></table></figure><p>è‹±æ–‡å­—ç¬¦ä¸ä¼šå‡ºç°ä¹±ç é—®é¢˜ã€‚</p><hr /><p><strong>åœ¨å†…å­˜ä¸­çš„å­—ç¬¦é—®é¢˜</strong>ï¼šå†…å­˜ä¸­çš„é•¿åº¦ä¸ç¼–ç¨‹è¯­è¨€æœ‰å…³ï¼ŒJavaçš„ä¸€ä¸ª<code>char</code><strong>åœ¨å†…å­˜ä¸­</strong>å ç”¨ä¸¤ä¸ªå­—èŠ‚ã€‚åœ¨ç¡¬ç›˜ä¸­å ç”¨å¤šå°‘å­—èŠ‚å–å†³äºç¼–ç æ–¹å¼ã€‚</p><h2 id="å¯¹è±¡æµ">å¯¹è±¡æµ</h2><p>å°†å†…å­˜ä¸­å®šä¹‰çš„å˜é‡ä¿å­˜åœ¨æ–‡ä»¶ä¸­ã€‚</p><p><code>ObjectInputStream</code>ä»å­—èŠ‚æµä¸­ä¸­è¿˜åŸå‡ºå¯¹è±¡</p><p><code>ObjectOutputStream</code>å°†å¯¹è±¡è½¬æ¢æˆå­—èŠ‚æµ</p><ul><li>ObjectOutputStreamå†™å…¥çš„å†…å®¹<strong>ä¸æ˜¯çº¯æ–‡æœ¬æ ¼å¼</strong>ï¼Œè€Œæ˜¯åŒ…å«äº†<strong>Javaåºåˆ—åŒ–å¤´ä¿¡æ¯ + å­—ç¬¦ä¸²å†…å®¹</strong>çš„<strong>äºŒè¿›åˆ¶æ•°æ®</strong>ã€‚</li></ul><h3 id="å¯¹è±¡çš„åºåˆ—åŒ–è¿‡ç¨‹">å¯¹è±¡çš„åºåˆ—åŒ–è¿‡ç¨‹</h3><p>å¯¹è±¡çš„<strong>åºåˆ—åŒ–</strong>æœºåˆ¶ï¼ˆObjectSerializationï¼‰æ˜¯æŒ‡å°†å¯¹è±¡è½¬æ¢æˆä¸€è¿ä¸²å­—èŠ‚çš„è¿‡ç¨‹ï¼Œä»¥ä¾¿ï¼š</p><ol type="1"><li>ä¿å­˜åˆ°ç£ç›˜ï¼ˆä¾‹å¦‚å†™å…¥æ–‡ä»¶ï¼‰ï¼›</li><li>é€šè¿‡ç½‘ç»œä¼ è¾“ï¼›</li><li>ç¼“å­˜ï¼›</li><li>åç»­è¿˜åŸï¼ˆååºåˆ—åŒ–ï¼‰ä¸ºåŸå§‹å¯¹è±¡ã€‚</li></ol><p>åœ¨å†…å­˜ä¸­çš„å¯¹è±¡ä¸èƒ½ç›´æ¥å†™åˆ°ç¡¬ç›˜æˆ–é€šè¿‡ç½‘ç»œå‘é€ï¼Œå¿…é¡»å…ˆè½¬æˆå¯ä¼ è¾“çš„æ ¼å¼ï¼ˆå­—èŠ‚æµï¼‰ï¼Œè¿™å°±æ˜¯åºåˆ—åŒ–çš„ç›®çš„ã€‚</p><p><strong>ååºåˆ—åŒ–</strong>ï¼šå°†å­—èŠ‚æµè¿˜åŸä¸ºå¯¹è±¡</p><hr /><ul><li>åºåˆ—åŒ–çš„å¯¹è±¡çš„ç±»å¿…é¡»å®ç°æ¥å£ã€‚</li><li>è¦æ±‚è‡ªå®šä¹‰ç±»å£°æ˜ä¸€ä¸ªå…¨å±€å¸¸é‡<code>static final long serialVersionUID = xxxxxxL</code>ç”¨æ¥å”¯ä¸€åœ°æ ‡è¯†å½“å‰çš„ç±»;è™½ç„¶ç³»ç»Ÿä¼šè‡ªåŠ¨ç”ŸæˆUIDï¼Œä½†æ˜¯å› ä¸ºå®¹æ˜“å˜åŒ–æ‰€ä»¥ä¸æ¨èã€‚</li><li>è¦æ±‚è‡ªå®šä¹‰ç±»çš„å„ä¸ªå±æ€§ä¹Ÿæ˜¯å¯ä»¥åºåˆ—åŒ–çš„<ul><li>åŸºæœ¬æ•°æ®ç±»å‹é»˜è®¤å¯åºåˆ—åŒ–</li><li>å¼•ç”¨æ•°æ®ç±»å‹ä¹Ÿå®ç°äº†æ¥å£Serializable</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.Serializable;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> &#123;<br>    String name;<br>    <span class="hljs-type">int</span> age;<br>&#125;<br></code></pre></td></tr></table></figure><table><thead><tr><th>é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>transient</code>å…³é”®å­—</td><td>ä¿®é¥°çš„å­—æ®µä¸ä¼šè¢«åºåˆ—åŒ–</td></tr><tr><td>é™æ€å­—æ®µ</td><td><code>static</code>ä¿®é¥°çš„å˜é‡ä¸ä¼šè¢«åºåˆ—åŒ–ï¼ˆå®ƒå±äºç±»ï¼Œä¸å±äºå®ä¾‹ï¼‰</td></tr><tr><td>çˆ¶ç±»æœªå®ç°<code>Serializable</code></td><td>åˆ™çˆ¶ç±»çš„å­—æ®µä¸ä¼šè¢«åºåˆ—åŒ–</td></tr><tr><td><code>serialVersionUID</code></td><td>å»ºè®®æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬å·ï¼Œé˜²æ­¢ç±»ç»“æ„å˜åŒ–å¯¼è‡´ååºåˆ—åŒ–å¤±è´¥</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>Java SE</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Javaé›†åˆåº•å±‚æºç </title>
    <link href="/2025/04/12/java9/"/>
    <url>/2025/04/12/java9/</url>
    
    <content type="html"><![CDATA[<h1 id="arraylist">ArrayList</h1><p><code>ArrayList</code>æ˜¯ Javaä¸­åŸºäºæ•°ç»„å®ç°çš„ä¸€ä¸ªå¯å˜é•¿åº¦çš„åŠ¨æ€æ•°ç»„ï¼Œå®ƒå®ç°äº†<code>List</code>æ¥å£ã€‚ä½ç½®ï¼š<code>java.util.ArrayList</code></p><p>Java 8åŠä¹‹åçš„ç‰ˆæœ¬ï¼š</p><p><strong>åº•å±‚æ•°æ®ç»“æ„</strong>ï¼š</p><p>åˆ›å»ºä¸€ä¸ªObjectæ•°ç»„ï¼Œé»˜è®¤ä¸ºç©ºæ•°ç»„ï¼ˆæ‡’æ±‰å¼ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">transient</span> Object[] elementData; <span class="hljs-comment">// å®é™…å­˜å‚¨å…ƒç´ çš„æ•°ç»„</span><br><span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size;               <span class="hljs-comment">// å½“å‰å…ƒç´ ä¸ªæ•°ï¼ˆä¸æ˜¯æ•°ç»„é•¿åº¦ï¼‰</span><br></code></pre></td></tr></table></figure><p><strong>æ„é€ æ–¹æ³•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// é»˜è®¤æ„é€ å‡½æ•°</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">ArrayList</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-built_in">this</span>.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;<br>&#125;<br><br><span class="hljs-comment">// æŒ‡å®šåˆå§‹å®¹é‡</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">ArrayList</span><span class="hljs-params">(<span class="hljs-type">int</span> initialCapacity)</span> &#123;<br>    <span class="hljs-keyword">if</span> (initialCapacity &gt; <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">this</span>.elementData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[initialCapacity];<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (initialCapacity == <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">this</span>.elementData = EMPTY_ELEMENTDATA;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">&quot;Illegal Capacity: &quot;</span>+<br>                                           initialCapacity);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>é»˜è®¤æ„é€ å‡½æ•°ç”¨äºæ‰©å®¹ä¸ºé»˜è®¤å¤§å°10ï¼Œ<strong>åªæœ‰ç¬¬ä¸€æ¬¡æ·»åŠ å…ƒç´ æ—¶æ‰æ‰©å®¹</strong>ã€‚</li><li>å¸¦å‚çš„æ„é€ å‡½æ•°ç”¨äºè‡ªå·±æŒ‡å®šåˆå§‹å¤§å°ã€‚</li></ul><p><strong>æ·»åŠ å…ƒç´ </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">add</span><span class="hljs-params">(E e)</span> &#123;<br>    ensureCapacityInternal(size + <span class="hljs-number">1</span>); <span class="hljs-comment">// ç¡®ä¿å®¹é‡è¶³å¤Ÿ</span><br>    elementData[size++] = e;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><code>size</code>è¡¨ç¤ºæ·»åŠ å…ƒç´ ä¹‹å‰å·²æœ‰çš„å…ƒç´ æ•°é‡ï¼Œ<code>size+1</code>å³æ·»åŠ ä¹‹åæ‰€éœ€è¦çš„æœ€å°å®¹é‡</li><li><code>ensureCapacityInternal</code>ç”¨äºåˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹ï¼Œå¦‚æœéœ€è¦æ‰©å®¹ï¼Œé‚£ä¹ˆ<code>elementData</code>æ‰©å®¹ä¸º<code>elementData = Arrays.copyOf(elementData, newCapacity);</code>ï¼Œæ˜¯åŸæ¥çš„1.5å€ï¼Œæ—§æ•°ç»„æ‹·è´åˆ°æ–°æ•°ç»„ã€‚</li></ul><p>æ‰©å®¹æ“ä½œçš„æºç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ensureCapacityInternal</span><span class="hljs-params">(<span class="hljs-type">int</span> minCapacity)</span> &#123;<br>    <span class="hljs-comment">//å¦‚æœç¬¬ä¸€æ¬¡æ·»åŠ çš„å…ƒç´ æ•°é‡å’Œé»˜è®¤é•¿åº¦10åšå¯¹æ¯”ï¼Œå–è¾ƒå¤§çš„æ•°</span><br>    <span class="hljs-keyword">if</span> (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;<br>        minCapacity = Math.max(DEFAULT_CAPACITY, minCapacity);<br>    &#125;<br>    <span class="hljs-comment">//åç»­æ·»åŠ å…ƒç´ çš„æ—¶å€™ä½¿ç”¨ä¸‹é¢è¿™ä¸ªåˆ¤æ–­</span><br>    ensureExplicitCapacity(minCapacity);<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ensureExplicitCapacity</span><span class="hljs-params">(<span class="hljs-type">int</span> minCapacity)</span> &#123;<br>    modCount++;<br>    <span class="hljs-comment">//å¦‚æœæ‰€éœ€æœ€å°å®¹é‡å¤§äºç°æœ‰å®¹é‡ï¼Œåˆ™æ‰©å®¹</span><br>    <span class="hljs-keyword">if</span> (minCapacity - elementData.length &gt; <span class="hljs-number">0</span>)<br>        grow(minCapacity);<br>&#125;<br><br><span class="hljs-comment">// æ‰©å®¹é€»è¾‘</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">grow</span><span class="hljs-params">(<span class="hljs-type">int</span> minCapacity)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">oldCapacity</span> <span class="hljs-operator">=</span> elementData.length;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">newCapacity</span> <span class="hljs-operator">=</span> oldCapacity + (oldCapacity &gt;&gt; <span class="hljs-number">1</span>); <span class="hljs-comment">// æ‰©å®¹1.5å€</span><br>    <span class="hljs-keyword">if</span> (newCapacity - minCapacity &lt; <span class="hljs-number">0</span>)<span class="hljs-comment">//1.5å€ä»ç„¶ä¸å¤Ÿç”¨çš„è¯å°±ç›´æ¥å–å…ƒç´ çš„é•¿åº¦</span><br>        newCapacity = minCapacity;<br>    <span class="hljs-keyword">if</span> (newCapacity - MAX_ARRAY_SIZE &gt; <span class="hljs-number">0</span>)<span class="hljs-comment">//æç«¯æƒ…å†µç‰¹æ®Šå¤„ç†</span><br>        newCapacity = hugeCapacity(minCapacity);<br>        <span class="hljs-comment">//æ‹·è´æ—§æ•°ç»„åˆ°åŸæ•°ç»„</span><br>    elementData = Arrays.copyOf(elementData, newCapacity);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>åˆ é™¤å…ƒç´ </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> E <span class="hljs-title function_">remove</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> &#123;<br>    Objects.checkIndex(index, size);<span class="hljs-comment">//æ£€æŸ¥indexæ˜¯å¦è¶Šç•Œï¼ŒæŠ›å‡ºå¼‚å¸¸</span><br>    <span class="hljs-keyword">final</span> Object[] es = elementData;<span class="hljs-comment">//ä¸ºäº†å†™æ³•æ›´çŸ­ã€æ€§èƒ½ç¨å¾®å¥½ä¸€ç‚¹</span><br><br>    <span class="hljs-comment">//å¿½ç•¥ç¼–è¯‘å™¨çš„æ³›å‹è½¬æ¢è­¦å‘Šï¼Œå°†eså¼ºè½¬ä¸ºæ³›å‹ç±»å‹E</span><br>    <span class="hljs-meta">@SuppressWarnings(&quot;unchecked&quot;)</span> <span class="hljs-type">E</span> <span class="hljs-variable">oldValue</span> <span class="hljs-operator">=</span> (E) es[index];<br>    fastRemove(es, index);<span class="hljs-comment">//å°†index+1åŠå…¶åé¢çš„å…ƒç´ å…¨éƒ¨å‘å‰æŒªåŠ¨ä¸€ä½ï¼Œè¦†ç›–è¦åˆ é™¤çš„å…ƒç´ ï¼Œæœ€åä¸€ä½è®°ä¸ºnull</span><br><br>    <span class="hljs-keyword">return</span> oldValue;<span class="hljs-comment">//è¿”å›oldvalue</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>Eæ˜¯æ³›å‹ç±»å‹å‚æ•°ï¼Œç”¨æ¥è¡¨ç¤º<code>ArrayList</code>ä¸­å­˜å‚¨çš„å…ƒç´ çš„ç±»å‹ã€‚</li></ul><p><strong>ArrayListçš„æŸ¥æ‰¾å’Œï¼ˆå°¾éƒ¨ï¼‰æ·»åŠ å…ƒç´ æ•ˆç‡é«˜ï¼Œåˆ é™¤å’Œæ’å…¥æ“ä½œæ•ˆç‡ä½</strong>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Java SE</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Java SE(8)-æ³›å‹</title>
    <link href="/2025/04/12/java8/"/>
    <url>/2025/04/12/java8/</url>
    
    <content type="html"><![CDATA[<p>ä¿®æ”¹å†å²ï¼š</p><p>2025/4/12 åˆæ¬¡å‘å¸ƒ</p><p>2025/4/22 è¡¥å……é™æ€æ³›å‹æ–¹æ³•ï¼Œå®Œå–„äº†é€šé…ç¬¦éƒ¨åˆ†çš„å†…å®¹</p><h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><strong>æ³›å‹</strong>ï¼ˆGenericsï¼‰æ˜¯Javaæä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œ<strong>è®©ç±»ã€æ¥å£ã€æ–¹æ³•åœ¨å®šä¹‰æ—¶å¯ä»¥æŒ‡å®šç±»å‹å‚æ•°</strong>ï¼Œä»è€Œå®ç°ç±»å‹å®‰å…¨å’Œä»£ç å¤ç”¨ã€‚</p><p><code>HashMap&lt;String,Integer&gt; map = new HashMap&lt;&gt;();</code></p><p><code>ArrayList&lt;String&gt; strList = new ArrayList&lt;&gt;();</code></p><p><code>ArrayList&lt;Person&gt; personList = new ArrayList&lt;&gt;();</code></p><p>éƒ½æ˜¯ä½¿ç”¨æ³›å‹çš„ä¾‹å­ã€‚</p><h1 id="é™æ€æ³›å‹æ–¹æ³•">é™æ€æ³›å‹æ–¹æ³•</h1><p>é™æ€æ–¹æ³•çš„æ³›å‹å’Œæ™®é€šæ–¹æ³•çš„æ³›å‹çš„å†™æ³•ä¸åŒï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ³›å‹ç±»ï¼Œè¡¨ç¤ºä¸€å¯¹ç›¸åŒç±»å‹çš„å€¼</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Pair</span>&lt;T&gt; &#123;<br>    <span class="hljs-keyword">private</span> T first;<br>    <span class="hljs-keyword">private</span> T last;<br>    <span class="hljs-comment">//æ„é€ å™¨ï¼Œä¼ å…¥ä¸¤ä¸ªç›¸åŒç±»å‹çš„å€¼</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Pair</span><span class="hljs-params">(T first, T last)</span> &#123;<br>        <span class="hljs-built_in">this</span>.first = first;<br>        <span class="hljs-built_in">this</span>.last = last;<br>    &#125;<br>    <span class="hljs-comment">//getter and setter</span><br>    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">getFirst</span><span class="hljs-params">()</span> &#123; ... &#125;<br>    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">getLast</span><span class="hljs-params">()</span> &#123; ... &#125;<br><br>    <span class="hljs-comment">// é™æ€æ³›å‹æ–¹æ³•åº”è¯¥ä½¿ç”¨å…¶ä»–ç±»å‹åŒºåˆ†:Kä¸åŒäºT</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;K&gt; Pair&lt;K&gt; <span class="hljs-title function_">create</span><span class="hljs-params">(K first, K last)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>&lt;K&gt;(first, last);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„è¿™é‡Œçš„æ³›å‹æ–¹æ³•ç”¨å¾—æ³›å‹å‚æ•°æ˜¯<code>K</code>ï¼Œè¿™æ˜¯å› ä¸º<strong>æ³›å‹ç±»å‹å‚æ•°Tæ˜¯åœ¨ç±»å®ä¾‹åŒ–æ—¶æ‰ç¡®å®šçš„ï¼Œè€Œé™æ€æ–¹æ³•å±äºç±»æœ¬èº«ï¼Œä¸ä¾èµ–äºå®ä¾‹åŒ–ï¼Œæ‰€ä»¥å®ƒæ— æ³•è®¿é—®å®ä¾‹ç›¸å…³çš„æ³›å‹ç±»å‹</strong>ã€‚å› æ­¤éœ€è¦å¦å¤–è®¾ä¸€ä¸ªæ³›å‹å‚æ•°<code>K</code>ï¼Œå¯ä»¥æŠŠè¿™ä¸ª<code>K</code>çœ‹æˆæ˜¯é™æ€æ–¹æ³•è‡ªå·±ä¸“ç”¨çš„ç±»å‹å‚æ•°ï¼Œå’Œç±»çš„<code>T</code>æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œåªæ˜¯åˆšå¥½åšçš„äº‹ç›¸ä¼¼è€Œå·²ã€‚</p><p>è€Œä¸”ï¼Œå¯ä»¥æ³¨æ„åˆ°é™æ€æ–¹æ³•çš„æ³›å‹å‚æ•°<code>K</code>åœ¨å£°æ˜ä¸­å‡ºç°äº†ä¸¤æ¬¡ï¼Œè¿™æ˜¯å› ä¸ºæ™®é€šæ–¹æ³•çš„<code>T</code>åœ¨ç±»çš„å£°æ˜ä¸­å·²ç»å‡ºç°è¿‡ï¼Œç¼–è¯‘å™¨çŸ¥é“å®ƒæ˜¯ä»€ä¹ˆï¼›ä½†æ˜¯é™æ€æ–¹æ³•ä½¿ç”¨çš„<code>K</code><strong>ä»æœªå‡ºç°</strong>ï¼Œæ‰€ä»¥éœ€è¦äº‹å…ˆå£°æ˜ã€‚ç¬¬äºŒæ¬¡å‡ºç°çš„<code>K</code>å°±æ˜¯æ­£å¸¸çš„ä½¿ç”¨äº†ã€‚</p><p>é™æ€æ³›å‹æ–¹æ³•çš„è¿™ç§å†™æ³•åœ¨æ™®é€šæ–¹æ³•ä¸­ä¹Ÿå¯èƒ½å‡ºç°ï¼Œæ¯”å¦‚ä¸‹è¾¹è¿™ä¸ªï¼š</p><p><img src="https://s21.ax1x.com/2025/04/21/pE5lfxI.png" /></p><p>è¿™å¥æ–¹æ³•å£°æ˜æ˜¯ Java Stream APIä¸­çš„<code>map</code>æ–¹æ³•ï¼Œç”¨äºå°†ä¸€ä¸ªæµä¸­çš„æ¯ä¸ªå…ƒç´ ã€Œæ˜ å°„ã€æˆå¦ä¸€ä¸ªç±»å‹ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æµã€‚</p><p>å› ä¸ºè¿™é‡Œå‡ºç°<strong>å¦ä¸€ä¸ªç±»å‹</strong>ï¼Œä¸ºäº†è¡¨ç¤ºè¿™ä¸ªç±»å‹ï¼Œéœ€è¦é¢„å…ˆå£°æ˜<code>&lt;R&gt;</code>æ‰è¡Œã€‚</p><p>æ‰€ä»¥è¯´åœ¨æ–¹æ³•åå‰é¢å‡ºç°çš„æ³›å‹å‚æ•°çš„ä½œç”¨å…¶å®å°±æ˜¯<strong>å£°æ˜æ–°å‚æ•°</strong>ï¼Œéœ€è¦æ–°å‚æ•°äº†å°±å†™ä¸€ä¸‹ï¼Œé˜²æ­¢åé¢è°ƒç”¨çš„æ—¶å€™ç¼–è¯‘å™¨ä¸è®¤è¯†å®ƒæŠ¥é”™ï¼Œè¿™åœ¨æ™®é€šæ–¹æ³•å’Œé™æ€æ–¹æ³•ä¸­æ˜¯ä¸€è‡´çš„ã€‚</p><h1 id="æ“¦æ‹­æ³•type-erasure">æ“¦æ‹­æ³•(Type Erasure)</h1><p>è§https://liaoxuefeng.com/books/java/generics/type-erasure/index.html</p><blockquote><p>æ‰€è°“æ“¦æ‹­æ³•æ˜¯æŒ‡ï¼Œè™šæ‹Ÿæœºå¯¹æ³›å‹å…¶å®ä¸€æ— æ‰€çŸ¥ï¼Œæ‰€æœ‰çš„å·¥ä½œéƒ½æ˜¯ç¼–è¯‘å™¨åšçš„ã€‚ç¼–è¯‘å™¨å†…éƒ¨æ°¸è¿œæŠŠæ‰€æœ‰ç±»å‹T è§†ä¸º Object å¤„ç†ï¼Œä½†æ˜¯ï¼Œåœ¨éœ€è¦è½¬å‹çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ® Tçš„ç±»å‹è‡ªåŠ¨ä¸ºæˆ‘ä»¬å®è¡Œ<strong>å®‰å…¨åœ°å¼ºåˆ¶è½¬å‹</strong>ã€‚</p></blockquote><p>åœ¨ä¸ä½¿ç”¨æ³›å‹çš„æ—¶å€™ï¼Œä¸€èˆ¬ä½¿ç”¨<code>instanceOf</code> +å¼ºåˆ¶è½¬å‹æ¥å¤„ç†ä¸åŒä¼ å…¥å‚æ•°çš„æƒ…å†µï¼Œæ³›å‹ä½¿ç”¨çš„å…¶å®è¿˜æ˜¯è¿™ä¸ªé€»è¾‘ï¼Œåªä¸è¿‡åŒ…è£…äº†ä¸€ä¸‹æ–¹ä¾¿ç”¨æˆ·ç¼–å†™ä»£ç ã€‚</p><h1 id="é€šé…ç¬¦">é€šé…ç¬¦</h1><h2 id="æ¦‚è¿°-1">æ¦‚è¿°</h2><p><strong>Javaæ³›å‹çš„ç±»å‹æ˜¯ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥</strong>ï¼Œå¹¶ä¸å…è®¸ä¸åŒç±»å‹çš„æ³›å‹ç›´æ¥ç›¸äº’èµ‹å€¼ã€‚ä¾‹å¦‚ï¼Œ<code>ArrayList&lt;Object&gt;</code>å’Œ<code>ArrayList&lt;String&gt;</code>æ˜¯ä¸¤ç§å®Œå…¨ä¸åŒçš„æ³›å‹ç±»å‹ï¼Œå³ä½¿Stringæ˜¯Objectçš„å­ç±»ã€‚</p><p>è§£å†³æ–¹æ³•ï¼š</p><ol type="1"><li>ä½¿ç”¨é€šé…ç¬¦(Wildcard):</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä½¿ç”¨é€šé…ç¬¦?ï¼Œè¡¨ç¤ºå¯ä»¥æ¥å—ä»»ä½•ç±»å‹</span><br>List&lt;?&gt; list = <span class="hljs-literal">null</span>;<br><span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªæ³›å‹stringçš„list1</span><br>List&lt;String&gt; list1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br><br><span class="hljs-comment">//å°†list1ä¼ ç»™list</span><br>list1.add(<span class="hljs-string">&quot;AA&quot;</span>);<br>list = list1;<br><br><span class="hljs-comment">//è¿™æ—¶listæˆåŠŸè·å–äº†list1ä¸­çš„å…ƒç´ </span><br><span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> list.get(<span class="hljs-number">0</span>);<span class="hljs-comment">//è¯»å–ä½¿ç”¨Object</span><br>System.out.println(obj);<br><br><span class="hljs-comment">//ä½†æ˜¯listä¸èƒ½å†™å…¥æ•°æ®ï¼ˆå› ä¸ºä¸èƒ½ç¡®å®šåˆ°åº•è¯¥æ”¾å“ªä¸ªç±»å‹ï¼‰ï¼Œé™¤äº†null</span><br>list.add(<span class="hljs-literal">null</span>);<br></code></pre></td></tr></table></figure><p><strong>ä¸Šç•Œé€šé…ç¬¦</strong>(Upper BoundsWildcards)ï¼š<code>List&lt;? extends T&gt; list</code>ï¼Œlistæ˜¯æŸç§<code>T</code>çš„å­ç±»çš„åˆ—è¡¨ã€‚è¿™æ ·ä¼ å…¥çš„å‚æ•°å¯ä»¥æ˜¯Tæˆ–è€…Tçš„å­ç±»ã€‚<strong>å¯ä»¥è¯»ï¼Œä¸èƒ½å†™</strong>ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“listæ˜¯å“ªä¸ªå­ç±»ã€‚<strong>è¯»å–å®‰å…¨ä½†æ˜¯å†™å…¥ä¸å®‰å…¨</strong></p><p><strong>ä¸‹ç•Œé€šé…ç¬¦</strong>ï¼š<code>List&lt;? super T&gt; list</code>ï¼Œlistæ˜¯<code>T</code>çš„æŸä¸ªçˆ¶ç±»çš„åˆ—è¡¨ã€‚æ–¹æ³•å‚æ•°æ¥å—æ‰€æœ‰æ³›å‹ç±»å‹ä¸ºTåŠå…¶çˆ¶ç±»çš„ç±»å‹ã€‚è¯»å‡ºåªèƒ½è¢«è§†ä¸ºä¸ºObjectï¼ˆå› ä¸ºä¸çŸ¥é“å…·ä½“æ˜¯å“ªä¸ªçˆ¶ç±»ï¼‰ï¼Œå¯ä»¥å†™å…¥Tæˆ–å…¶å­ç±»ã€‚å†™å…¥å®‰å…¨ä½†æ˜¯è¯»å–å—é™</p><p>æ€»ä¹‹ï¼š</p><ul><li><code>&lt;? extends T&gt;</code>å…è®¸è°ƒç”¨è¯»æ–¹æ³•<code>T get()</code>è·å–<code>T</code>çš„å¼•ç”¨ï¼Œä½†ä¸å…è®¸è°ƒç”¨å†™æ–¹æ³•<code>set(T)</code>ä¼ å…¥<code>T</code>çš„å¼•ç”¨ï¼ˆä¼ å…¥<code>null</code>é™¤å¤–ï¼‰ï¼›</li><li><code>&lt;? super T&gt;</code>å…è®¸è°ƒç”¨å†™æ–¹æ³•<code>set(T)</code>ä¼ å…¥<code>T</code>çš„å¼•ç”¨ï¼Œä½†ä¸å…è®¸è°ƒç”¨è¯»æ–¹æ³•<code>T get()</code>è·å–<code>T</code>çš„å¼•ç”¨ï¼ˆè·å–<code>Object</code>é™¤å¤–ï¼‰ã€‚</li></ul><p>ä½œä¸ºå¦ä¸€ä¸ªä¾‹å­ï¼Œçœ‹çœ‹<code>Collections</code>å·¥å…·ç±»ä¸­çš„<code>copy</code>æ–¹æ³•æ˜¯æ€ä¹ˆå®šä¹‰çš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">copy</span><span class="hljs-params">(List&lt;? <span class="hljs-built_in">super</span> T&gt; dest, List&lt;? extends T&gt; src)</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨æ˜¯æŠŠsrcåˆ—è¡¨çš„å…ƒç´ å¤åˆ¶åˆ°deståˆ—è¡¨ä¸­ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼Œæºåˆ—è¡¨çš„æ³›å‹æ˜¯ä¸Šç•Œé€šé…ç¬¦ï¼Œå› ä¸ºæˆ‘ä»¬è¦è·å–æºåˆ—è¡¨çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œä½¿ç”¨ä¸Šç•Œé€šé…ç¬¦çš„è¯æºåˆ—è¡¨çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½ä¸å¯èƒ½æ¯”<code>T</code>çš„ç­‰çº§â€œé«˜â€ï¼Œå¯ä»¥å®‰å…¨åœ°åˆ©ç”¨å‘ä¸Šè½¬å‹åŸåˆ™é€šè¿‡<code>T</code>æ¥getå®ƒä»¬ã€‚</p><p>ä¸ä¹‹ç›¸åï¼Œdestç›®æ ‡åˆ—è¡¨ä½¿ç”¨çš„æ˜¯superï¼Œå› ä¸ºæˆ‘ä»¬è¦å¯¹ç›®æ ‡åˆ—è¡¨è¿›è¡Œå†™å…¥æ“ä½œï¼Œä½¿ç”¨superå¯ä»¥ä¿è¯ç›®æ ‡åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½ä¸ä¼šæ¯”<code>T</code>ç­‰çº§ä½ï¼Œè¿™æ ·åªè¦setä¸€ä¸ª<code>T</code>ç±»å‹çš„å…ƒç´ å°±å¯ä»¥ä¿è¯æˆåŠŸå‘ä¸Šè½¬å‹ã€‚</p><h2 id="pecsåŸåˆ™">PECSåŸåˆ™</h2><p><strong>Producer Extends Consumer Super</strong></p><p>ç”Ÿäº§è€…ï¼ˆæºï¼‰ç”¨<code>extends</code>ï¼Œæ¶ˆè´¹è€…ï¼ˆç›®æ ‡ï¼‰ç”¨<code>super</code>ï¼Œå°±æ˜¯ä¸Šè¾¹è¯´è¿‡çš„ä¸œè¥¿</p><h2 id="æ— é™å®šé€šé…ç¬¦">æ— é™å®šé€šé…ç¬¦</h2><p><strong>Unbounded Wildcard Type</strong></p><p><code>&lt;?&gt;</code></p><p>æ—¢æ²¡æœ‰extendsï¼Œä¹Ÿæ²¡æœ‰superï¼Œä¹Ÿå°±æ˜¯è¯´æ—¢ä¸èƒ½è¯»ä¹Ÿä¸èƒ½å†™ï¼Œå¯ä»¥ç”¨äºé€»è¾‘åˆ¤æ–­ã€‚</p><p><code>&lt;?&gt;</code>æ˜¯ç­‰çº§æœ€é«˜çš„å­˜åœ¨ï¼Œå¯ä»¥ä¿è¯é¡ºåˆ©å‘ä¸Šè½¬å‹ï¼Œæ¯”å¦‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test4</span><span class="hljs-params">()</span> &#123;<br>    Pair&lt;Integer&gt; p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>&lt;&gt;(<span class="hljs-number">123</span>, <span class="hljs-number">456</span>);<br>    Pair&lt;?&gt; p2 = p; <span class="hljs-comment">// å®‰å…¨åœ°å‘ä¸Šè½¬å‹</span><br>    System.out.println(p2.getFirst() + <span class="hljs-string">&quot;, &quot;</span> + p2.getLast());<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java SE</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Java SE(7)-é›†åˆæ¡†æ¶</title>
    <link href="/2025/04/10/java7/"/>
    <url>/2025/04/10/java7/</url>
    
    <content type="html"><![CDATA[<p>ä¿®æ”¹å†å²ï¼š</p><ul><li>2025/04/10 åˆæ¬¡å‘å¸ƒ</li><li>2025/04/30 é‡æ–°æ ‘ç«‹äº†ç»“æ„ï¼Œå¢åŠ å¸¸ç”¨æ–¹æ³•æ€»ç»“</li><li>2025/05/03 å¢åŠ â€œå¦‚ä½•å°†åˆ—è¡¨è½¬æ¢æˆç‰¹å®šç±»å‹çš„æ•°ç»„â€éƒ¨åˆ†</li></ul><h1 id="collection">Collection</h1><p><strong>å†…å­˜å±‚é¢</strong>éœ€è¦é’ˆå¯¹å¤šä¸ªæ•°æ®è¿›è¡Œå­˜å‚¨ï¼Œå¯ä»¥è€ƒè™‘çš„<strong>å®¹å™¨</strong>æœ‰ï¼šæ•°ç»„ã€é›†åˆç±»ã€‚</p><p>æ•°ç»„åˆå§‹åŒ–åçš„é•¿åº¦ä¸å¯å˜ï¼Œå­˜å‚¨æ•°æ®ä¸ºå•ä¸€ç±»å‹ï¼Œå¯åŒ…å«é‡å¤å…ƒç´ ï¼Œä¸é€‚ç”¨äºä¸å¯é‡å¤çš„åœºæ™¯ï¼›å¯ç”¨çš„å±æ€§å’Œæ–¹æ³•éƒ½æå°‘ï¼›ä¸ä¾¿åˆ é™¤å’Œæ’å…¥å…ƒç´ ã€‚</p><p>Javaä¸­çš„é›†åˆæ¡†æ¶ï¼ˆJava Collections Frameworkï¼Œç®€ç§°JCFï¼‰æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„æ¶æ„ï¼Œç”¨äºè¡¨ç¤ºå’Œæ“ä½œä¸€ç»„å¯¹è±¡ã€‚</p><p>Javaé›†åˆæ¡†æ¶ä½“ç³»ï¼š</p><ul><li><code>java.util.Collection</code>:å­˜å‚¨ä¸€ä¸ªä¸€ä¸ªçš„æ•°æ®<ul><li>å­æ¥å£ï¼š<strong>List</strong>ï¼Œå­˜å‚¨<strong>æœ‰åº</strong>çš„ã€<strong>å¯é‡å¤</strong>çš„æ•°æ®ï¼ˆåŠ¨æ€æ•°ç»„ï¼‰<ul><li><code>ArrayList</code>,<code>LinkedList</code>,<code>Vector</code></li></ul></li><li>å­æ¥å£ï¼š<strong>Set</strong>ï¼Œå­˜å‚¨<strong>æ— åº</strong>çš„ã€<strong>ä¸å¯é‡å¤</strong>çš„æ•°æ®ï¼ˆç±»ä¼¼é›†åˆï¼‰<ul><li><code>HashSet</code>,<code>LinkedHashSet</code>,<code>TreeSet</code></li></ul></li></ul></li><li><code>java.util.Map</code>:å­˜å‚¨ä¸€å¯¹ä¸€å¯¹çš„æ•°æ®<ul><li><code>HashMap</code>,<code>LinkedHashMap</code>,<code>TreeMap</code>,<code>Hashtable</code>,<code>Properties</code></li></ul></li></ul><h1 id="liståŠå…¶å®ç°ç±»">ListåŠå…¶å®ç°ç±»</h1><h2 id="å¢å¼ºforå¾ªç¯">å¢å¼ºforå¾ªç¯</h2><p><strong>ä½œç”¨</strong>ï¼šéå†æ•°ç»„ï¼Œé›†åˆ</p><p>é›†åˆï¼šåº•å±‚ä½¿ç”¨è¿­ä»£å™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">for</span> (é›†åˆæˆ–æ•°ç»„çš„ç±»å‹ ä¸´æ—¶å˜é‡ : é›†åˆæˆ–æ•°ç»„å˜é‡) &#123;<br>    æ“ä½œä¸´æ—¶å˜é‡çš„è¾“å‡º;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="liståŠå…¶å®ç°ç±»çš„ç‰¹ç‚¹">ListåŠå…¶å®ç°ç±»çš„ç‰¹ç‚¹</h2><p>Listå­˜å‚¨æœ‰åºçš„å¯é‡å¤çš„æ•°æ®ï¼ŒåŠ¨æ€æ•°ç»„ï¼Œæ¯å¢åŠ ä¸€ä¸ªå¯¹è±¡å®¹é‡å°±è‡ªåŠ¨åŠ ä¸€ã€‚</p><ul><li>ArrayList:Listçš„<strong>ä¸»è¦å®ç°ç±»</strong>ï¼Œåº•å±‚ä½¿ç”¨Object[]æ•°ç»„å­˜å‚¨ï¼Œæ’å…¥å’Œåˆ é™¤æ•°æ®æ—¶æ•ˆç‡ä½</li><li>LinkedList:åº•å±‚ä½¿ç”¨åŒå‘é“¾è¡¨çš„æ–¹å¼å­˜å‚¨ï¼Œæ·»åŠ å’ŒæŸ¥æ‰¾æ•°æ®æ—¶æ•ˆç‡è¾ƒä½ã€‚é€‚ç”¨äºå¯¹é›†åˆä¸­çš„æ•°æ®è¿›è¡Œé¢‘ç¹çš„åˆ é™¤å’Œæ’å…¥æ“ä½œ.</li><li>Vector: å¤è€ï¼Œä¸ç”¨</li></ul><h3id="arraylistå’Œæ™®é€šæ•°ç»„çš„å¯¹æ¯”"><code>ArrayList</code>å’Œæ™®é€šæ•°ç»„çš„å¯¹æ¯”</h3><table><thead><tr><th>ç‰¹æ€§</th><th>ArrayList</th><th>æ™®é€šæ•°ç»„ (Array[])</th></tr></thead><tbody><tr><td>é•¿åº¦</td><td>åŠ¨æ€å˜åŒ–ï¼Œå¯è‡ªåŠ¨æ‰©å®¹</td><td>å›ºå®šé•¿åº¦ï¼Œåˆ›å»ºåä¸å¯æ›´æ”¹</td></tr><tr><td>æ·»åŠ å…ƒç´ </td><td>ä½¿ç”¨ <code>add()</code> æ–¹æ³•æ·»åŠ </td><td>éœ€æŒ‡å®šç´¢å¼•æˆ–ä½¿ç”¨å¾ªç¯æ·»åŠ </td></tr><tr><td>åˆ é™¤å…ƒç´ </td><td>ä½¿ç”¨ <code>remove()</code> æ–¹æ³•åˆ é™¤</td><td>ä¸æ”¯æŒç›´æ¥åˆ é™¤ï¼Œéœ€è¦ç§»åŠ¨å…ƒç´ </td></tr><tr><td>æŸ¥æ‰¾å…ƒç´ </td><td>ä½¿ç”¨ <code>get(index)</code> è·å–å…ƒç´ </td><td>ä½¿ç”¨ <code>array[index]</code> è®¿é—®</td></tr><tr><td>æ˜¯å¦æ”¯æŒæ³›å‹</td><td>æ”¯æŒï¼Œä¾‹å¦‚ <code>ArrayList&lt;Integer&gt;</code></td><td>ä¸æ”¯æŒæ³›å‹</td></tr><tr><td>æ˜¯å¦æ”¯æŒåŸºæœ¬ç±»å‹</td><td>ä¸æ”¯æŒï¼Œåªèƒ½å­˜å¯¹è±¡ï¼ˆå¯è£…ç®±ï¼‰</td><td>æ”¯æŒåŸºæœ¬ç±»å‹å’Œå¯¹è±¡ç±»å‹</td></tr><tr><td>æ˜¯å¦çº¿ç¨‹å®‰å…¨</td><td>é»˜è®¤<strong>ä¸æ˜¯</strong>çº¿ç¨‹å®‰å…¨çš„</td><td>ä¸æ˜¯çº¿ç¨‹å®‰å…¨</td></tr><tr><td>ä½¿ç”¨åœºæ™¯</td><td>å…ƒç´ æ•°é‡ä¸ç¡®å®šã€æ“ä½œçµæ´»</td><td>å…ƒç´ æ•°é‡å›ºå®šã€ç»“æ„ç®€å•</td></tr></tbody></table><hr /><h1id="collectionlistarraylistçš„å¯¹æ¯”">Collectionã€Listã€ArrayListçš„å¯¹æ¯”ï¼š</h1><table><thead><tr><th>ç‰¹æ€§</th><th>Collection</th><th>List</th><th>ArrayList</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>æ¥å£</td><td>æ¥å£ï¼ˆç»§æ‰¿è‡ª Collectionï¼‰</td><td>ç±»ï¼ˆå®ç°äº† List æ¥å£ï¼‰</td></tr><tr><td>æ˜¯å¦å¯å®ä¾‹åŒ–</td><td>âŒ ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–</td><td>âŒ ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–</td><td>âœ… å¯ä»¥ç›´æ¥å®ä¾‹åŒ–</td></tr><tr><td>é¡ºåºæ€§</td><td>âŒ ä¸ä¿è¯é¡ºåºï¼ˆç”±å­æ¥å£å†³å®šï¼‰</td><td>âœ… ä¿è¯å…ƒç´ é¡ºåº</td><td>âœ… ä¿è¯å…ƒç´ é¡ºåº</td></tr><tr><td>æ˜¯å¦å…è®¸é‡å¤</td><td>â“ ç”±å…·ä½“å®ç°å†³å®š</td><td>âœ… å…è®¸é‡å¤å…ƒç´ </td><td>âœ… å…è®¸é‡å¤å…ƒç´ </td></tr><tr><td>éšæœºè®¿é—®æ•ˆç‡</td><td>âŒ æ— æ­¤åŠŸèƒ½</td><td>âœ… æœ‰ <code>get(int)</code> æ–¹æ³•</td><td>âœ… å¿«é€Ÿéšæœºè®¿é—®ï¼ˆåŸºäºæ•°ç»„ï¼‰</td></tr><tr><td>å¸¸è§å®ç°ç±»</td><td>Listã€Setã€Queue ç­‰</td><td>ArrayListã€LinkedList ç­‰</td><td>è‡ªèº«æ˜¯å®ç°ç±»</td></tr><tr><td>å…¸å‹ä½¿ç”¨åœºæ™¯</td><td>æ“ä½œæ‰€æœ‰é›†åˆçš„é€šç”¨æ–¹æ³•</td><td>æ“ä½œæœ‰åºé›†åˆï¼ˆå¦‚åˆ—è¡¨ï¼‰</td><td>é¢‘ç¹æŸ¥è¯¢ã€éšæœºè®¿é—®</td></tr><tr><td>æ–¹æ³•ç¤ºä¾‹</td><td><code>add()</code>, <code>remove()</code>, <code>size()</code></td><td>åŠ ä¸Š <code>get()</code>, <code>set()</code>,<code>indexOf()</code>ç­‰</td><td>åŒ Listï¼ŒåŒæ—¶è¿˜æœ‰ä¼˜åŒ–çš„å†…éƒ¨å®ç°</td></tr></tbody></table><h1 id="set">Set</h1><h2 id="å®ç°ç±»">å®ç°ç±»</h2><p><code>Set</code>æ¥å£æ˜¯<code>Collection</code>æ¥å£çš„å­æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Set</span>&lt;E&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Collection</span>&lt;E&gt; <br></code></pre></td></tr></table></figure><p>å®ƒå­˜å‚¨<strong>æ— åºçš„ä¸å¯é‡å¤çš„æ•°æ®</strong>ã€‚å¸¸ç”¨å®ç°ç±»ï¼š</p><ul><li><code>HashSet</code>:<strong>ä¸»è¦å®ç°ç±»</strong>ï¼Œåº•å±‚ä½¿ç”¨<code>HashMap</code>ï¼Œå³æ•°ç»„+å•å‘é“¾è¡¨+çº¢é»‘æ ‘<ul><li><code>LinkedHashSet</code>:<code>HashSet</code>çš„å­ç±»ï¼›åœ¨ç°æœ‰çš„ç»“æ„çš„åŸºç¡€ä¸Šåˆæ·»åŠ äº†ä¸€ç»„åŒå‘é“¾è¡¨ï¼Œç”¨äºè®°å½•æ·»åŠ å…ƒç´ çš„å…ˆåé¡ºåºï¼Œä¾¿äºé¢‘ç¹çš„æŸ¥è¯¢æ“ä½œã€‚</li></ul></li><li><code>TreeSet</code>:åº•å±‚ä½¿ç”¨çº¢é»‘æ ‘å­˜å‚¨ã€‚å¯ä»¥æŒ‰ç…§æ·»åŠ å…ƒç´ çš„æŒ‡å®šçš„å±æ€§å¤§å°é¡ºåºè¿›è¡Œè‡ªåŠ¨æ’åºï¼Œä»è€Œè¿›è¡Œæœ‰åºéå†ã€‚<ul><li>åº•å±‚ï¼šçº¢é»‘æ ‘ã€‚å¯ä»¥æŒ‰ç…§æŒ‡å®šçš„å¤§å°é¡ºåºè‡ªåŠ¨æ’åºã€‚</li><li>è¦æ±‚TreeSetä¸­çš„å…ƒç´ å¿…é¡»æ˜¯<strong>åŒä¸€ä¸ªç±»å‹</strong>ï¼Œå¦åˆ™ç±»å‹è½¬æ¢é”™è¯¯ã€‚</li><li>å¤„ç†å¯¹è±¡æ¯”è¾ƒæ–¹æ³•ï¼Œæ’åºçš„æ ‡å‡†å°±æ˜¯è‡ªç„¶æ’åºæˆ–å®šåˆ¶æ’åºå¯¹åº”æ–¹æ³•çš„è¿”å›å€¼ã€‚å¦‚æœæ˜¯é›¶åˆ™è®¤ä¸ºæ˜¯ç›¸ç­‰ï¼Œä¸æ·»åŠ æ–°å…ƒç´ ã€‚</li><li>ä¸éœ€è¦é‡å†™<code>hashCode()</code>å’Œ<code>equals()</code>æ–¹æ³•ã€‚</li></ul></li></ul><p><strong>å¸¸ç”¨æ–¹æ³•</strong>ï¼š<code>Collection</code>ä¸­å¸¸ç”¨çš„æ–¹æ³•ï¼Œ<strong>æ— æ–°å¢æ–¹æ³•</strong>ã€‚</p><p>ä¸»è¦ä½œç”¨ï¼š<strong>å»é™¤é‡å¤æ•°æ®</strong>ã€‚</p><h2 id="é‡å†™ä¸¤ä¸ªæ–¹æ³•">é‡å†™ä¸¤ä¸ªæ–¹æ³•</h2><p>æ·»åŠ åˆ°HashSet/LinkedHashSetä¸­çš„å…ƒç´ çš„è¦æ±‚ï¼šå…ƒç´ æ‰€åœ¨çš„ç±»è¦é‡å†™ä¸¤ä¸ªæ–¹æ³•ï¼š<code>equal()</code>å’Œ<code>hashCode()</code>ã€‚</p><p><code>hashmap</code>ä¸­ä¾æ®<code>key</code>çš„<code>hash</code>å€¼æ¥ç¡®å®š<code>value</code>å­˜å‚¨ä½ç½®ï¼ˆhashå€¼å°±æ˜¯æ•°ç»„çš„ç´¢å¼•ï¼‰ï¼Œæ‰€ä»¥ä¸€å®šè¦é‡å†™<code>hashCode</code>æ–¹æ³•ï¼›</p><p>è€Œé‡å†™<code>equals</code>æ–¹æ³•ï¼Œæ˜¯ä¸ºäº†è§£å†³<code>hash</code>å†²çªï¼šæˆ‘ä»¬åœ¨é‡å†™<code>hashcode()</code>æ–¹æ³•æ—¶å·²ç»å°½é‡ä¿è¯äº†å“ˆå¸Œå€¼ä¸ä¼šé‡å¤ï¼Œå¦‚æœå‘ç°ä¸¤ä¸ªä¸åŒçš„<code>key</code>çš„<code>hash</code>å€¼ç›¸åŒï¼Œé‚£ä¹ˆå°±ä¼šè°ƒç”¨<code>equals</code>æ–¹æ³•ï¼Œç»§ç»­æ¯”è¾ƒ<code>key</code>å€¼æ˜¯å¦ç›¸åŒã€‚</p><p>åœ¨å­˜å‚¨æ—¶ï¼šå¦‚æœ<code>equals</code>ç»“æœç›¸åŒï¼Œè¯´æ˜æ˜¯åŒä¸€ä¸ªé”®ï¼Œé‚£ä¹ˆå°±è¦†ç›–æ›´æ–°<code>value</code>å€¼ï¼›å¦‚æœé”®ä¸åŒï¼Œä½†æ˜¯å“ˆå¸Œå€¼ç›¸åŒï¼Œå°±ç”¨<code>List</code>æŠŠä»–ä»¬éƒ½å­˜å‚¨åœ¨åŒä¸€ä¸ªä½ç½®ã€‚åœ¨å–å‡ºæ—¶ï¼šå¦‚æœ<code>equals</code>ç»“æœç›¸åŒå°±ç›´æ¥è¿”å›å½“å‰<code>value</code>å€¼ï¼Œå¦‚æœä¸åŒå°±éå†<code>List</code>ä¸­ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚å³è¦<code>key</code>ä¸<code>hash</code><strong>åŒæ—¶åŒ¹é…</strong>æ‰ä¼šè®¤ä¸ºæ˜¯åŒä¸€ä¸ª<code>key</code>ã€‚</p><p>JDKä¸­ç”¨äºåˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ä¸ªkeyçš„æºç :<code>if(e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))&#123;ops;&#125;</code></p><h1 id="map">Map</h1><h2 id="mapåŠå…¶å®ç°ç±»å¯¹æ¯”">MapåŠå…¶å®ç°ç±»å¯¹æ¯”</h2><p><code>java.util.Map</code>:å­˜å‚¨ä¸€å¯¹ä¸€å¯¹çš„<strong>é”®å€¼å¯¹</strong>.</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs text">               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>               â”‚   Mapæ¥å£    â”‚<br>               â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>                     â”‚<br>        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>        â”‚                          â”‚<br>  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”<br>  â”‚ HashMap   â”‚              â”‚ SortedMap â”‚ï¼ˆæ¥å£ï¼‰<br>  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜<br>        â”‚                          â”‚<br>â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”<br>â”‚ LinkedHashMap  â”‚           â”‚ TreeMap   â”‚<br>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br><br>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>â”‚ Hashtable    â”‚ï¼ˆå¤è€çš„çº¿ç¨‹å®‰å…¨å®ç°ï¼‰<br>â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br>      â”‚<br>â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”<br>â”‚Properties â”‚ï¼ˆå­ç±»ï¼Œä¸“ç”¨äºé…ç½®æ–‡ä»¶ï¼‰<br>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br></code></pre></td></tr></table></figure><table><thead><tr><th>ç‰¹æ€§</th><th>HashMap</th><th>LinkedHashMap</th><th>TreeMap</th><th>Hashtable</th><th>Properties</th></tr></thead><tbody><tr><td>æ‰€å±æ¥å£</td><td>Map</td><td>Map</td><td>Map, SortedMap, NavigableMap</td><td>Map</td><td>Hashtable</td></tr><tr><td>æ˜¯å¦çº¿ç¨‹å®‰å…¨</td><td>å¦</td><td>å¦</td><td>å¦</td><td>æ˜¯</td><td>æ˜¯</td></tr><tr><td>æ˜¯å¦å…è®¸ null é”®</td><td>æ˜¯ï¼ˆæœ€å¤šä¸€ä¸ªï¼‰</td><td>æ˜¯ï¼ˆæœ€å¤šä¸€ä¸ªï¼‰</td><td>å¦ï¼ˆé”®ä¸èƒ½ä¸º nullï¼‰</td><td>å¦</td><td>å¦</td></tr><tr><td>æ˜¯å¦æœ‰åº</td><td>å¦</td><td>æœ‰æ’å…¥é¡ºåº</td><td>æœ‰è‡ªç„¶é¡ºåºæˆ–æŒ‡å®š Comparator</td><td>å¦</td><td>å¦</td></tr><tr><td>åº•å±‚ç»“æ„</td><td>å“ˆå¸Œè¡¨</td><td>å“ˆå¸Œè¡¨ + åŒå‘é“¾è¡¨</td><td>çº¢é»‘æ ‘</td><td>å“ˆå¸Œè¡¨</td><td>å“ˆå¸Œè¡¨</td></tr><tr><td>æ€§èƒ½</td><td>æŸ¥è¯¢å¿«ï¼Œä¸€èˆ¬æ¨è</td><td>æŸ¥è¯¢å¿«ï¼Œé¡ºåºæ“ä½œæ€§èƒ½ç•¥ä½</td><td>æŸ¥è¯¢è¾ƒæ…¢ï¼Œé€‚åˆæ’åºéœ€æ±‚</td><td>æŸ¥è¯¢å¿«ï¼Œä½†å¹¶å‘æ€§èƒ½ä¸ä½³</td><td>ä¸»è¦ç”¨äºé…ç½®æ–‡ä»¶åŠ è½½</td></tr><tr><td>ç”¨é€”</td><td>é€šç”¨ Map å®¹å™¨</td><td>ä¿ç•™æ’å…¥é¡ºåºçš„ Map</td><td>éœ€è¦æ’åºçš„ Map</td><td>æ—©æœŸçº¿ç¨‹å®‰å…¨ Mapï¼Œå·²è¿‡æ—¶</td><td>å­˜å‚¨é…ç½®ä¿¡æ¯ï¼ˆkey/value å­—ç¬¦ä¸²ï¼‰</td></tr></tbody></table><h2 id="hashmap">HashMap</h2><p><code>HashSet</code>å°±æ˜¯åŸºäº<code>HashMap</code>å®ç°çš„ã€‚ä¸¤è€…çš„å¯¹æ¯”å¦‚ä¸‹ï¼š</p><table><thead><tr><th>ç‰¹æ€§</th><th><code>HashSet</code></th><th><code>HashMap</code></th></tr></thead><tbody><tr><td>å­˜å‚¨ç»“æ„</td><td>åªå­˜å‚¨å…ƒç´ ï¼ˆä½œä¸ºé”®ï¼‰</td><td>å­˜å‚¨é”®å€¼å¯¹ï¼ˆkey-valueï¼‰</td></tr><tr><td>æ˜¯å¦å…è®¸é‡å¤</td><td>âŒ ä¸å…è®¸é‡å¤å…ƒç´ </td><td>âœ… é”®ä¸å…è®¸é‡å¤ï¼Œå€¼å¯ä»¥é‡å¤</td></tr><tr><td>å†…éƒ¨å®ç°</td><td>åŸºäº <code>HashMap</code> å®ç°</td><td>ä½¿ç”¨æ•°ç»„+é“¾è¡¨ï¼ˆæˆ–çº¢é»‘æ ‘ï¼‰å®ç°</td></tr><tr><td>æŸ¥æ‰¾æ•ˆç‡</td><td>O(1)</td><td>O(1)</td></tr><tr><td>åº•å±‚ç»“æ„</td><td>å®é™…æ˜¯ <code>HashMap&lt;E, Object&gt;</code></td><td>å®é™…æ˜¯ <code>HashMap&lt;K, V&gt;</code></td></tr></tbody></table><p><code>HashSet</code>ä¸­åªå­˜å‚¨å…ƒç´ ï¼ˆå€¼ï¼‰ï¼Œè€Œä¸æ˜¯é”®å€¼å¯¹ã€‚</p><p>ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œå®ƒæŠŠå…ƒç´ ä½œä¸º<code>HashMap</code>çš„é”®ï¼Œç”¨ä¸€ä¸ªç»Ÿä¸€çš„å¯¹è±¡ï¼ˆæ¯”å¦‚<code>PRESENT</code>ï¼‰ä½œä¸ºå€¼ã€‚</p><p>æ‰€ä»¥å…¶å®æ¯æ¬¡ä½ å¾€<code>HashSet</code>æ·»åŠ ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå®ƒæ˜¯åœ¨åº•å±‚çš„<code>HashMap</code>ä¸­æ·»åŠ äº†ä¸€æ¡é”®å€¼å¯¹ï¼š<code>map.put(element, PRESENT);</code></p><hr /><ul><li>HashMapä¸­çš„keyç”¨Setæ¥å­˜æ”¾ï¼Œæ— åºè€Œä¸”ä¸å…è®¸é‡å¤ï¼Œæ‰€ä»¥åŒä¸€ä¸ªMapå¯¹è±¡æ‰€å¯¹åº”çš„ç±»<strong>éœ€è¦é‡å†™hashCodeå’Œequals</strong>ã€‚</li><li>HashMapä¸­çš„Valueå¯é‡å¤ã€æ— åºã€‚<strong>ä¸å¼ºåˆ¶é‡å†™ä»»ä½•æ–¹æ³•</strong>ã€‚</li><li>æ¯ä¸€ä¸ªé”®å€¼å¯¹æ„æˆä¸€ä¸ª<strong>entry</strong>ï¼Œæ‰€æœ‰çš„entryæ„æˆäº†ä¸€ä¸ªSeté›†åˆ</li></ul><h2 id="treemap">TreeMap</h2><ul><li>åº•å±‚ä½¿ç”¨çº¢é»‘æ ‘ï¼ŒæŒ‰ç…§<strong>key</strong>æŒ‡å®šçš„å¤§å°é¡ºåºæ’åºã€‚</li><li>éœ€è¦è€ƒè™‘ä½¿ç”¨å¯¹è±¡æ’åº</li><li>å¿…é¡»æ˜¯<strong>åŒä¸€ä¸ªç±»å‹</strong>çš„å¯¹è±¡</li></ul><h2 id="properties">Properties</h2><ul><li>Hashtableçš„å­ç±»</li><li>é”®å’Œå€¼éƒ½æ˜¯Stringç±»å‹ï¼Œç”¨æ¥å¤„ç†å±æ€§æ–‡ä»¶</li></ul><h1 id="queue">Queue</h1><p>é˜Ÿåˆ—(Queue)å®ç°äº†ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„æœ‰åºè¡¨ã€‚Queueåªæœ‰ä¸¤ä¸ªæ“ä½œï¼š</p><ul><li>æŠŠå…ƒç´ æ·»åŠ åˆ°æœ«å°¾</li><li>ä»å¤´éƒ¨å–å‡ºå…ƒç´ </li></ul><p>æ¥å£<code>Queue</code>å®šä¹‰äº†ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š</p><ul><li><code>size(): int</code>:è¿”å›é˜Ÿåˆ—ä¸­çš„å…ƒç´ çš„æ•°é‡</li><li><code>add(E e)</code>:æ·»åŠ å…ƒç´ åˆ°é˜Ÿå°¾ï¼Œæ·»åŠ å¤±è´¥çš„è¯æŠ›å‡º<code>IllegalStateException</code></li><li><code>offer(E e): boolean</code>:æ·»åŠ å…ƒç´ åˆ°é˜Ÿå°¾ï¼Œæ·»åŠ å¤±è´¥è¿”å›<code>false</code>ã€‚<strong>æ›´å®‰å…¨ï¼Œæ¨è</strong></li><li><code>remove(): E</code>:è·å–å¹¶ç§»é™¤é˜Ÿé¦–å…ƒç´ ï¼Œå¦‚æœé˜Ÿåˆ—ä¸ºç©ºåˆ™æŠ›å¼‚å¸¸<code>NoSuchElementException</code></li><li><code>poll(): E</code>:è·å–å¹¶ç§»é™¤é˜Ÿé¦–å…ƒç´ ï¼Œå¦‚æœä¸ºç©ºè¿”å›<code>null</code>ã€‚<strong>æ›´å®‰å…¨ï¼Œæ¨è</strong></li><li><code>element(): E</code>:è·å–ä½†ä¸ç§»é™¤é˜Ÿé¦–å…ƒç´ ï¼Œé˜Ÿåˆ—ä¸ºç©ºæŠ›å¼‚å¸¸<code>NoSuchElementException</code></li><li><code>peek(): E</code>:è·å–ä½†ä¸ç§»é™¤é˜Ÿé¦–å…ƒç´ ï¼Œé˜Ÿåˆ—ä¸ºç©ºè¿”å›<code>null</code>ã€‚<strong>æ›´å®‰å…¨ï¼Œæ¨è</strong></li></ul><h2 id="linkedlist">LinkedList</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedList</span>&lt;E&gt;<br>    <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractSequentialList</span>&lt;E&gt;<br>    <span class="hljs-keyword">implements</span> <span class="hljs-title class_">List</span>&lt;E&gt;, Deque&lt;E&gt;, Cloneable, java.io.Serializable<br></code></pre></td></tr></table></figure><p><code>LinkedList</code>æ˜¯æœ€å¸¸ç”¨çš„å®ç°ç±»ï¼Œåº•å±‚ä½¿ç”¨åŒå‘é“¾è¡¨çš„æ–¹å¼å­˜å‚¨ï¼Œæ·»åŠ å’ŒæŸ¥æ‰¾æ•°æ®æ—¶æ•ˆç‡è¾ƒä½ã€‚é€‚ç”¨äºå¯¹é›†åˆä¸­çš„æ•°æ®è¿›è¡Œé¢‘ç¹çš„åˆ é™¤å’Œæ’å…¥æ“ä½œã€‚</p><p>æ³¨æ„<code>LinkedList</code>åŒæ—¶å®ç°äº†<code>Queue</code>å’Œ<code>List</code>æ¥å£ï¼Œä½¿ç”¨æ—¶è¯¥ç”¨å“ªä¸ªç”¨å“ªä¸ªã€‚</p><h2 id="priorityqueue">PriorityQueue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PriorityQueue</span>&lt;E&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractQueue</span>&lt;E&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">java</span>.io.Serializable<br></code></pre></td></tr></table></figure><p>ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼Œå…ƒç´ çš„é¡ºåºæŒ‰ç…§<strong>ä¼˜å…ˆçº§çš„å¤§å°</strong>æ’åˆ—ï¼Œå®ƒå¹¶ä¸éµå¾ªä¸¥æ ¼çš„å…ˆè¿›å…ˆå‡ºã€‚æ‰€è°“ä¼˜å…ˆçº§çš„å¤§å°ï¼ŒæŒ‡çš„æ˜¯å®ƒä¼šæ ¹æ®æä¾›çš„æ¯”è¾ƒå™¨å¯¹é˜Ÿåˆ—ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œæˆ–è€…ä½¿ç”¨è‡ªç„¶æ’åºï¼ˆç©ºæ„é€ å™¨çš„æƒ…å†µï¼‰ã€‚</p><p>å£°æ˜ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">Queue&lt;E&gt; q = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;&gt;();<br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„å£°æ˜ä½¿ç”¨äº†ç©ºçš„æ„é€ å™¨ï¼Œè¿™ç§æƒ…å†µä¸‹é˜Ÿåˆ—ä¸­çš„å…ƒç´ æŒ‰ç…§<strong>è‡ªç„¶æ’åº</strong>ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªlambdaè¡¨è¾¾å¼é‡å†™æ¯”è¾ƒæ–¹æ³•å®ç°å®šåˆ¶æ’åºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span> &#123;<br><br>    PriorityQueue&lt;Integer&gt; pq = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;&gt;((a,b) -&gt; b - a);<br><br>    pq.offer(<span class="hljs-number">5</span>);<br>    pq.offer(<span class="hljs-number">1</span>);<br>    pq.offer(<span class="hljs-number">3</span>);<br><br>    <span class="hljs-keyword">while</span> (!pq.isEmpty()) &#123;<br>        System.out.println(pq.poll());  <span class="hljs-comment">// è¾“å‡ºé¡ºåºï¼š5, 3, 1</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="deque">Deque</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Deque</span>&lt;E&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Queue</span>&lt;E&gt;, SequencedCollection&lt;E&gt;<br></code></pre></td></tr></table></figure><div class="note note-secondary">            <p><code>Deque</code>æ˜¯ä¸€ä¸ªæ”¯æŒåœ¨é˜Ÿåˆ—ä¸¤ç«¯æ’å…¥å’Œåˆ é™¤æ“ä½œçš„çº¿æ€§é›†åˆã€‚å®ƒçš„åå­—"deque"æ˜¯"doubleendedqueue"ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰çš„ç®€ç§°ã€‚å¤§éƒ¨åˆ†<code>Deque</code>çš„å®ç°å¯¹åŒ…å«çš„å…ƒç´ çš„æ•°é‡æ²¡æœ‰å›ºå®šé™åˆ¶ï¼Œä½†æ˜¯è¿™ä¸ªæ¥å£ä¹Ÿæ”¯æŒæœ‰å®¹é‡é™åˆ¶çš„é˜Ÿåˆ—å’Œæ— é™å®¹é‡é˜Ÿåˆ—ã€‚</p>          </div><h3 id="å®ç°ç±»-1">å®ç°ç±»</h3><table><thead><tr><th>å®ç°ç±»åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>ArrayDeque</code></td><td>å¸¸ç”¨ï¼ŒåŸºäºæ•°ç»„ï¼Œæ•ˆç‡é«˜ï¼Œé€‚åˆæ ˆ/é˜Ÿåˆ—æ“ä½œ</td></tr><tr><td><code>LinkedList</code></td><td>ä¹Ÿå®ç°äº† <code>Deque</code>ï¼Œä½†æ•ˆç‡ç•¥ä½</td></tr><tr><td><code>LinkedBlockingDeque</code></td><td>çº¿ç¨‹å®‰å…¨ï¼Œå¯è®¾ç½®å®¹é‡é™åˆ¶ï¼ˆåœ¨å¹¶å‘åœºæ™¯ä½¿ç”¨ï¼‰</td></tr></tbody></table><p>è¿™é‡Œåˆå‡ºç°äº†<code>LinkedList</code>ã€‚æ‰€ä»¥è¯´ä½¿ç”¨<code>LinkedList</code>çš„æ—¶å€™æœ€å¥½ä½¿ç”¨å®ƒçš„æ¥å£æ¥å¼•ç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ä¸æ¨èçš„å†™æ³•:</span><br>LinkedList&lt;String&gt; d1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>d1.offerLast(<span class="hljs-string">&quot;z&quot;</span>);<br><span class="hljs-comment">// æ¨èçš„å†™æ³•ï¼š</span><br>Deque&lt;String&gt; d2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>d2.offerLast(<span class="hljs-string">&quot;z&quot;</span>);<br></code></pre></td></tr></table></figure><h3 id="æ–¹æ³•">æ–¹æ³•</h3><p><strong>æ·»åŠ å…ƒç´ çš„æ–¹æ³•</strong>ï¼š</p><table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½</th><th>æŠ›å¼‚å¸¸ç‰ˆæœ¬</th><th>å®‰å…¨è¿”å›ç‰ˆæœ¬</th></tr></thead><tbody><tr><td><code>addFirst(e)</code></td><td>æ·»åŠ åˆ°é˜Ÿå¤´ï¼ˆæ ˆé¡¶ï¼‰</td><td>âœ…</td><td>âŒï¼ˆæ— ï¼‰</td></tr><tr><td><code>offerFirst(e)</code></td><td>æ·»åŠ åˆ°é˜Ÿå¤´ï¼ˆæ ˆé¡¶ï¼‰</td><td>âŒ</td><td>âœ…</td></tr><tr><td><code>addLast(e)</code></td><td>æ·»åŠ åˆ°é˜Ÿå°¾ï¼ˆé˜Ÿåˆ—å°¾éƒ¨ï¼‰</td><td>âœ…</td><td>âŒï¼ˆæ— ï¼‰</td></tr><tr><td><code>offerLast(e)</code></td><td>æ·»åŠ åˆ°é˜Ÿå°¾ï¼ˆé˜Ÿåˆ—å°¾éƒ¨ï¼‰</td><td>âŒ</td><td>âœ…</td></tr><tr><td><code>add(e)</code></td><td>é»˜è®¤æ·»åŠ åˆ°é˜Ÿå°¾ï¼ˆç­‰åŒ <code>addLast</code>ï¼‰</td><td>âœ…</td><td>âŒ</td></tr><tr><td><code>offer(e)</code></td><td>é»˜è®¤æ·»åŠ åˆ°é˜Ÿå°¾ï¼ˆç­‰åŒ <code>offerLast</code>ï¼‰</td><td>âŒ</td><td>âœ…</td></tr><tr><td><code>push(e)</code></td><td><strong>æ ˆæ“ä½œ</strong>ï¼Œæ·»åŠ åˆ°å¤´éƒ¨ï¼ˆç­‰åŒ<code>addFirst</code>ï¼‰</td><td>âœ…</td><td>âŒ</td></tr></tbody></table><p><strong>åˆ é™¤å…ƒç´ çš„æ–¹æ³•</strong></p><table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½</th><th>æŠ›å¼‚å¸¸ç‰ˆæœ¬</th><th>å®‰å…¨è¿”å›ç‰ˆæœ¬</th></tr></thead><tbody><tr><td><code>removeFirst()</code></td><td>åˆ é™¤å¹¶è¿”å›é˜Ÿå¤´å…ƒç´ </td><td>âœ…</td><td>âŒ</td></tr><tr><td><code>pollFirst()</code></td><td>åˆ é™¤å¹¶è¿”å›é˜Ÿå¤´å…ƒç´ </td><td>âŒ</td><td>âœ…</td></tr><tr><td><code>removeLast()</code></td><td>åˆ é™¤å¹¶è¿”å›é˜Ÿå°¾å…ƒç´ </td><td>âœ…</td><td>âŒ</td></tr><tr><td><code>pollLast()</code></td><td>åˆ é™¤å¹¶è¿”å›é˜Ÿå°¾å…ƒç´ </td><td>âŒ</td><td>âœ…</td></tr><tr><td><code>remove()</code></td><td>é»˜è®¤åˆ é™¤é˜Ÿå¤´ï¼ˆç­‰åŒ <code>removeFirst</code>ï¼‰</td><td>âœ…</td><td>âŒ</td></tr><tr><td><code>poll()</code></td><td>é»˜è®¤åˆ é™¤é˜Ÿå¤´ï¼ˆç­‰åŒ <code>pollFirst</code>ï¼‰</td><td>âŒ</td><td>âœ…</td></tr><tr><td><code>pop()</code></td><td><strong>æ ˆæ“ä½œ</strong>ï¼Œåˆ é™¤å¤´éƒ¨ï¼ˆç­‰åŒ<code>removeFirst</code>ï¼‰</td><td>âœ…</td><td>âŒ</td></tr></tbody></table><p><strong>æŸ¥çœ‹å…ƒç´ çš„æ–¹æ³•</strong></p><table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½</th><th>æŠ›å¼‚å¸¸ç‰ˆæœ¬</th><th>å®‰å…¨è¿”å›ç‰ˆæœ¬</th></tr></thead><tbody><tr><td><code>getFirst()</code></td><td>è·å–é˜Ÿå¤´å…ƒç´ </td><td>âœ…</td><td>âŒ</td></tr><tr><td><code>peekFirst()</code></td><td>è·å–é˜Ÿå¤´å…ƒç´ </td><td>âŒ</td><td>âœ…</td></tr><tr><td><code>getLast()</code></td><td>è·å–é˜Ÿå°¾å…ƒç´ </td><td>âœ…</td><td>âŒ</td></tr><tr><td><code>peekLast()</code></td><td>è·å–é˜Ÿå°¾å…ƒç´ </td><td>âŒ</td><td>âœ…</td></tr><tr><td><code>element()</code></td><td>é»˜è®¤è·å–é˜Ÿå¤´ï¼ˆç­‰åŒ <code>getFirst</code>ï¼‰</td><td>âœ…</td><td>âŒ</td></tr><tr><td><code>peek()</code></td><td>é»˜è®¤è·å–é˜Ÿå¤´ï¼ˆç­‰åŒ <code>peekFirst</code>ï¼‰</td><td>âŒ</td><td>âœ…</td></tr></tbody></table><p><strong>å…¶ä»–æ–¹æ³•</strong></p><table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½è¯´æ˜</th></tr></thead><tbody><tr><td><code>isEmpty()</code></td><td>åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</td></tr><tr><td><code>size()</code></td><td>è¿”å›å½“å‰å…ƒç´ æ•°é‡</td></tr><tr><td><code>contains(Object)</code></td><td>åˆ¤æ–­é˜Ÿåˆ—ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ </td></tr><tr><td><code>clear()</code></td><td>æ¸…ç©ºæ‰€æœ‰å…ƒç´ </td></tr><tr><td><code>iterator()</code></td><td>ä»å¤´åˆ°å°¾éå†</td></tr><tr><td><code>descendingIterator()</code></td><td>ä»å°¾åˆ°å¤´éå†</td></tr></tbody></table><h2 id="stack">Stack</h2><p>Stack(æ ˆ)çš„ç‰¹ç‚¹ï¼šåè¿›å…ˆå‡ºï¼Œç›¸å½“äºæŠŠé˜Ÿåˆ—çš„ä¸€ç«¯å µæ­»ï¼Œåªç•™ä¸€ä¸ªå‡ºå£ã€‚</p><p>ä½¿ç”¨Dequeå¯ä»¥å®ç°åè¿›å…ˆå‡ºçš„æ ˆæ“ä½œï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test3</span><span class="hljs-params">()</span> &#123;<br>    Deque&lt;String&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayDeque</span>&lt;&gt;();<br><br>    <span class="hljs-comment">// push â€œå‹å…¥â€ æ ˆæ“ä½œæ·»åŠ åˆ°å¤´éƒ¨</span><br>    stack.push(<span class="hljs-string">&quot;A&quot;</span>);<br>    stack.push(<span class="hljs-string">&quot;B&quot;</span>);<br>    stack.push(<span class="hljs-string">&quot;C&quot;</span>);<br><br>    <span class="hljs-comment">// pop â€œå¼¹å‡ºâ€ æ ˆæ“ä½œåˆ é™¤å¤´éƒ¨</span><br>    <span class="hljs-keyword">while</span> (!stack.isEmpty()) &#123;<br>        System.out.println(stack.pop()); <span class="hljs-comment">// è¾“å‡ºé¡ºåºï¼šC B A</span><br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬æŠŠDequeä½œä¸ºStackä½¿ç”¨æ—¶ï¼Œæ³¨æ„åªè°ƒç”¨<code>push()</code>/<code>pop()</code>/<code>peek()</code>æ–¹æ³•ï¼Œä¸è¦è°ƒç”¨<code>addFirst()</code>/<code>removeFirst()</code>/<code>peekFirst()</code>æ–¹æ³•ï¼Œè¿™æ ·ä»£ç æ›´åŠ æ¸…æ™°ã€‚</p><h1 id="iterator">Iterator</h1><p>Iterator,è·å–è¿­ä»£å™¨çš„å¯¹è±¡ï¼š<code>Iterator itr = é›†åˆ.iterator();</code></p><p>éå†é›†åˆçš„æ‰€æœ‰å…ƒç´ ï¼š<code>itr.hasNext()</code>+<code>itr.next()</code></p><figure><img src="https://i.imgur.com/uRaHFI0.png" alt="è¿­ä»£å™¨å›¾è§£" /><figcaption aria-hidden="true">è¿­ä»£å™¨å›¾è§£</figcaption></figure><p>ä½¿ç”¨è¿­ä»£å™¨çš„å¥½å¤„åœ¨äºï¼Œè°ƒç”¨æ–¹æ€»æ˜¯ä»¥ç»Ÿä¸€çš„æ–¹å¼éå†å„ç§<strong>é›†åˆ</strong>ç±»å‹ï¼Œè€Œä¸å¿…å…³å¿ƒå®ƒä»¬å†…éƒ¨çš„å­˜å‚¨ç»“æ„ã€‚</p><h1 id="é›†åˆæ¡†æ¶å¸¸ç”¨æ–¹æ³•æ€»ç»“">é›†åˆæ¡†æ¶å¸¸ç”¨æ–¹æ³•æ€»ç»“</h1><h2 id="collectionæ¥å£">Collectionæ¥å£</h2><p><code>Collection</code>æ¥å£ä½œä¸ºé›†åˆæ¡†æ¶æœ€ä¸Šå±‚çš„æ¥å£ï¼Œæ‰€æœ‰çš„é›†åˆæ•°æ®ç±»å‹éƒ½å¯ä»¥ä½¿ç”¨å…¶ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚å¦‚ä¸‹ï¼š</p><table><thead><tr><th>æ–¹æ³•ç­¾å</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>boolean add(E e)</code></td><td>å‘é›†åˆä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ </td></tr><tr><td><code>boolean addAll(Collection&lt;? extends E&gt; c)</code></td><td>å°†æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ æ·»åŠ è¿›æ¥</td></tr><tr><td><code>void clear()</code></td><td>æ¸…ç©ºé›†åˆä¸­æ‰€æœ‰å…ƒç´ </td></tr><tr><td><code>boolean contains(Object o)</code></td><td>åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </td></tr><tr><td><code>boolean containsAll(Collection&lt;?&gt; c)</code></td><td>åˆ¤æ–­é›†åˆæ˜¯å¦åŒ…å«å¦ä¸€ä¸ªé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ </td></tr><tr><td><code>boolean isEmpty()</code></td><td>åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</td></tr><tr><td><code>Iterator&lt;E&gt; iterator()</code></td><td>è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œç”¨äºéå†é›†åˆå…ƒç´ </td></tr><tr><td><code>boolean remove(Object o)</code></td><td>åˆ é™¤é›†åˆä¸­é¦–æ¬¡å‡ºç°çš„æŒ‡å®šå…ƒç´ </td></tr><tr><td><code>boolean removeAll(Collection&lt;?&gt; c)</code></td><td>åˆ é™¤é›†åˆä¸­ä¸æŒ‡å®šé›†åˆä¸­ç›¸åŒçš„æ‰€æœ‰å…ƒç´ </td></tr><tr><td><code>boolean retainAll(Collection&lt;?&gt; c)</code></td><td>ä»…ä¿ç•™é›†åˆä¸­ä¹ŸåŒ…å«åœ¨æŒ‡å®šé›†åˆä¸­çš„å…ƒç´ ï¼ˆäº¤é›†ï¼‰</td></tr><tr><td><code>int size()</code></td><td>è¿”å›é›†åˆä¸­å…ƒç´ çš„æ•°é‡</td></tr><tr><td><code>Object[] toArray()</code></td><td>è¿”å›ä¸€ä¸ªåŒ…å«é›†åˆä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç»„</td></tr><tr><td><code>&lt;T&gt; T[] toArray(T[] a)</code></td><td>è¿”å›ä¸€ä¸ªåŒ…å«é›†åˆä¸­æ‰€æœ‰å…ƒç´ çš„æŒ‡å®šç±»å‹æ•°ç»„</td></tr></tbody></table><h2 id="listæ¥å£">Listæ¥å£</h2><p><img src="https://s21.ax1x.com/2025/04/30/pEHswkT.png" /></p><p><code>List</code>ä½œä¸ºä¸€ä¸ªæ¥å£ï¼Œä¹Ÿæ˜¯Collectionçš„å­æ¥å£ã€‚<code>Collection</code>å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•éƒ½å¯ä»¥ç»§ç»­ä½¿ç”¨ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸€äº›ç‰¹æœ‰çš„æ–¹æ³•ï¼š</p><table><thead><tr><th>æ–¹æ³•ç­¾å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>void add(int index, E element)</code></td><td>åœ¨æŒ‡å®šç´¢å¼•æ’å…¥å…ƒç´ </td></tr><tr><td><code>E get(int index)</code></td><td>è·å–æŒ‡å®šç´¢å¼•çš„å…ƒç´ </td></tr><tr><td><code>E set(int index, E element)</code></td><td>æ›¿æ¢æŒ‡å®šç´¢å¼•ä½ç½®çš„å…ƒç´ </td></tr><tr><td><code>E remove(int index)</code></td><td>åˆ é™¤æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ </td></tr><tr><td><code>int indexOf(Object o)</code></td><td>è¿”å›å…ƒç´ é¦–æ¬¡å‡ºç°çš„ç´¢å¼•</td></tr><tr><td><code>int lastIndexOf(Object o)</code></td><td>è¿”å›å…ƒç´ æœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼•</td></tr><tr><td><code>ListIterator&lt;E&gt; listIterator()</code></td><td>è·å–æ”¯æŒåŒå‘éå†çš„è¿­ä»£å™¨</td></tr><tr><td><code>ListIterator&lt;E&gt; listIterator(int index)</code></td><td>ä»æŒ‡å®šç´¢å¼•å¼€å§‹çš„ ListIterator</td></tr><tr><td><code>List&lt;E&gt; subList(int fromIndex, int toIndex)</code></td><td>è·å–å­åˆ—è¡¨ <code>[from, to)</code></td></tr></tbody></table><h2 id="setæ¥å£">Setæ¥å£</h2><p><code>Set</code>æ¥å£ä¹Ÿæ˜¯<code>Collection</code>çš„å­æ¥å£,ä½†æ˜¯å®ƒ<strong>æ²¡æœ‰é¢å¤–å®šä¹‰æ–°çš„æ–¹æ³•</strong>ã€‚</p><p><img src="https://s21.ax1x.com/2025/04/30/pEHsNmq.png" /></p><h2 id="mapæ¥å£">Mapæ¥å£</h2><p><code>Map</code>ä¸“é—¨ç”¨äºå­˜å‚¨é”®å€¼å¯¹ï¼Œå®ƒä¸<code>Collection</code>æ¥å£æ— ç›´æ¥å…³è”ï¼Œå¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><table><thead><tr><th>æ–¹æ³•ç­¾å</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>V put(K key, V value)</code></td><td>å°†æŒ‡å®šçš„é”®å€¼å¯¹æ’å…¥åˆ° Map ä¸­ï¼ˆè‹¥é”®å·²å­˜åœ¨åˆ™æ›´æ–°å€¼ï¼Œè¿”å›æ—§å€¼ï¼‰</td></tr><tr><td><code>V get(Object key)</code></td><td>æ ¹æ®é”®è·å–å¯¹åº”çš„å€¼</td></tr><tr><td><code>V remove(Object key)</code></td><td>æ ¹æ®é”®ç§»é™¤é”®å€¼å¯¹ï¼Œè¿”å›è¢«åˆ é™¤çš„å€¼</td></tr><tr><td><code>boolean containsKey(Object key)</code></td><td>åˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šé”®</td></tr><tr><td><code>boolean containsValue(Object value)</code></td><td>åˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šå€¼</td></tr><tr><td><code>int size()</code></td><td>è¿”å›é”®å€¼å¯¹æ•°é‡</td></tr><tr><td><code>boolean isEmpty()</code></td><td>åˆ¤æ–­ Map æ˜¯å¦ä¸ºç©º</td></tr><tr><td><code>void clear()</code></td><td>æ¸…ç©º Map ä¸­æ‰€æœ‰å†…å®¹</td></tr><tr><td><code>Set&lt;K&gt; keySet()</code></td><td>è¿”å›æ‰€æœ‰é”®çš„é›†åˆ</td></tr><tr><td><code>Collection&lt;V&gt; values()</code></td><td>è¿”å›æ‰€æœ‰å€¼çš„é›†åˆ</td></tr><tr><td><code>Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet()</code></td><td>è¿”å›æ‰€æœ‰é”®å€¼å¯¹çš„é›†åˆï¼ˆæ¯ä¸ª Entry æ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼‰</td></tr><tr><td><code>V putIfAbsent(K key, V value)</code></td><td>å¦‚æœé”®ä¸å­˜åœ¨ï¼Œåˆ™æ’å…¥é”®å€¼å¯¹ï¼ˆJDK 1.8+ï¼‰</td></tr></tbody></table><h1id="å¦‚ä½•å°†åˆ—è¡¨è½¬æ¢æˆç‰¹å®šç±»å‹çš„æ•°ç»„">å¦‚ä½•å°†åˆ—è¡¨è½¬æ¢æˆç‰¹å®šç±»å‹çš„æ•°ç»„</h1><h2 id="å¼•å…¥">å¼•å…¥</h2><p>å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">List&lt;ListNode&gt; TempList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>...<br>ListNode[] lists = TempList.toArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ListNode</span>[<span class="hljs-number">0</span>]);<br></code></pre></td></tr></table></figure><p><code>lists</code>æ˜¯ä¸€ä¸ªç”¨äºå­˜æ”¾<code>ListNode</code>æ•°æ®çš„æ•°ç»„ï¼Œ<code>Templist</code>æ˜¯ä¸€ä¸ªå­˜æ”¾<code>ListNode</code>å…ƒç´ çš„åˆ—è¡¨ã€‚æœ€åä¸€è¡Œä»£ç å®ç°äº†ä»<code>TempList</code>åˆ—è¡¨å‘æ•°ç»„çš„è½¬åŒ–ã€‚è¿™é‡Œçš„å…³é”®æ˜¯<code>toArray</code>æ–¹æ³•ï¼Œå®é™…ä¸Š<code>List</code>æ¥å£ä¸­å®šä¹‰äº†ä¸¤ä¸ª<code>toArray</code>æŠ½è±¡æ–¹æ³•ï¼Œä¸€ä¸ªç©ºå‚ä¸€ä¸ªæœ‰å‚ï¼Œå®šä¹‰åˆ†åˆ«å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">Object[] toArray();<br>&lt;T&gt; T[] toArray(T[] a);<br></code></pre></td></tr></table></figure><p>ä¸ºäº†ææ¸…æ¥šè¿™ä¸¤ä¸ªæ–¹æ³•å¦‚ä½•ä½¿ç”¨ï¼Œéœ€è¦å…ˆä»‹ç»ä¸€ä¸‹<code>runtime type</code>ï¼ˆè¿è¡Œæ—¶ç±»å‹ï¼‰å’Œ<code>compile type</code>ï¼ˆç¼–è¯‘æ—¶ç±»å‹ï¼‰ã€‚</p><h2 id="ç¼–è¯‘æ—¶ç±»å‹å’Œè¿è¡Œæ—¶ç±»å‹">ç¼–è¯‘æ—¶ç±»å‹å’Œè¿è¡Œæ—¶ç±»å‹</h2><p>è¿è¡Œæ—¶ç±»å‹ï¼ŒæŒ‡çš„æ˜¯å¯¹è±¡åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­çœŸå®çš„ç±»å‹ã€‚ä¹‹æ‰€ä»¥å¼ºè°ƒâ€œçœŸå®â€ï¼Œæ˜¯å› ä¸ºJavaä¸­çš„å¤šæ€ä½¿å¾—ç¼–è¯‘å™¨è®¤ä¸ºçš„ç±»å‹å’Œç¨‹åºè¿è¡Œæ—¶çš„ç±»å‹å¯èƒ½ä¸ä¸€æ ·ï¼Œä¾‹å¦‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Animal</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();<br></code></pre></td></tr></table></figure><p>æ‰€è°“<em>ç¼–è¯‘çœ‹å·¦è¾¹ï¼Œè¿è¡Œçœ‹å³è¾¹</em>ï¼Œ<code>a</code>çš„ç¼–è¯‘æ—¶ç±»å‹æ˜¯<code>Animal</code>ï¼Œè¿è¡Œæ—¶ç±»å‹æ˜¯<code>Dog</code>ã€‚</p><h2 id="javaæ ‡å‡†åº“æä¾›çš„æ³¨é‡Š">Javaæ ‡å‡†åº“æä¾›çš„æ³¨é‡Š</h2><p>å…ˆçœ‹ç©ºå‚æ–¹æ³•<code>Object[] toArray();</code>ï¼š</p><blockquote><p>æŒ‰ç…§æ­£ç¡®çš„é¡ºåºï¼ˆä»ç¬¬ä¸€ä¸ªåˆ°æœ€åä¸€ä¸ªï¼‰è¿”å›ä¸€ä¸ªåŒ…å«åŸåˆ—è¡¨ä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ã€‚</p><p>è¿”å›çš„æ•°ç»„æ˜¯â€œå®‰å…¨çš„â€ï¼Œæ„æ€å°±æ˜¯è¯´å®ƒä¸åŒ…å«ä»»ä½•å¯¹åŸåˆ—è¡¨çš„å¼•ç”¨ï¼Œæ˜¯å®Œå…¨ç‹¬ç«‹äºåŸåˆ—è¡¨çš„ã€‚ä½ å¯ä»¥æ”¾å¿ƒåœ°ä¿®æ”¹å®ƒï¼Œä¸ç”¨æ‹…å¿ƒä¼šå¯¹åŸåˆ—è¡¨äº§ç”Ÿä»»ä½•å½±å“ã€‚</p><p>è¿™ä¸ªæ–¹æ³•æ˜¯åŸºäºæ•°ç»„çš„ API å’ŒåŸºäºé›†åˆçš„ API ä¹‹é—´çš„æ¡¥æ¢ã€‚</p></blockquote><p><code>è¿”å›å€¼</code>:ä¸€ä¸ªä»¥æ­£ç¡®çš„é¡ºåºåŒ…å«åˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ çš„<code>Object</code>æ•°ç»„</p><p>è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼ç±»å‹å›ºå®šä¸º<code>Object[]</code>ï¼Œåœ¨å®é™…åº”ç”¨ä¸­éœ€è¦æ‰‹åŠ¨å¼ºè½¬æˆæˆ‘ä»¬éœ€è¦çš„ç±»å‹ï¼Œå¾ˆä¸æ–¹ä¾¿ã€‚äºæ˜¯å°±æœ‰äº†åé¢è¿™ä¸ªå¸¦å‚æ•°çš„æ–¹æ³•</p><hr /><p><code>&lt;T&gt; T[] toArray(T[] a);</code></p><blockquote><p>ç…§æ­£ç¡®çš„é¡ºåºï¼ˆä»ç¬¬ä¸€ä¸ªåˆ°æœ€åä¸€ä¸ªï¼‰è¿”å›ä¸€ä¸ªåŒ…å«åŸåˆ—è¡¨ä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ã€‚è¿”å›æ•°ç»„çš„è¿è¡Œæ—¶ç±»å‹ä¸æŒ‡å®šæ•°ç»„ç›¸åŒã€‚å¦‚æœè¯¥åˆ—è¡¨å¯ä»¥è£…å…¥æŒ‡å®šçš„æ•°ç»„ä¸­ï¼Œåˆ™ç›´æ¥æŠŠå®ƒæ”¾è¿›æ•°ç»„å¹¶è¿”å›ï¼›å¦åˆ™ï¼Œä¼šåˆ†é…ä¸€ä¸ªå…·æœ‰ä¸æŒ‡å®šæ•°ç»„ç›¸åŒè¿è¡Œæ—¶ç±»å‹çš„æ–°æ•°ç»„ï¼Œå…¶å¤§å°ç­‰äºåˆ—è¡¨çš„å¤§å°ã€‚</p><p>å¦‚æœæŒ‡å®šçš„æ•°ç»„æ¯”åŸåˆ—è¡¨éœ€è¦çš„ç©ºé—´è¿˜å¤§ï¼Œé‚£ä¹ˆç©ºç¼ºä½ç½®ä¼šè¢«èµ‹å€¼ä¸º<code>null</code>ã€‚ï¼ˆ<em>ä»…å½“</em>è°ƒç”¨è€…ç¡®è®¤åŸåˆ—è¡¨ä¸­ä¸åŒ…å«ä»»ä½•<code>null</code>å…ƒç´ æ—¶ï¼Œè¿™ä¸ªç‰¹æ€§æ‰æœ‰åŠ©äºåˆ¤æ–­åˆ—è¡¨çš„é•¿åº¦ï¼‰</p><p>å°±åƒ<code>toArray()</code>æ–¹æ³•ä¸€æ ·ï¼Œè¯¥æ–¹æ³•æ˜¯åŸºäºæ•°ç»„çš„ APIå’ŒåŸºäºé›†åˆçš„ APIä¹‹é—´çš„æ¡¥æ¢ã€‚æ­¤å¤–ï¼Œè¯¥æ–¹æ³•å…è®¸å¯¹è¾“å‡ºæ•°ç»„çš„è¿è¡Œæ—¶ç±»å‹è¿›è¡Œç²¾ç¡®çš„æ§åˆ¶ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹æˆ–è®¸å¯ä»¥èŠ‚çœå†…å­˜å¼€é”€ã€‚</p><p>å‡è®¾<code>x</code>æ˜¯ä¸€ä¸ªå·²çŸ¥åªåŒ…å«å­—ç¬¦ä¸²çš„åˆ—è¡¨ã€‚ä»¥ä¸‹ä»£ç å¯ä»¥ç”¨äºå°†åˆ—è¡¨è½¬å­˜åˆ°æ–°åˆ†é…çš„Stringæ•°ç»„ä¸­ï¼š</p><p><code>String[] y = x.toArray(new String[0]);</code></p><p>æ³¨æ„<code>toArray(new Object[0])</code>ä¸ä¸Šé¢çš„<code>toArray()</code>å®Œå…¨ç›¸åŒã€‚</p></blockquote><p><code>å‚æ•°</code>: <code>a</code>-æŒ‡å®šæ•°ç»„ï¼Œå¦‚æœè¶³å¤Ÿå¤§ï¼ŒåŸåˆ—è¡¨çš„å…ƒç´ å°†è¢«ç›´æ¥å­˜å…¥è¯¥æ•°ç»„ï¼›å¦åˆ™ï¼Œä¼šåˆ†é…ä¸€ä¸ªä¸ä¹‹ç›¸åŒè¿è¡Œç±»å‹çš„æ–°æ•°ç»„ã€‚</p><p><code>è¿”å›å€¼</code>: ä¸€ä¸ªåŒ…å«åˆ—è¡¨å…ƒç´ çš„æ•°ç»„</p><p><code>æŠ›å‡º</code>: <code>ArrayStoreException</code> -å¦‚æœæŒ‡å®šæ•°ç»„çš„è¿è¡Œæ—¶ç±»å‹ä¸æ˜¯æ¯ä¸€ä¸ªåˆ—è¡¨å…ƒç´ çš„çˆ¶ç±»å‹<br /><code>NullPointerException</code> - å¦‚æœæŒ‡å®šæ•°ç»„æ˜¯<code>null</code></p><hr /><p>Javaæ ‡å‡†åº“ä¸­ç»™å‡ºçš„è§£é‡Šå·²ç»éå¸¸è¯¦ç»†äº†ã€‚å¯¹äºå¼€å¤´å¤„çš„è¯­å¥<code>ListNode[] lists = TempList.toArray(new ListNode[0]);</code>ï¼Œå½¢å‚<code>new ListNode[0]</code>çš„ä¸»è¦ä½œç”¨æ˜¯<strong>ç¡®å®šè¿”å›æ•°ç»„çš„è¿è¡Œæ—¶ç±»å‹</strong>ï¼Œå®ƒä½œä¸ºæˆ‘ä»¬ç»™å‡ºçš„æŒ‡å®šæ•°ç»„ï¼Œå…¶å®¹é‡ä¸º0ï¼Œæ˜¾ç„¶æ˜¯ä¸å¤Ÿç”¨çš„ï¼Œæ‰€ä»¥ä¼šåˆ†é…ä¸€ä¸ªè¿è¡Œæ—¶ç±»å‹ä¸º<code>ListNode[]</code>çš„æ–°æ•°ç»„ï¼Œå…¶å®¹é‡ç­‰äºåˆ—è¡¨çš„å¤§å°ã€‚ç„¶åï¼ŒæŠŠè¿”å›çš„æ•°ç»„èµ‹ç»™ç›¸åŒç±»å‹çš„æ•°ç»„<code>lists</code>å°±æ²¡æœ‰ä»»ä½•é—®é¢˜äº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Java SE</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã‚µãƒãƒ¼ã‚¿ã‚¤ãƒ ãƒ¬ã‚³ãƒ¼ãƒ‰ ã˜ã‚“ã€€æ­Œè©</title>
    <link href="/2025/04/08/summertimerecord/"/>
    <url>/2025/04/08/summertimerecord/</url>
    
    <content type="html"><![CDATA[<style>p { font: 12pt Yu Mincho !important; }</style><p>ã“ã‚Œãå¤</p><p>ä½œè©/ä½œæ›²/ç·¨æ›²/Guitarï¼šã˜ã‚“</p><p>æ˜¨æ—¥ã‚‚ä»Šæ—¥ã‚‚æ™´å¤©ã§<br />å…¥é“é›²ã‚’è¦‹ã¦ã„ãŸ</p><p>æ€ ã„ãã‚‰ã„ã®å¿«æ™´ã <br />å¾ã€…ã«ç›®ã‚’é–‰ã˜ã¦</p><p>ã€Œãã‚Œã€ã¯ã©ã†ã‚‚ç°¡å˜ã«<br />æ€ã„å‡ºã›ã‚„ã—ãªã„æ§˜ã§</p><p>å¹´ã‚’å–ã£ãŸç¾çŠ¶ã«<br />æµ¸ã£ã¦ãŸã‚“ã ã‚ˆ</p><p>å¤§äººã¶ã£ãŸä½œæˆ¦ã§<br />ä¸æ€è­°ãªåˆå›³ç«‹ã¦ã¦</p><p>ã€Œè¡Œã“ã†ã‹ã€ä»Šæ—¥ã‚‚æˆ¦äº‰ã ã€<br />ç«‹ã¡å‘ã‹ã£ã¦ã€€æ‰‹ã‚’å–ã£ãŸ</p><p>ç†ä¸å°½ãªã‚“ã¦å½“ç„¶ã§<br />ä¸€äººã¼ã£ã¡ã€€å¼·ã„ã‚‰ã‚Œã¦</p><p>è¿·ã£ãŸåƒ•ã¯<br />æ†‚é¬±ã«ãªã‚Šãã†ã«ãªã£ã¦ã•</p><p>èƒŒé«˜è‰ã‚’åˆ†ã‘ã¦<br />æ»²ã‚€å¤ªé™½ç¨ã‚“ã§</p><p>å›ã¯ã•ã€ã“ã†è¨€ã£ãŸã‚“ã <br />ã€Œå­¤ç‹¬ã ã‹ã‚‰ã€ãŠã„ã§ã‚ˆã€</p><p>é¨’ãŒã—ã•ãŒãƒãƒƒã‚¯ã—ã¦<br />ç”Ÿã¾ã‚ŒãŸã€€æ„Ÿæƒ…ã•ãˆã‚‚</p><p>é ­ã«æµ®ã‹ã‚“ã§ã¯èã‚“ã </p><p>ã€Œå¹»ãªã®ã‹ãªï¼Ÿã€</p><p>ç§˜å¯†åŸºåœ°ã«é›†ã¾ã£ã¦<br />ã€Œæ¥½ã—ã„ã­ã€ã£ã¦å˜ç´”ã«</p><p>ã‚ã®é ƒã‚’æ€ã„å‡ºã—ã¦<br />è©±ã‚’ã—ã‚ˆã†</p><p>é£›è¡Œæ©Ÿé›²é£›ã‚“ã§è¡Œã£ã¦<br />ã€Œçœ©ã—ã„ã­ã€ã£ã¦æ³£ã„ã¦ã„ãŸ</p><p>å›ã¯ã©ã‚“ãªé¡”ã ã£ã‘</p><p>ãªãœã ã‚ã†</p><p>æ€ã„å‡ºã›ãªã„ãª</p><hr /><p>ç—›ã„ãã‚‰ã„ã«ç¾å®Ÿã¯ã€€è¶³æ—©ã«é§†ã‘æŠœã‘ãŸ</p><p>é¸ã‚“ã ä»Šæ—¥ã¯å¹³å‡¡ã§ã€€å´©ã‚Œãã†ã«ãªã‚‹æ—¥ã€…ã•</p><p>æ˜¨æ—¥ã‚‚ä»Šæ—¥ã‚‚å»¶é•·æˆ¦ã€€å¤§äººã ã£ã¦ã€€è‡†ç—…ã </p><p>ä»Šã«ãªã£ã¦ãªã‚“ã¨ãªãã€€æ°—ä»˜ã‘ãŸã¿ãŸã„ã ã‚ˆ</p><p>å»»ã‚‹ã‚»ã‚«ã‚¤ã®ã‚¤ãƒ‡ã‚¢ã€€æ¯ã‚Œã‚‹å¤ªé™½ã€€ç‚å¤©ä¸‹</p><p>é™½ç‚ãŒæºã‚‰ã„ã ã€€ã€Œå¿˜ã‚Œãªã„ã§ã€ã•ãã€é€²ã‚‚ã†ã€</p><p>ã‚‚ã©ã‹ã—ã•ä½•åº¦ã§ã‚‚ã€€æ˜æ—¥ã‚’å¤¢ã«è¦‹ã¦ã„ãŸ</p><p>æˆ»ã‚‰ãªã„ã€å…ˆã®ã‚ã‚‹ä¸–ç•Œã¸ã€€ã€Œåƒ•ãŸã¡ã§å¤‰ãˆã‚ˆã†ã€ ã€€ã€Œæ€ã„å‡ºã—ã¦ã€çµ‚ã‚ãŸã£ã¦ã€€ç§˜å¯†åŸºåœ°ã‚‚ã€å†’é™ºã‚‚ã€</p><p>ã‚ã®æ—¥ã«è¿·ã„è¾¼ã‚“ã ã€€è©±ã®äº‹ã‚‚</p><p>ä¸€äººã¼ã£ã¡ãŒé›†ã¾ã£ãŸã€€å­ä¾›ãŸã¡ã®ä½œæˆ¦ãŒã€€ã¾ãŸä»Šæ—¥ã‚‚å»»ã‚Šå‡ºã—ãŸ</p><p>ã€Œã¾ãŸã€ä½•å‡¦ã‹ã§ã€‚ã€</p><p>ã€Œæ¶¼ã—ã„ã­ã€ã£ã¦è¨€ã„åˆã£ãŸã€€å¤ç©ºã¯é€æ˜ã </p><p>æ³£ã‹ãªã„æ§˜ã«ã€å¸ã„è¾¼ã‚“ã§ã€€ã€Œã•ã‚ˆã†ãªã‚‰ã€ã—ã‚ˆã†</p><p>ç§˜å¯†åŸºåœ°ã«é›†ã¾ã£ã¦ã€€ç¬‘ã„åˆã£ãŸå¤ã®æ—¥ã«</p><p>ã€Œã¾ãŸä½•å‡¦ã‹ã§æ€ã„å‡ºã—ã¦ã€€å‡ºé€¢ãˆã‚‹ã‹ãªã€ã£ã¦</p><p>ä½•åº¦ã§ã‚‚ã€€æã“ã†</p>]]></content>
    
    
    <categories>
      
      <category>æ—¥è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Java SE(6)å¸¸ç”¨ç±»ä¸åŸºç¡€API</title>
    <link href="/2025/04/08/java6/"/>
    <url>/2025/04/08/java6/</url>
    
    <content type="html"><![CDATA[<h1 id="string">String</h1><p>ç‰¹æ€§ï¼šä¸å¯å˜ï¼Œåˆ›å»ºåä¸èƒ½æ”¹å˜å†…å®¹ï¼Œä»»ä½•ä¿®æ”¹å…¶å®æ˜¯åˆ›å»ºäº†æ–°å¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br><span class="hljs-type">String</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;hello&quot;</span>);<br></code></pre></td></tr></table></figure><p><code>String s1 = "hello";</code>ä½¿ç”¨<strong>å­—é¢é‡</strong>ï¼Œåœ¨å¸¸é‡æ± é‡Œåˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœæœ‰åŒæ ·çš„å­—é¢é‡ï¼Œä¼šå¤ç”¨ï¼Œæ•ˆç‡æ›´é«˜</p><p><code>String s2 = new String("hello");</code>ä½¿ç”¨newåœ¨å †å†…å­˜é‡Œåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œ</p><p><code>s1==s2</code>åˆ¤æ–­ä¸º<code>false</code>,<code>s1.equals(s2)</code>åˆ¤æ–­ä¸º<code>true</code></p><h2 id="stringçš„è¿æ¥æ“ä½œ">Stringçš„è¿æ¥æ“ä½œ</h2><p>å¸¸é‡+å¸¸é‡ = å¸¸é‡æ± ä¸­çš„å¸¸é‡</p><p>å¸¸é‡+å˜é‡ = å †ç©ºé—´ä¸­è¯¥å­—ç¬¦ä¸²å¯¹è±¡çš„åœ°å€</p><p><code>intern()</code>è¿”å›å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å¯¹åº”çš„åœ°å€ã€‚</p><p><code>concat()</code>å¿…ç„¶è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡</p><h2 id="å¸¸ç”¨æ–¹æ³•">å¸¸ç”¨æ–¹æ³•</h2><p><code>getBytes()</code>ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢æˆå­—èŠ‚æ•°ç»„ï¼Œå‚¨å­˜çš„æ•°å­—ä¸ç¼–ç æœ‰å…³ï¼Œéœ€è¦æŒ‡å®šç¼–ç æ–¹å¼ä½¿ç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">byte</span>[] bytes = str.getBytes(StandardCharsets.UTF_8);<br></code></pre></td></tr></table></figure><p>utf-8æˆ–gbkéƒ½å‘ä¸‹å…¼å®¹asciiã€‚</p><p><strong>è§£ç </strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">str1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(bytes, å­—ç¬¦é›†åç§°);<br></code></pre></td></tr></table></figure><hr /><p><code>indexOf</code>:æŸ¥æ‰¾æŸä¸ªå­—ç¬¦æˆ–å­å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²ä¸­<strong>ç¬¬ä¸€æ¬¡</strong>å‡ºç°çš„ä½ç½®ã€‚æ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å›-1</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> str.indexOf(String s);<br><span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> str.indexOf(<span class="hljs-type">char</span> ch);<br><span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> str.indexOf(String s, <span class="hljs-type">int</span> fromIndex);<br><span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> str.indexOf(<span class="hljs-type">char</span> ch, <span class="hljs-type">int</span> fromIndex);<br></code></pre></td></tr></table></figure><p>è®°å½•æŸä¸ªå­—ç¬¦ä¸²åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ¬¡æ•°ï¼šï¼ˆå¤æ‚åº¦å¤§ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-title function_">getSubStringCount</span><span class="hljs-params">(String str,String subStr)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><br>    <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> str.indexOf(subStr);<span class="hljs-comment">//ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•</span><br><br>    <span class="hljs-keyword">while</span>(index != -<span class="hljs-number">1</span>) &#123;<br>        count++;<br>        index = str.indexOf(subStr, index+subStr.length());<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> count;<br>&#125;<br></code></pre></td></tr></table></figure><h2id="stringstringbufferstringbuilder">String,StringBuffer,StringBuilder</h2><p>String:ä¸å¯å˜çš„å­—ç¬¦åºåˆ—ï¼›</p><p>StringBuffer:å¯å˜çš„å­—ç¬¦åºåˆ—ï¼›çº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä½</p><p>StringBuilder:å¯å˜çš„å­—ç¬¦åºåˆ—ï¼›çº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆç‡é«˜</p><p>ä»¥ä¸Šä¸‰è€…åº•å±‚å‡ä¸ºbyte[].</p><p>å¢:append</p><p>åˆ :delete(int start, int end)<br />deleteCharAt(int index)</p><p>æ”¹:replace(int start, int end, String str) setCharAt(int index, charc)</p><p>æŸ¥:charAt(inr index)</p><p>æ’:insert(int index, xx)</p><p>é•¿åº¦:length()</p><h1 id="æ—¥æœŸæ—¶é—´api">æ—¥æœŸæ—¶é—´API</h1><p>æ—§API</p><ol type="1"><li>currentTimeMillis():ä¸1970.1.1æ—¥0æ—¶0åˆ†0ç§’ä¹‹é—´çš„æ¯«ç§’æ•°</li><li>Date()ç±»</li><li>CalendaræŠ½è±¡ç±»</li></ol><p><strong>æ–°API</strong>ï¼š</p><p>æœ€å¸¸ç”¨çš„APIï¼š</p><table><thead><tr><th>ç±»å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>LocalDate</code></td><td>è¡¨ç¤ºæ—¥æœŸï¼ˆå¦‚ï¼š2025-04-09ï¼‰ï¼Œä¸å«æ—¶é—´å’Œæ—¶åŒº</td></tr><tr><td><code>LocalTime</code></td><td>è¡¨ç¤ºæ—¶é—´ï¼ˆå¦‚ï¼š12:30:45ï¼‰ï¼Œä¸å«æ—¥æœŸå’Œæ—¶åŒº</td></tr><tr><td><code>LocalDateTime</code></td><td>è¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´ï¼ˆå¦‚ï¼š2025-04-09T12:30:45ï¼‰ï¼Œä¸å«æ—¶åŒº</td></tr><tr><td><code>ZonedDateTime</code></td><td>è¡¨ç¤ºå¸¦æ—¶åŒºçš„æ—¥æœŸå’Œæ—¶é—´ï¼ˆå¦‚ï¼š2025-04-09T12:30:45+09:00[Asia/Tokyo]ï¼‰</td></tr><tr><td><code>Instant</code></td><td>è¡¨ç¤ºæ—¶é—´æˆ³ï¼Œç²¾ç¡®åˆ°çº³ç§’ï¼ˆä»1970-01-01T00:00:00Zå¼€å§‹ï¼‰ï¼ˆé‡å†™ä¸ºISO-8601æ ‡å‡†çš„å­—ç¬¦ä¸²ï¼‰</td></tr><tr><td><code>Duration</code></td><td>è¡¨ç¤ºä¸¤ä¸ªæ—¶é—´ä¹‹é—´çš„é—´éš”ï¼ˆå•ä½ï¼šç§’ã€çº³ç§’ï¼‰</td></tr><tr><td><code>Period</code></td><td>è¡¨ç¤ºä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„é—´éš”ï¼ˆå•ä½ï¼šå¹´ã€æœˆã€æ—¥ï¼‰</td></tr><tr><td><code>DateTimeFormatter</code></td><td>ç”¨äºæ ¼å¼åŒ–å’Œè§£ææ—¥æœŸæ—¶é—´</td></tr></tbody></table><h1 id="è‡ªå®šä¹‰ç±»çš„å¯¹è±¡çš„æ’åº">è‡ªå®šä¹‰ç±»çš„å¯¹è±¡çš„æ’åº</h1><h2 id="è‡ªç„¶æ’åºå®ç°comparableæ¥å£">1.è‡ªç„¶æ’åºï¼šå®ç°Comparableæ¥å£</h2><ol type="1"><li>å®šä¹‰ä¸€ä¸ªç±»å®ç°<code>Comparable</code>æ¥å£è¿™ä¸ªæ³›å‹æ¥å£</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Comparable</span>&lt;T&gt; &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * è¿”å›è´Ÿæ•°: å½“å‰å®ä¾‹æ¯”å‚æ•°oå°</span><br><span class="hljs-comment">     * è¿”å›0: å½“å‰å®ä¾‹ä¸å‚æ•°oç›¸ç­‰</span><br><span class="hljs-comment">     * è¿”å›æ­£æ•°: å½“å‰å®ä¾‹æ¯”å‚æ•°oå¤§</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(T o)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2" type="1"><li>å®ç°<code>public int compareTo(T o);</code>æ–¹æ³•ï¼ŒæŒ‡æ˜æ¯”è¾ƒçš„æ ‡å‡†</li><li>åˆ›å»ºå®ä¾‹ï¼Œè°ƒç”¨<code>Arrays.sort</code>æˆ–<code>compareTo</code>æ¯”è¾ƒå¤§å°ã€‚</li></ol><p>å®ç°compareToæ–¹æ³•ä¹‹åï¼Œ<code>Arrays.sort(arr)</code>çš„æ¯”è¾ƒæ ‡å‡†ä¹Ÿä¼šæ”¹å˜ã€‚</p><blockquote><p><code>Arrays.sort()</code> ä¼šè‡ªåŠ¨ä½¿ç”¨å…ƒç´ ç±»ä¸­å®šä¹‰çš„<code>compareTo()</code>æ–¹æ³•ï¼Œæ‰€ä»¥å½“ä½ é‡å†™äº†è¿™ä¸ªæ–¹æ³•ï¼Œæ’åºé€»è¾‘è‡ªç„¶ä¹Ÿéšä¹‹æ”¹å˜äº†ã€‚</p></blockquote><p>å®ä¾‹ï¼šè®©Personå¯¹è±¡æŒ‰ç…§åå­—æ’åº</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// sort</span><br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        Person[] ps = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>[] &#123;<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">61</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-number">88</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Lily&quot;</span>, <span class="hljs-number">75</span>),<br>        &#125;;<br>        Arrays.sort(ps);<br>        System.out.println(Arrays.toString(ps));<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparable</span>&lt;Person&gt; &#123;<br>    String name;<br>    <span class="hljs-type">int</span> score;<br>    Person(String name, <span class="hljs-type">int</span> score) &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.score = score;<br>    &#125;<br>    <span class="hljs-comment">//å®ç° compareTo æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(Person other)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.name.compareTo(other.name);<br>    &#125;<br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.name + <span class="hljs-string">&quot;,&quot;</span> + <span class="hljs-built_in">this</span>.score;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å®šåˆ¶æ’åº">2.å®šåˆ¶æ’åº</h2><p>é€‚ç”¨æƒ…å†µï¼š</p><ul><li>å…ƒç´ ç±»å‹æ²¡æœ‰å®ç°Comparableæ¥å£ï¼Œè€Œä¸”ä¸æ–¹ä¾¿ä¿®æ”¹ä»£ç </li><li>å®ç°äº†æ¥å£ï¼Œä½†æ˜¯ä»¥åä¸æƒ³ç”¨è¿™ä¸ªæ¯”è¾ƒæ–¹æ³•ï¼Œåˆä¸èƒ½å½±å“å·²æœ‰çš„ä½¿ç”¨</li></ul><ol type="1"><li>åˆ›å»ºä¸€ä¸ªå®ç°Comparatoræ¥å£çš„å®ç°ç±»A</li><li>ç±»Aè¦é‡å†™compareæ–¹æ³•</li><li>åˆ›å»ºå®ç°ç±»Açš„å®ä¾‹ï¼Œå¹¶ä¼ å…¥<code>Arrays.sort(arr,ç±»Açš„å®ä¾‹)</code></li></ol>]]></content>
    
    
    <categories>
      
      <category>Java SE</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã‚‚ã†ã˜ãå¤ãŒçµ‚ã‚ã‚‹ã‹ã‚‰ n-buna &amp;åˆéŸ³ãƒŸã‚¯ã€€æ­Œè©</title>
    <link href="/2025/04/07/%E3%82%82%E3%81%86%E3%81%98%E3%81%8D%E5%A4%8F%E3%81%8C%E7%B5%82%E3%82%8F%E3%82%8B%E3%81%8B%E3%82%89/"/>
    <url>/2025/04/07/%E3%82%82%E3%81%86%E3%81%98%E3%81%8D%E5%A4%8F%E3%81%8C%E7%B5%82%E3%82%8F%E3%82%8B%E3%81%8B%E3%82%89/</url>
    
    <content type="html"><![CDATA[<style>p { font: 12pt Yu Mincho !important; }</style><p>ã‚‚ã†ã˜ãå¤ãŒçµ‚ã‚ã‚‹ã‹ã‚‰</p><p>è©ï¼šn-buna</p><p>æ›²ï¼šn-buna</p><p>ç·¨æ›²ï¼šn-buna</p><p>æœã€€å°èª¬ã‚’èª­ã‚“ã </p><p>å›ã‚’å¾…ã£ã¦ã„ãŸ</p><p>å¤œã«ãªã£ã¦æ°—ãŒä»˜ã„ãŸ</p><p>èŠ±ç«ã®éŸ³</p><p>èŠ±æºã‚‰æ­Œã„ä»Šæ—¥è—ã‚’é£›ã°ã›</p><p>è²´æ–¹ã«èã“ãˆãªã„ã‚ˆã†ã«æ¶ˆãˆã¦</p><p>ãã‚Œã‚’è¨€ãˆãªã„åƒ•ã˜ã‚ƒè¨€ãˆãªã„ã‚ˆ</p><p>ä»Šã«å¤ãŒçµ‚ã‚ã£ã¦ãã‹ã‚‰</p><p><ruby>æ˜¼é¡”<rt>ã²ã‚‹ãŒãŠ</rt></ruby>ã€€é³¥å±…ã€€<ruby>é³³ä»™èŠ±<rt>ã»ã†ã›ã‚“ã‹</rt></ruby>ã€€ãƒã‚¹åœ</p><p>é™½ã®è½ã¡ã‚‹è¡—ã‚’æ­©ã„ã¦ã„ãŸ</p><p>ä»Šæ—¥ã‚‚ã¾ãŸ</p><p>æœã€€ãƒ©ã‚¸ã‚ªã‚’èã„ãŸå›ã‚’å¾…ã£ã¦ã„ãŸ</p><p>å¤œã«ãªã£ã¦æ°—ãŒä»˜ã„ãŸã“ã¨ã‚’è¦šãˆã¦ã„ã‚‹</p><p>æ˜¨æ—¥ã‚‚ãƒ”ã‚¢ãƒã‚’å¼¾ã„ãŸ</p><p>æœã‚’å¾…ã£ã¦ã„ã‚‹</p><p>å”„ã‚’æ­Œã£ã¦ã„ã‚‹</p><p>èŠ±è©©ã€€èª“ã„ã€€ä»Šæ—¥è—ã‚’é£›ã°ã›</p><p>è²´æ–¹ã«èã“ãˆãªã„ã‚ˆã†ã«å«ã¹</p><p>å¤¢ã‚’è¦‹ã‚Œãªã„åƒ•èŠ±å’²ã„ãŸ</p><p>çµ‚ã‚ã‚‹å¤ã‚ˆæ­¢ã¾ã£ã¦ã—ã¾ãˆ</p><p>ã‚¢ãƒ™ãƒªã‚¢ã€€å§‹ç™ºã€€çµ‚é›»è»Šã€€<ruby>ç·‘é’<rt>ã‚ãã—ã‚‡ã†</rt></ruby></p><p>è‰ã®é³´ãè¡—ã‚’æ­©ã„ã¦ã„ãŸ</p><p>ä»Šæ—¥ã‚‚ã¾ãŸ</p><p>æœã€ä»Šæ—¥ã‚‚é§…ã®è£</p><p>äººãŒç«‹ã£ã¦ã„ãŸ</p><p>å¤œã®è—ã«èŠ±ãŒå’²ã</p><p>çµµã‚’ãˆãŒã„ã¦ã„ãŸ</p><p>å¸°ã£ã¦ãƒ”ã‚¢ãƒã‚’å¼¾ã„ãŸ</p><p>å¤œã«ãªã£ã¦ã„ãŸ</p><p>å›ã‚’å¾…ã£ã¦ã„ãŸ</p><p>èŠ±è©©ã€€èª“ã„ã€€æ˜æ—¥è—ã‚’é£›ã°ã›</p><p>è²´æ–¹ãŒå±…ãŸããªã„ä»Šæ—¥ã‚’å«ã¹</p><p>å¤¢ãŒè¨€ãˆãªã„ã“ã¨ã«æ°—ãŒã¤ã„ãŸ</p><p>æµ…ã„å¤ã‚ˆã€€çµ‚ã‚ã£ã¦ãã‚Œã‚ˆ</p><p><ruby>æ˜¼é¡”<rt>ã²ã‚‹ãŒãŠ</rt></ruby>ã€€é³¥å±…ã€€<ruby>é³³ä»™èŠ±<rt>ã»ã†ã›ã‚“ã‹</rt></ruby>ã€€ãƒã‚¹åœ</p><p>å¤œãŒæ˜ã‘ãŸè¡—ã‚’æ­©ã„ã¦ã„ãŸ</p><p>ä»Šæ—¥ã‚‚ã¾ãŸ</p>]]></content>
    
    
    <categories>
      
      <category>æ—¥è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Java SE(5)å¼‚å¸¸å¤„ç†&amp;å¤šçº¿ç¨‹</title>
    <link href="/2025/04/06/java5/"/>
    <url>/2025/04/06/java5/</url>
    
    <content type="html"><![CDATA[<h1 id="å¼‚å¸¸">å¼‚å¸¸</h1><p>æŒ‡çš„æ˜¯ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå‡ºç°çš„éæ­£å¸¸æƒ…å†µï¼Œå¦‚æœä¸å¤„ç†æœ€ç»ˆä¼šå¯¼è‡´JVMçš„éæ­£å¸¸åœæ­¢ã€‚</p><p>ä¸€æ—¦å‘ç”ŸæŸç§å¼‚å¸¸Javaå°±åˆ›å»ºè¯¥å¼‚å¸¸ç±»å‹çš„å¯¹è±¡ï¼Œå¹¶ä¸”æŠ›å‡º(throw)ã€‚</p><p><strong>Error</strong>:javaè™šæ‹Ÿæœºæ— æ³•å¤„ç†çš„ä¸¥é‡é—®é¢˜ï¼Œä¸€èˆ¬ä¸ç¼–å†™é’ˆå¯¹æ€§çš„ä»£ç ã€‚ä¾‹å¦‚ï¼šæ ˆå†…å­˜æº¢å‡ºï¼Œå †å†…å­˜æº¢å‡ºã€‚</p><p><strong>Exception</strong>:å¼‚å¸¸å¤„ç†çš„æƒ…å†µï¼Œéœ€è¦é’ˆå¯¹æ€§çš„ä»£ç è¿›è¡Œå¤„ç†ã€‚</p><ul><li>ç¼–è¯‘æ—¶å¼‚å¸¸</li><li>è¿è¡Œæ—¶å¼‚å¸¸</li></ul><p>å¸¸è§çš„è¿è¡Œæ—¶å¼‚å¸¸ï¼šè§’æ ‡è¶Šç•Œå¼‚å¸¸ ç©ºæŒ‡é’ˆå¼‚å¸¸ ç±»åˆ«å¼‚å¸¸ è¾“å…¥ç±»å‹ä¸åŒ¹é…å¼‚å¸¸æ•°å­—æ ¼å¼åŒ–å¼‚å¸¸</p><p>ç¼–è¯‘æ—¶å¼‚å¸¸ï¼š<code>ClassNotFoundException</code><code>FileNotFoundException</code> <code>IOException</code></p><h2 id="å¤„ç†å¼‚å¸¸çš„æ–¹å¼">å¤„ç†å¼‚å¸¸çš„æ–¹å¼</h2><h3 id="try-catch-finally">1.try-catch-finally</h3><ol type="1"><li>ç¨‹åºåœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å‡ºç°å¼‚å¸¸ï¼Œå°±åˆ›å»ºè¯¥å¼‚å¸¸ç±»çš„å¯¹è±¡å¹¶æŠ›å‡ºï¼Œç„¶åè™šæ‹Ÿæœºå°±ç»ˆæ­¢ç¨‹åºã€‚</li><li>æ•è·å¼‚å¸¸å¯¹è±¡ï¼Œè¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œå¤„ç†åå¯ä»¥ç»§ç»­æ‰§è¡Œä»£ç </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-comment">// å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸çš„ä»£ç </span><br>    <span class="hljs-comment">//tryä¸­å£°æ˜çš„å˜é‡ä½œç”¨åŸŸåªåœ¨tryå†…éƒ¨</span><br>&#125; <span class="hljs-keyword">catch</span> (ExceptionType1 e1) &#123;<br>    <span class="hljs-comment">// å¼‚å¸¸ç±»å‹1çš„å¤„ç†ä»£ç </span><br>&#125; <span class="hljs-keyword">catch</span> (ExceptionType2 e2) &#123;<br>    <span class="hljs-comment">// å¼‚å¸¸ç±»å‹2çš„å¤„ç†ä»£ç </span><br>&#125; <span class="hljs-keyword">finally</span> &#123;<br>    <span class="hljs-comment">// å¯é€‰çš„ä»£ç ï¼Œæ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ</span><br>&#125;<br></code></pre></td></tr></table></figure><p><code>catch</code>ä¸­å¼‚å¸¸å¤„ç†çš„æ–¹å¼ï¼š</p><ol type="1"><li>è‡ªå·±ç¼–å†™è¾“å‡ºè¯­å¥</li><li><code>printStackTrace()</code>æ‰“å°å¼‚å¸¸çš„è¯¦ç»†ä¿¡æ¯ï¼ˆæ¨èï¼‰</li><li><code>getMessage()</code>è·å–å‘ç”Ÿå¼‚å¸¸çš„åŸå› </li></ol><ul><li>è¿è¡Œæ—¶å¼‚å¸¸ï¼šå¼€å‘æ—¶é€šå¸¸ä¸è¿›è¡Œæ˜¾å¼çš„å¤„ç†</li><li>ç¼–è¯‘æ—¶å¼‚å¸¸ï¼š<strong>å¿…é¡»</strong>è¿›è¡Œå¤„ç†ï¼Œå¦åˆ™ç¼–è¯‘ä¸é€šè¿‡</li></ul><p><code>fianlly</code>ï¼šæ— è®ºtryæˆ–catchä¸­æ˜¯å¦å­˜åœ¨ä»æœªè¢«å¤„ç†çš„å¼‚å¸¸ï¼Œfinallyä¸­çš„è¯­å¥éƒ½ä¸€å®šä¼šè¢«è¿è¡Œã€‚</p><p>åœ¨å¼€å‘ä¸­æœ‰ä¸€äº›èµ„æºä½¿ç”¨ä¹‹åå¿…é¡»æ˜¾å¼åœ°è¿›è¡Œå…³é—­ï¼Œ.closeæ”¾åœ¨finallyä¸­ã€‚</p><h3 id="throws">2.throws</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">someMethod</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> ExceptionType1, ExceptionType2 &#123;<br>    <span class="hljs-comment">// å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç </span><br>&#125;<br></code></pre></td></tr></table></figure><p>è¯¥æ–¹æ³•æœ¬èº«ä¸ä¼šå¤„ç†è¿™äº›å¼‚å¸¸ï¼Œäº¤ç»™è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„ä»£ç å»å¤„ç†ã€‚</p><p>å¯¹äºç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œå­ç±»é‡å†™çš„æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ä¸èƒ½æ¯”çˆ¶ç±»è¢«é‡å†™çš„æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸æ›´é«˜çº§ã€‚å¦‚æœçˆ¶ç±»æ²¡æŠ›å¼‚å¸¸ï¼Œåˆ™å­ç±»ä¹Ÿä¸èƒ½æŠ›ã€‚</p><ul><li>å¦‚æœä»£ç é‡æ¶‰åŠåˆ°äº†èµ„æºçš„è°ƒç”¨ï¼Œåˆ™å¿…é¡»è€ƒè™‘ä½¿ç”¨try-catch-finallyæ¥å¤„ç†ï¼Œä¿è¯ä¸å‡ºç°å†…å­˜æ³„æ¼ã€‚</li><li>å¦‚æœçˆ¶ç±»è¢«é‡å†™çš„æ–¹æ³•æ²¡æœ‰throwsï¼Œåˆ™å­ç±»åªèƒ½ä½¿ç”¨try-catch-finally</li></ul><h3 id="throw">3.throw</h3><p>å¯¹äºä¸æ»¡è¶³å®é™…åœºæ™¯ï¼Œä½†ä¸ç¬¦åˆç³»ç»Ÿè§„å®šçš„å¼‚å¸¸çš„é—®é¢˜ï¼Œæ‰‹åŠ¨æŠ›å‡ºå¯¹è±¡ã€‚</p><p>è¯­æ³•ï¼š <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionType</span>(<span class="hljs-string">&quot;é”™è¯¯ä¿¡æ¯&quot;</span>);<br></code></pre></td></tr></table></figure></p><p>å…¶ä¸­<code>ExceptionType</code>å¯ä»¥æ˜¯ç³»ç»Ÿè‡ªå¸¦çš„æ ‡å‡†å¼‚å¸¸ç±»ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªå®šä¹‰çš„å¼‚å¸¸ç±»ã€‚</p><p><strong>throwå’Œthrowsçš„åŒºåˆ«</strong>ï¼š</p><table><thead><tr><th><strong>åŠŸèƒ½</strong></th><th><strong><code>throw</code></strong></th><th><strong><code>throws</code></strong></th></tr></thead><tbody><tr><td><strong>ä½œç”¨</strong></td><td>ç”¨äºæ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸ã€‚</td><td>ç”¨äºå£°æ˜ä¸€ä¸ªæ–¹æ³•å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ã€‚</td></tr><tr><td><strong>ä½¿ç”¨ä½ç½®</strong></td><td>ç”¨äºæ–¹æ³•å†…éƒ¨ã€‚</td><td>ç”¨äºæ–¹æ³•å£°æ˜ä¸­ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</td></tr><tr><td><strong>åé¢è·Ÿçš„å†…å®¹</strong></td><td>åé¢è·Ÿä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ï¼ˆå¦‚ <code>new Exception()</code>ï¼‰ã€‚</td><td>åé¢è·Ÿå¼‚å¸¸ç±»å‹ï¼ˆå¦‚<code>IOException</code>ã€<code>FileNotFoundException</code>ï¼‰ã€‚</td></tr><tr><td><strong>æ˜¯å¦éœ€è¦å¤„ç†å¼‚å¸¸</strong></td><td>æŠ›å‡ºçš„å¼‚å¸¸å¿…é¡»ç”±è°ƒç”¨è¯¥æ–¹æ³•çš„ä»£ç æ¥å¤„ç†ã€‚</td><td>è°ƒç”¨æ–¹æ³•çš„ä»£ç å¿…é¡»å¤„ç†æˆ–å£°æ˜è¿™äº›å¼‚å¸¸ã€‚</td></tr></tbody></table><h1 id="å¤šçº¿ç¨‹">å¤šçº¿ç¨‹</h1><h2 id="ç¨‹åºè¿›ç¨‹ä¸çº¿ç¨‹">ç¨‹åºã€è¿›ç¨‹ä¸çº¿ç¨‹</h2><p>ç¨‹åº(program) è¿›ç¨‹(process) çº¿ç¨‹(thread)</p><ul><li><strong>ç¨‹åº</strong>ï¼šæˆ‘ä»¬å†™çš„ä»£ç /åº”ç”¨éƒ½å±äºç¨‹åºï¼Œæ˜¯ä¸€ä¸ªé™æ€çš„ä¸œè¥¿ï¼ŒåŒ…å«äº†è¦æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œåªæœ‰åœ¨è¿è¡Œæ—¶æ‰ä¼šå‘æŒ¥ä½œç”¨ï¼Œç›¸å½“äºèœè°±ã€‚</li><li><strong>è¿›ç¨‹</strong>ï¼šè¿è¡Œç¨‹åºæ—¶æ“ä½œç³»ç»Ÿä¼šä¸ºç¨‹åºåˆ†é…èµ„æºï¼Œè¿™æ—¶ç¨‹åºå°±å˜æˆäº†ä¸€ä¸ªè¿›ç¨‹ã€‚è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çš„â€œæ´»è·ƒâ€è¡¨ç°ï¼Œç›¸å½“äºçœ‹ç€èœè°±åšèœçš„å¨å¸ˆã€‚</li><li><strong>çº¿ç¨‹</strong>ï¼šè¿›ç¨‹ä¸­çš„æœ€å°æ‰§è¡Œå•å…ƒï¼Œè´Ÿè´£æ‰§è¡Œå…·ä½“çš„å‘½ä»¤ã€‚ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œå…±äº«è¿›ç¨‹çš„èµ„æºæ¯”å¦‚å†…å­˜ã€‚å¤šçº¿ç¨‹å¯ä»¥è®©ç¨‹åºåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚</li></ul><h2 id="åˆ›å»ºå’Œå¯åŠ¨çº¿ç¨‹">åˆ›å»ºå’Œå¯åŠ¨çº¿ç¨‹</h2><h3 id="æ–¹å¼ä¸€ç»§æ‰¿threadç±»">æ–¹å¼ä¸€ï¼šç»§æ‰¿Threadç±»</h3><ol type="1"><li>åˆ›å»ºä¸€ä¸ªç»§æ‰¿äºThreadç±»çš„å­ç±»</li><li>é‡å†™Threadç±»çš„run()ï¼Œè¡¥å……æ–¹æ³•ä½“</li><li>åˆ›å»ºå­ç±»çš„å¯¹è±¡</li><li>è°ƒç”¨start():1.å¯åŠ¨çº¿ç¨‹ 2.è°ƒç”¨å½“å‰çº¿ç¨‹çš„run()æ–¹æ³•</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PrintNumber</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) &#123;<br>            <span class="hljs-keyword">if</span>(i % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) &#123;<br>                System.out.println(<span class="hljs-string">&quot;i = &quot;</span> + i);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šä¸èƒ½è®©å·²ç»å¯åŠ¨çš„çº¿ç¨‹å†æ¬¡å¯åŠ¨ï¼Œå¦åˆ™æŠ¥å¼‚å¸¸<code>Exception in thread "main" java.lang.IllegalThreadStateException</code></p><p>è¦å¼€å¯å¦ä¸€ä¸ªçº¿ç¨‹éœ€è¦é‡æ–°åˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚</p><h3 id="æ–¹å¼äºŒå®ç°runnableæ¥å£">æ–¹å¼äºŒï¼šå®ç°Runnableæ¥å£</h3><p><em>Runnable.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@FunctionalInterface</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Runnable</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * Runs this operation.</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ol type="1"><li>åˆ›å»ºä¸€ä¸ªå®ç°Runnableæ¥å£çš„ç±»</li><li>å®ç°run()ï¼Œè¡¥å…¨æ“ä½œ</li><li>åˆ›å»ºå¯¹è±¡</li><li>å°†æ­¤å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’åˆ°Threadç±»çš„æ„é€ å™¨ä¸­ï¼Œåˆ›å»ºThreadå®ä¾‹</li><li>å®ä¾‹è°ƒç”¨start()</li></ol><p>ä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Runtest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">NumberPrint</span> <span class="hljs-variable">numberPrint</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NumberPrint</span>();<span class="hljs-comment">//åˆ›å»ºç±»çš„å®ç°å¯¹è±¡</span><br>        <span class="hljs-comment">/*Threadçš„å…¶ä¸­ä¸€ä¸ªæ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªRunnableæ¥å£ç±»å‹çš„å‚æ•°ï¼Œè€ŒNumberPrintç±»å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä¼ å…¥ã€‚</span><br><span class="hljs-comment">        * */</span><br><br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(numberPrint);<br>        thread.start();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">NumberPrint</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            System.out.println(Thread.currentThread().getName() + i);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>â‘£ä¹‹æ‰€ä»¥æˆç«‹ï¼Œæ˜¯å› ä¸ºThreadç±»æœ‰å¦‚ä¸‹æ„é€ å™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">Thread</span><span class="hljs-params">(Runnable task)</span> &#123;<br>    <span class="hljs-built_in">this</span>(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, task, <span class="hljs-number">0</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>å½¢å‚ä¸ºæ¥å£<code>Runnable</code>ç±»å‹ã€‚<code>Runnable</code>æ˜¯<code>Thread</code>ç±»å¯ä»¥æ¥å—çš„ç±»å‹ï¼Œè€Œ<code>numberPrint</code>å®ç°äº†<code>Runnable</code>æ¥å£ï¼Œå› æ­¤<code>Thread</code>ç±»å¯ä»¥æ¥å—<code>numberPrint</code>ç±»å‹çš„å¯¹è±¡ã€‚</p><p><code>Thread</code>ç±»å¹¶ä¸å…³å¿ƒå…·ä½“ä¼ å…¥çš„æ˜¯å“ªä¸€ä¸ªå®ç°<code>Runnable</code>æ¥å£çš„ç±»ï¼Œ<code>numberPrint</code>åªæ˜¯å…¶ä¸­çš„ä¸€ä¸ªå®ç°ã€‚</p><p><strong>å¤šæ€æ€§</strong>ä½“ç°åœ¨ï¼Œ<code>Thread</code>ç±»èƒ½å¤Ÿæ¥å—ä»»ä½•å®ç°äº†<code>Runnable</code>æ¥å£çš„å¯¹è±¡ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯å®ç°ç±»ä¸­çš„<code>run()</code>æ–¹æ³•ã€‚</p><h2 id="threadçš„å¸¸ç”¨æ–¹æ³•">Threadçš„å¸¸ç”¨æ–¹æ³•</h2><ul><li><code>start()</code>:å¯åŠ¨çº¿ç¨‹ï¼Œè°ƒç”¨çº¿ç¨‹çš„run()</li><li><code>run()</code>:å°†çº¿ç¨‹è¦æ‰§è¡Œçš„æ“ä½œå£°æ˜åœ¨run()ä¸­</li><li><code>currentThread()</code>:è·å–å½“å‰æ‰§è¡Œä»£ç å¯¹åº”çš„çº¿ç¨‹</li><li><code>getName()</code>:è·å–çº¿ç¨‹å</li><li><code>setName()</code>:è®¾ç½®çº¿ç¨‹å</li><li><code>sleep(long millis)</code>:Threadç±»çš„<strong>é™æ€</strong>æ–¹æ³•ï¼Œä½¿å½“å‰çº¿ç¨‹ç¡çœ æŒ‡å®šçš„æ¯«ç§’æ•°</li><li><code>yield()</code>:ä¸€æ—¦æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œåˆ™æç¤ºå½“å‰çº¿ç¨‹è®©å‡ºCPUèµ„æºï¼Œè®©å…¶ä»–åŒä¼˜å…ˆçº§çš„çº¿ç¨‹æœ‰æœºä¼šå…ˆæ‰§è¡Œï¼ˆå®ƒåªæ˜¯ä¸€ä¸ª<strong>æç¤º</strong>ï¼Œ<strong>ä¸èƒ½ä¿è¯</strong>å½“å‰çº¿ç¨‹å°±ä¸€å®šä¼šè¢«æŒ‚èµ·æˆ–å…¶ä»–çº¿ç¨‹å°±ä¸€å®šä¼šç«‹å³æ‰§è¡Œï¼‰ã€‚è°ƒç”¨è¯¥æ–¹æ³•çš„çº¿ç¨‹ä¼šï¼š<ul><li>å®é™…å¼€å‘ä¸­ï¼Œyield()<strong>å¾ˆå°‘ç”¨</strong>æ¥åšçº¿ç¨‹è°ƒåº¦æ§åˆ¶ï¼Œå› ä¸ºå®ƒè¡Œä¸ºä¸ç¡®å®šã€‚</li></ul></li><li><code>join()</code>:<strong>éé™æ€</strong>æ–¹æ³•ï¼Œç­‰æŒ‡å®šçº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œå†ç»§ç»­æ‰§è¡Œå½“å‰çº¿ç¨‹ã€‚ä¸€èˆ¬ç”¨äºmainç­‰å­çº¿ç¨‹æ‰§è¡Œå®Œï¼Œè€Œä¸ä¼šç”¨äºmainï¼Œå› ä¸ºmainçš„ç»“æŸé€šå¸¸å°±æ„å‘³ç€æ•´ä¸ªç¨‹åºçš„ç»“æŸã€‚</li><li><code>isAlive()</code>:åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦å­˜æ´»ã€‚</li></ul><h2 id="çº¿ç¨‹çš„ä¼˜å…ˆçº§">çº¿ç¨‹çš„ä¼˜å…ˆçº§</h2><p>çº¿ç¨‹ä¼˜å…ˆçº§ï¼ˆThread Priorityï¼‰æ˜¯ Javaä¸­ç”¨äºæç¤ºæ“ä½œç³»ç»Ÿè°ƒåº¦å™¨ï¼šå“ªä¸ªçº¿ç¨‹åº”è¯¥â€œæ›´é‡è¦â€ï¼Œ<strong>æ›´å¯èƒ½è·å¾— CPUæ—¶é—´ç‰‡å…ˆè¿è¡Œçš„</strong>ä¸€ç§æœºåˆ¶ã€‚</p><p><strong>çº¿ç¨‹ä¼˜å…ˆçº§æ˜¯å»ºè®®ï¼Œä¸æ˜¯å‘½ä»¤ï¼</strong>æ“ä½œç³»ç»Ÿå¯ä»¥å‚è€ƒï¼Œä¹Ÿå¯ä»¥æ— è§†å®ƒã€‚</p><ul><li>getPriority():è·å–çº¿ç¨‹çš„ä¼˜å…ˆçº§</li><li>setPriority():1~10</li><li>ä¼˜å…ˆçº§çš„ä¸‰ä¸ªå¸¸é‡ï¼š<ul><li>MIN_PRIORITY = 1;æœ€ä½ä¼˜å…ˆçº§</li><li>NORM_PRIORITY = 5;é»˜è®¤ä¼˜å…ˆçº§</li><li>MAX_PRIORITY = 10;æœ€é«˜ä¼˜å…ˆçº§</li></ul></li><li>å®é™…é¡¹ç›®ä¸­å¾ˆå°‘ç”¨ï¼Œä¸€èˆ¬ç”±æ“ä½œç³»ç»Ÿå†³å®šçº¿ç¨‹è°ƒåº¦ã€‚</li></ul><h2 id="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ">çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</h2><p>ç°æˆçš„ä¸åŒçŠ¶æ€è¢«å®šä¹‰åœ¨<code>Thread.java</code>çš„æšä¸¾ç±»ä¸­ã€‚è¿™äº›çŠ¶æ€æ˜¯Javaè™šæ‹Ÿæœºå±‚é¢å®šä¹‰çš„çŠ¶æ€ï¼Œä¸ä¸€å®šç­‰åŒäºæ“ä½œç³»ç»Ÿçš„çº¿ç¨‹çŠ¶æ€ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">State</span> &#123;<br><br>    NEW,<br><br>    RUNNABLE,<span class="hljs-comment">//å°±ç»ª+è¿è¡Œ,Ready+Running=Runnable</span><br><br>    BLOCKED,<span class="hljs-comment">//é˜»å¡ï¼ŒA thread that is blocked waiting for a monitor lock is in this state.</span><br><br>    WAITING,<span class="hljs-comment">//æ— é™æœŸç­‰å¾…</span><br><br>    TIMED_WAITING,<span class="hljs-comment">//é™æ—¶ç­‰å¾…</span><br><br>    TERMINATED;<span class="hljs-comment">//ç»ˆæ­¢</span><br>&#125;<br></code></pre></td></tr></table></figure><figure><img src="https://i.imgur.com/eTf0YbI.png" alt="çº¿ç¨‹çŠ¶æ€å›¾è§£" /><figcaption aria-hidden="true">çº¿ç¨‹çŠ¶æ€å›¾è§£</figcaption></figure><h2 id="çº¿ç¨‹çš„å®‰å…¨é—®é¢˜">çº¿ç¨‹çš„å®‰å…¨é—®é¢˜</h2><p>å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€èµ„æºæ—¶ï¼Œå¦‚æœéƒ½å¯¹èµ„æºæœ‰è¯»å’Œå†™çš„æ“ä½œï¼Œå¯èƒ½ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p><h3 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•</h3><ol type="1"><li><strong>åŒæ­¥ä»£ç å—</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">synchronized</span>(åŒæ­¥ç›‘è§†å™¨)&#123;<br>    <span class="hljs-comment">//éœ€è¦è¢«åŒæ­¥çš„ä»£ç ï¼Œå³æ“ä½œå…±äº«æ•°æ®çš„ä»£ç </span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>ä½œç”¨ï¼šéœ€è¦è¢«åŒæ­¥çš„ä»£ç ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹åœ¨æ“ä½œè¿™äº›ä»£ç çš„è¿‡ç¨‹ä¸­å…¶ä»–çº¿ç¨‹å¿…é¡»ç­‰å¾…ã€‚</li><li>åŒæ­¥ç›‘è§†å™¨ï¼Œä¿—ç§°é”(Lock)ã€‚å“ªä¸ªçº¿ç¨‹è·å–äº†é”ï¼Œå“ªä¸ªçº¿ç¨‹å°±èƒ½æ‰§è¡Œéœ€è¦è¢«åŒæ­¥çš„ä»£ç ã€‚</li><li>åŒæ­¥ç›‘è§†å™¨å¯ä»¥ä½¿ç”¨ä»»ä½•ä¸€ä¸ªç±»çš„å®ä¾‹å……å½“ã€‚å¤šä¸ªçº¿ç¨‹å¿…é¡»å…±ç”¨<strong>åŒä¸€ä¸ª</strong>åŒæ­¥ç›‘è§†å™¨ï¼Œæ˜¯å”¯ä¸€çš„ã€‚</li></ul><ol start="2" type="1"><li><strong>åŒæ­¥æ–¹æ³•</strong></li></ol><p>ç›´æ¥æŠŠæ–¹æ³•å£°æ˜ä¸ºåŒæ­¥æ–¹æ³•ã€‚ç›¸å½“äºåŒæ­¥ä»£ç å—çš„ç®€åŒ–å†™æ³•ã€‚</p><ul><li><code>synchronized</code>ï¼ˆå®ä¾‹æ–¹æ³•ï¼‰çš„åŒæ­¥ç›‘è§†å™¨æ˜¯thiså½“å‰å¯¹è±¡</li><li><code>static synchronized</code>ï¼ˆé™æ€æ–¹æ³•ï¼‰çš„åŒæ­¥ç›‘è§†å™¨æ˜¯å½“å‰ç±»çš„classå¯¹è±¡</li></ul><p>synchronizedå¼Šç«¯ï¼šä¸²è¡Œæ‰§è¡Œï¼Œæ€§èƒ½ä¼šä½ä¸€äº›ã€‚</p><h3 id="çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰å¼">çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰å¼</h3><p>æ–¹å¼ä¸€ï¼šå£°æ˜ä¸ºåŒæ­¥æ–¹æ³•å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Bank</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Bank</span><span class="hljs-params">()</span>&#123;&#125;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">Bank</span> <span class="hljs-variable">bank</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> Bank <span class="hljs-title function_">getBank</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">/*ç›¸å½“äº</span><br><span class="hljs-comment">        synchronized (Bank.class) &#123;</span><br><span class="hljs-comment">            if(bank == null) &#123;</span><br><span class="hljs-comment">                bank = new Bank();</span><br><span class="hljs-comment">            &#125;</span><br><span class="hljs-comment">        &#125;</span><br><span class="hljs-comment">        */</span><br>        <span class="hljs-keyword">if</span>(bank == <span class="hljs-literal">null</span>) &#123;<br>            bank = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bank</span>();<br>        &#125;<br>        <span class="hljs-keyword">return</span> bank;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ–¹å¼äºŒï¼šåŒæ­¥ä»£ç å—ï¼Œä¸æ–¹å¼ä¸€ç­‰ä»·ã€‚</p><p>æ–¹å¼ä¸‰ï¼šé¿å…æŒ‡ä»¤é‡æ’çš„æ–¹å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Bank</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> <span class="hljs-type">Bank</span> <span class="hljs-variable">bank</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// åŠ  volatile é˜²æ­¢æŒ‡ä»¤é‡æ’</span><br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Bank</span><span class="hljs-params">()</span> &#123;&#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Bank <span class="hljs-title function_">getBank</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span> (bank == <span class="hljs-literal">null</span>) &#123; <span class="hljs-comment">// ç¬¬ä¸€æ¬¡æ£€æŸ¥</span><br>            <span class="hljs-keyword">synchronized</span> (Bank.class) &#123;<br>                <span class="hljs-keyword">if</span> (bank == <span class="hljs-literal">null</span>) &#123; <span class="hljs-comment">// ç¬¬äºŒæ¬¡æ£€æŸ¥</span><br>                    bank = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bank</span>();<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> bank;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ­»é”">æ­»é”</h2><p>ä¸¤ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œäº’ç›¸ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æºï¼Œç»“æœè°ä¹Ÿä¸é‡Šæ”¾ï¼Œè°ä¹Ÿæ— æ³•ç»§ç»­æ‰§è¡Œï¼Œç¨‹åºå°±â€œå¡ä½â€äº†ã€‚## Lock</p><p><code>import java.util.concurrent.locks.ReentrantLock;</code></p><ol type="1"><li>åˆ›å»ºLockçš„å®ä¾‹ï¼Œç¡®ä¿å¤šä¸ªçº¿ç¨‹å…±ç”¨ä¸€ä¸ªlockå®ä¾‹:<code>private final Lock mylock = new ReentrantLock();</code></li><li>æ‰§è¡Œlockæ–¹æ³•ï¼š<code>mylock.lock</code></li><li>è°ƒç”¨unlock()ï¼Œé‡Šæ”¾å¯¹å…±äº«æ•°æ®çš„é”å®šã€‚</li></ol><p>Lockæ›´åŠ çµæ´»ï¼Œæ¨èã€‚</p><h2 id="çº¿ç¨‹é—´çš„é€šä¿¡æœºåˆ¶">çº¿ç¨‹é—´çš„é€šä¿¡æœºåˆ¶</h2><p>å¸¸ç”¨æ–¹æ³•ï¼š</p><ul><li>wait():æ‰§è¡Œæ­¤æ–¹æ³•çš„çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œ<strong>åŒæ—¶ä¼šé‡Šæ”¾å¯¹åŒæ­¥ç›‘è§†å™¨çš„è°ƒç”¨</strong>ï¼Œè¿™ä¸€ç‚¹ä¸sleep()ä¸åŒã€‚â€œä¸å¹²äº†ï¼Œç­‰é€šçŸ¥â€</li><li>notify():ç”¨æ¥<strong>å”¤é†’ä¸€ä¸ªæ­£åœ¨ç­‰å¾…è¿™ä¸ªå¯¹è±¡é”çš„çº¿ç¨‹</strong>ã€‚è¿™ä¸ªçº¿ç¨‹å¿…é¡»æ˜¯å› ä¸º<code>wait()</code>æš‚åœçš„ï¼Œåˆ«çš„ä¸ä¼šå—å½±å“ï¼ˆåœ¨å¤šä¸ªçº¿ç¨‹å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œå”¤é†’ä¼˜å…ˆçº§æœ€é«˜çš„é‚£ä¸€ä¸ªï¼‰ã€‚â€œ<em>ä½ å¯ä»¥èµ·æ¥å¹²äº†</em>â€ã€‚è¢«å”¤é†’çš„çº¿ç¨‹ä»å½“åˆè¢«waitçš„ä½ç½®ç»§ç»­æ‰§è¡Œã€‚</li><li><strong>æ³¨æ„</strong>:wait()å’Œnotify()åœ¨è°ƒç”¨æ—¶éƒ½åº”å½“è®©åŒæ­¥ç›‘è§†å™¨(synchronized(obj)çš„obj)è°ƒç”¨ï¼Œå¦åˆ™æŠ¥<code>IllegalMonitorStateException</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">synchronized</span>(obj) &#123;<br>    obj.wait();<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>notifyAll():å”¤é†’æ‰€æœ‰è¢«waitçš„çº¿ç¨‹</li></ul><p>ä»¥ä¸Šä¸‰ä¸ªæ–¹æ³•<strong>å¿…é¡»</strong>ç”¨äº<strong>åŒæ­¥ä»£ç å—æˆ–åŒæ­¥æ–¹æ³•</strong>ä¸­ã€‚</p><p>ä¸åŒç‚¹ï¼š - å£°æ˜çš„ä½ç½®: - wait():å£°æ˜åœ¨Objectç±»ä¸­ -sleep()ï¼šå£°æ˜åœ¨Threadç±»ä¸­ï¼Œé™æ€çš„</p><ul><li>ä½¿ç”¨çš„åœºæ™¯ä¸åŒï¼š<ul><li>wait()ï¼šåªèƒ½ä½¿ç”¨åœ¨åŒæ­¥ä»£ç å—æˆ–åŒæ­¥æ–¹æ³•ä¸­</li><li>sleep():å¯ä»¥åœ¨ä»»ä½•éœ€è¦ä½¿ç”¨çš„åœºæ™¯</li></ul></li><li>ä½¿ç”¨åœ¨åŒæ­¥ä»£ç å—æˆ–åŒæ­¥æ–¹æ³•ä¸­ï¼š<ul><li>wait()ï¼šä¸€æ—¦æ‰§è¡Œï¼Œä¼šé‡Šæ”¾åŒæ­¥ç›‘è§†å™¨</li><li>sleep()ï¼šä¸€æ—¦æ‰§è¡Œï¼Œä¸ä¼šé‡Šæ”¾åŒæ­¥ç›‘è§†å™¨</li></ul></li><li>ç»“æŸé˜»å¡çš„æ–¹å¼ï¼š<ul><li>wait()ï¼šåˆ°è¾¾æŒ‡å®šæ—¶é—´è‡ªåŠ¨ç»“æŸé˜»å¡ æˆ– é€šè¿‡è¢«notifyå”¤é†’ï¼Œç»“æŸé˜»å¡</li><li>sleep():åˆ°è¾¾æŒ‡å®šæ—¶é—´è‡ªåŠ¨ç»“æŸé˜»å¡</li></ul></li></ul><h1 id="çº¿ç¨‹æ± ">çº¿ç¨‹æ± </h1><p>æå‰åˆ›å»ºå¥½å¤šä¸ªçº¿ç¨‹ï¼Œæ”¾å…¥çº¿ç¨‹æ± ä¸­ï¼Œä½¿ç”¨æ—¶ç›´æ¥è·å–ã€‚ä¸åœ¨javaåŸºç¡€çš„èŒƒå›´ä¹‹å†…</p>]]></content>
    
    
    <categories>
      
      <category>Java SE</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Java SE(4) é¢å‘å¯¹è±¡-é«˜çº§</title>
    <link href="/2025/04/01/java4/"/>
    <url>/2025/04/01/java4/</url>
    
    <content type="html"><![CDATA[<h1 id="å…³é”®å­—static">å…³é”®å­—static</h1><p><strong>ä½œç”¨</strong>ï¼šä½¿å¾—ç±»çš„æŸä¸€ä¸ªæˆå‘˜å˜é‡è¢«è¿™ä¸ªç±»çš„æ‰€æœ‰å®ä¾‹æ‰€å…±äº«ï¼ˆç±»å˜é‡ã€é™æ€å˜é‡ï¼‰ï¼Œä½¿å¾—æˆ‘ä»¬ä¸éœ€è¦åˆ›å»ºå¯¹è±¡å°±å¯ä»¥è°ƒç”¨æŸä¸ªæ–¹æ³•ï¼ˆç±»æ–¹æ³•ï¼‰ã€‚</p><p>é™æ€å˜é‡ï¼š</p><ul><li>åœ¨å†…å­˜ç©ºé—´ä¸­åªæœ‰ä¸€ä»½ï¼Œè¢«ç±»çš„å¤šä¸ªå˜é‡å…±äº«ã€‚</li><li>åœ¨JDK8ä¹‹å‰ï¼Œé™æ€å˜é‡å­˜å‚¨åœ¨æ–¹æ³•åŒº(MethodArea)ï¼›JDK8åŠä»¥åï¼Œç”±äºæ°¸ä¹…ä»£(PermGen)è¢«ç§»é™¤ï¼Œé™æ€å˜é‡å­˜å‚¨åœ¨å…ƒç©ºé—´(Metaspace)ã€‚</li><li>åœ¨ç±»åŠ è½½æ—¶å°±è¢«åˆå§‹åŒ–ï¼Œåˆ†é…å†…å­˜ï¼ŒåªåŠ è½½ä¸€æ¬¡ï¼Œæ•´ä¸ªç¨‹åºè¿è¡ŒæœŸé—´ä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°ç±»è¢«å¸è½½ã€‚</li></ul><table><thead><tr><th>ç±»åˆ«</th><th>å­˜å‚¨ä½ç½®</th><th>ç”Ÿå‘½å‘¨æœŸ</th><th>å½’å±</th></tr></thead><tbody><tr><td>é™æ€å˜é‡ï¼ˆstatic å˜é‡ï¼‰</td><td>æ–¹æ³•åŒºï¼ˆJDK 8+ ä¸ºå…ƒç©ºé—´ï¼‰</td><td>ç±»åŠ è½½æ—¶åˆ†é…ï¼Œç±»å¸è½½æ—¶é‡Šæ”¾</td><td>å±äºç±»ï¼Œæ‰€æœ‰å¯¹è±¡å…±äº«</td></tr><tr><td>å®ä¾‹å˜é‡</td><td>å †ï¼ˆHeapï¼‰</td><td>å¯¹è±¡åˆ›å»ºæ—¶åˆ†é…ï¼Œåƒåœ¾å›æ”¶æ—¶é‡Šæ”¾</td><td>å±äºå¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ç‹¬ç«‹å‰¯æœ¬</td></tr><tr><td>å±€éƒ¨å˜é‡</td><td>æ ˆï¼ˆStackï¼‰</td><td>æ–¹æ³•æ‰§è¡Œæ—¶åˆ†é…ï¼Œæ–¹æ³•ç»“æŸåé‡Šæ”¾</td><td>å±äºæ–¹æ³•ï¼Œåªèƒ½åœ¨å½“å‰æ–¹æ³•ä¸­è®¿é—®</td></tr></tbody></table><p>ç±»æ–¹æ³•ï¼š</p><ul><li>éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½</li><li>é™æ€æ–¹æ³•å†…å¯ä»¥è°ƒç”¨é™æ€çš„å±æ€§æˆ–é™æ€çš„æ–¹æ³•ï¼Œä¸å¯ä»¥è°ƒç”¨éé™æ€çš„ç»“æ„ã€‚</li><li><code>static</code>ä¿®é¥°çš„æ–¹æ³•å†…ä¸èƒ½ä½¿ç”¨<code>this</code>å’Œ<code>super</code>ï¼Œå› ä¸º<code>static</code>æ˜¯å±äº<strong>ç±»</strong>çš„ï¼Œè€Œ<code>this</code>å’Œ<code>super</code>ä»£è¡¨çš„æ˜¯å½“å‰å¯¹è±¡å’Œå½“å‰å¯¹è±¡çš„çˆ¶ç±»éƒ¨åˆ†ï¼Œä»–ä»¬éƒ½éœ€è¦ä¾èµ–äº<strong>å¯¹è±¡</strong>ã€‚åŒç†ï¼Œå°±ç®—å¯¹è±¡æ˜¯ä¸€ä¸ªç©ºæŒ‡é’ˆï¼Œä¹Ÿèƒ½æ­£å¸¸è°ƒç”¨é™æ€çš„å±æ€§å’Œæ–¹æ³•ï¼Œå› ä¸º<code>static</code>ä¸ä¾èµ–äºå¯¹è±¡ã€‚</li></ul><p>ä»€ä¹ˆæ—¶å€™éœ€è¦<code>static</code>ï¼Ÿ</p><ul><li>å½“å‰çš„å¤šä¸ªå®ä¾‹éœ€è¦å…±äº«æ­¤æˆå‘˜å˜é‡</li><li>ä¸€äº›å¸¸é‡ï¼Œæ¯”å¦‚PI</li></ul><p>ä»€ä¹ˆæ—¶å€™è¦ç”¨é™æ€æ–¹æ³•ï¼Ÿ</p><ul><li>æ–¹æ³•å†…è¦æ“ä½œçš„å˜é‡éƒ½æ˜¯é™æ€å˜é‡æ—¶</li><li>å·¥å…·ç±»ä¸­çš„æ–¹æ³•ï¼Œæ¯”å¦‚<code>Arrays</code>ï¼Œ<code>Math</code>ç±»</li></ul><h1 id="å•ä¾‹è®¾è®¡æ¨¡å¼">å•ä¾‹è®¾è®¡æ¨¡å¼</h1><p>å•ä¾‹(Singleton)è®¾è®¡æ¨¡å¼ï¼Œå³æ¯ä¸ªç±»åªèƒ½å­˜åœ¨ä¸€ä¸ªå®ä¾‹ï¼ˆå³åªèƒ½é€šè¿‡ç‰¹å®šæ–¹æ³•è·å–å®ä¾‹ï¼Œä¸å¯éšæ„åˆ›å»ºï¼‰ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹æ¥è·å–è¯¥å®ä¾‹ã€‚</p><h2 id="é¥¿æ±‰å¼eager">é¥¿æ±‰å¼(Eager)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Singleton</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Singleton</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Singleton</span>(); <span class="hljs-comment">// æå‰åˆ›å»ºå®ä¾‹</span><br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Singleton</span><span class="hljs-params">()</span> &#123;&#125; <span class="hljs-comment">// ç§æœ‰æ„é€ å™¨ï¼Œé˜²æ­¢å¤–éƒ¨åˆ›å»ºå®ä¾‹</span><br><br>    <span class="hljs-comment">//ä½¿ç”¨getteræ–¹æ³•è·å–å½“å‰å®ä¾‹</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singleton <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> instance;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>çº¿ç¨‹å®‰å…¨ï¼Œåœ¨ç±»åŠ è½½æ—¶å°±åˆ›å»ºå®ä¾‹ï¼Œä½†æ˜¯å ç”¨äº†ä¸€å®šå†…å­˜ï¼Œç”Ÿå‘½å‘¨æœŸè¿‡é•¿ã€‚</li><li>é€‚ç”¨äºå®ä¾‹åˆ›å»ºå¼€é”€å°ä¸”ä½¿ç”¨é¢‘ç¹çš„åœºæ™¯ã€‚</li></ul><h2 id="æ‡’æ±‰å¼lazy">æ‡’æ±‰å¼(Lazy)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Singleton</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Singleton instance;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Singleton</span><span class="hljs-params">()</span> &#123;&#125; <span class="hljs-comment">// ç§æœ‰æ„é€ å™¨ï¼Œé˜²æ­¢å¤–éƒ¨åˆ›å»ºå®ä¾‹</span><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singleton <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span> (instance == <span class="hljs-literal">null</span>) &#123; <span class="hljs-comment">// åªæœ‰åœ¨éœ€è¦æ—¶æ‰åˆ›å»º</span><br>            instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Singleton</span>();<br>        &#125;<br>        <span class="hljs-keyword">return</span> instance;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>å»¶è¿ŸåŠ è½½ï¼Œåœ¨éœ€è¦ä½¿ç”¨çš„æ—¶å€™å†åˆ›å»º</li><li>çº¿ç¨‹ä¸å®‰å…¨ï¼Œå¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨<code>getInstance()</code>ï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚</li></ul><h1 id="ç±»çš„æˆå‘˜ä»£ç å—">ç±»çš„æˆå‘˜ï¼šä»£ç å—</h1><p>Javaçš„ä»£ç å—å¯ä»¥åˆ†ä¸º<strong>æ™®é€šä»£ç å—ã€æ„é€ ä»£ç å—ã€é™æ€ä»£ç å—ã€åŒæ­¥ä»£ç å—</strong>ã€‚</p><table><thead><tr><th>ä»£ç å—ç±»å‹</th><th>å…³é”®å­—</th><th>è§¦å‘æ—¶æœº</th><th>æ‰§è¡Œæ¬¡æ•°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>æ™®é€šä»£ç å—</td><td><code>&#123;&#125;</code></td><td>ä»£ç è¿è¡Œåˆ°è¯¥å—æ—¶</td><td>å¤šæ¬¡</td><td>é™å®šå˜é‡ä½œç”¨åŸŸï¼Œæé«˜å¯è¯»æ€§</td></tr><tr><td>æ„é€ ä»£ç å—</td><td><code>&#123;&#125;</code>ï¼ˆç±»ä¸­ï¼Œä¸åœ¨æ–¹æ³•å†…ï¼‰</td><td>æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶</td><td>æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶æ‰§è¡Œ</td><td>åˆå§‹åŒ–å¯¹è±¡å…¬å…±å±æ€§ï¼Œé¿å…æ„é€ æ–¹æ³•é‡å¤ä»£ç </td></tr><tr><td>é™æ€ä»£ç å—</td><td><code>static &#123;&#125;</code></td><td>ç±»åŠ è½½æ—¶</td><td>åªæ‰§è¡Œä¸€æ¬¡</td><td>åˆå§‹åŒ–é™æ€å˜é‡ï¼Œæ‰§è¡Œç±»çº§åˆ«çš„åˆå§‹åŒ–</td></tr><tr><td>åŒæ­¥ä»£ç å—</td><td><code>synchronized &#123;&#125;</code></td><td>ä»£ç æ‰§è¡Œæ—¶</td><td>å¤šæ¬¡</td><td>çº¿ç¨‹åŒæ­¥ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨</td></tr></tbody></table><p>æ™®é€šä»£ç å—ä¹Ÿå¯ä»¥æ”¾åœ¨ç±»å†…æ–¹æ³•å¤–ï¼Œè¿™æ—¶ç”¨äºåˆå§‹åŒ–å±æ€§ã€‚æ‰§è¡Œé¡ºåºæ˜¯é™æ€ä»£ç å—-æ™®é€šä»£ç å—-æ„é€ å™¨-å…¶ä½™æ–¹æ³•ã€‚</p><p>ä»£ç å—çš„åŠ è½½é¡ºåº<strong>å…ˆäº</strong>æ„é€ å™¨ï¼ŒåŠŸèƒ½å¤§å·®ä¸å·®ï¼Œåˆå§‹åŒ–çš„æ“ä½œåœ¨æ„é€ å™¨é‡Œä¹Ÿå¯ä»¥å®ç°ã€‚</p><h1 id="ç±»çš„å±æ€§èµ‹å€¼">ç±»çš„å±æ€§èµ‹å€¼</h1><p><img src="https://i.imgur.com/0g6owHM.png" /></p><h1 id="å…³é”®å­—final">å…³é”®å­—final</h1><p><code>final</code>å¯ç”¨æ¥ä¿®é¥°ç±»ã€æ–¹æ³•ã€å˜é‡ã€‚</p><ol type="1"><li><code>final</code>ä¿®é¥°ç±»ï¼›è¡¨ç¤ºæ­¤ç±»ä¸èƒ½è¢«ç»§æ‰¿ã€‚ä¾‹å¦‚ï¼š<code>String</code><code>StringBuilder</code></li><li><code>final</code>ä¿®é¥°æ–¹æ³•ï¼šè¡¨ç¤ºæ­¤æ–¹æ³•ä¸èƒ½è¢«é‡å†™ã€‚ä¾‹å¦‚ï¼š<code>getClass()</code></li><li><code>final</code>ä¿®é¥°å˜é‡ï¼šæˆå‘˜å˜é‡æˆ–å±€éƒ¨å˜é‡ã€‚æ­¤æ—¶å˜é‡å…¶å®å°±å˜æˆäº†å¸¸é‡ï¼Œä¸€æ—¦èµ‹å€¼å°±ä¸å¯æ›´æ”¹ã€‚</li></ol><p><code>final</code>ä¿®é¥°æˆå‘˜å˜é‡å¯ä»¥æ˜¾å¼èµ‹å€¼ã€æ„é€ å™¨èµ‹å€¼ã€ä»£ç å—èµ‹å€¼ã€‚</p><p><code>final</code>ä¿®é¥°å±€éƒ¨å˜é‡ï¼šä¸€æ—¦èµ‹å€¼å°±ä¸å¯æ›´æ”¹ã€‚å½¢å‚/æ–¹æ³•å†…çš„å±€éƒ¨å˜é‡ã€‚</p><p><code>final</code>ä¸<code>static</code>æ­é…ï¼šæˆå‘˜å˜é‡ç§°ä¹‹ä¸º<strong>å…¨å±€å¸¸é‡</strong>ï¼Œä¾‹å¦‚<code>Math.PI</code></p><h1 id="abstract-class">Abstract Class</h1><p>æŠ½è±¡ç±»æ˜¯ Javaä¸­çš„ä¸€ç§ç‰¹æ®Šç±»ï¼Œ<strong>ä¸èƒ½è¢«å®ä¾‹åŒ–</strong>ï¼Œé€šå¸¸ç”¨ä½œ<strong>åŸºç±»</strong>ï¼Œç”¨äºå®šä¹‰é€šç”¨çš„è¡Œä¸ºå’Œç»“æ„ã€‚å®ƒå¯ä»¥åŒ…å«<strong>æŠ½è±¡æ–¹æ³•</strong>ï¼ˆæ²¡æœ‰æ–¹æ³•ä½“çš„æ–¹æ³•ï¼‰å’Œ<strong>å…·ä½“æ–¹æ³•</strong>ï¼ˆæœ‰æ–¹æ³•ä½“çš„æ–¹æ³•ï¼‰ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>    <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">makeSound</span><span class="hljs-params">()</span>; <span class="hljs-comment">// æŠ½è±¡æ–¹æ³•ï¼ˆæ— æ–¹æ³•ä½“ï¼‰</span><br>    <br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">sleep</span><span class="hljs-params">()</span> &#123; <span class="hljs-comment">// å…·ä½“æ–¹æ³•ï¼ˆæœ‰æ–¹æ³•ä½“ï¼‰</span><br>        System.out.println(<span class="hljs-string">&quot;Sleeping...&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>ä½¿ç”¨<code>abstract</code>å…³é”®å­—ã€‚</li><li>æŠ½è±¡ç±»å…¶å®æ˜¯åŒ…å«æ„é€ å™¨çš„ï¼Œå› ä¸ºå­ç±»å¯¹è±¡å®ä¾‹åŒ–æ—¶ï¼Œéœ€è¦è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ã€‚</li><li>æŠ½è±¡ç±»ä¸­å¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•ã€‚</li><li>å­ç±»å¿…é¡»é‡å†™æŠ½è±¡ç±»ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ä¹‹åæ‰èƒ½å®ä¾‹åŒ–ï¼Œå¦åˆ™å­ç±»ä»ç„¶æ˜¯æŠ½è±¡ç±»ã€‚</li></ul><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p><ul><li>å®šä¹‰ç»Ÿä¸€çš„æ¥å£ï¼Œè®©ä¸åŒçš„å­ç±»æä¾›å…·ä½“çš„å®ç°ã€‚æŠ½è±¡ç±»ä¸­åªæä¾›é€šç”¨çš„é€»è¾‘ï¼Œè‡³äºæ‰©å±•ç‰¹å®šçš„åŠŸèƒ½åˆ™äº¤ç»™å­ç±»çš„é‡å†™(Implement)ã€‚</li></ul><h1 id="æ¥å£">æ¥å£</h1><h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><p>æ¥å£(interface)çš„æœ¬è´¨æ˜¯ä¸€ç»„æ–¹æ³•çš„è§„èŒƒã€‚å…³é”®å­—ï¼š<code>interface</code>ï¼Œ</p><p>æ¥å£å†…éƒ¨çš„è¯´æ˜ï¼š</p><ul><li>å±æ€§ï¼šä¸èƒ½åŒ…å«å®ä¾‹å˜é‡ï¼Œä½†å¯ä»¥æœ‰ç”¨<code>public static final</code>ä¿®é¥°ï¼ˆé»˜è®¤è‡ªå¸¦ï¼‰ã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span>&#123;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span>;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">sleep</span><span class="hljs-params">()</span>;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">MAX_AGE</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;  <span class="hljs-comment">// ç­‰ä»·äº public static final int MAX_AGE = 100;</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ–¹æ³•ï¼šå£°æ˜æŠ½è±¡æ–¹æ³•ï¼Œä¿®é¥°ä¸º<code>public abstract</code>ï¼ˆå¯ä»¥çœç•¥ï¼Œé»˜è®¤è‡ªå¸¦ï¼‰ã€‚</li><li><strong>ä¸èƒ½æœ‰æ„é€ å™¨</strong>ï¼ˆæ¥å£<strong>ä¸èƒ½è¢«å®ä¾‹åŒ–</strong>ï¼‰ã€‚</li></ul><p><strong>æ¥å£ä¸ç±»çš„å…³ç³»</strong>ï¼šä½¿ç”¨<code>implements</code>å…³é”®å­—è®©ä¸€ä¸ªç±»å®ç°æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Animal</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;Dog is eating...&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sleep</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;Dog is sleeping...&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è§„åˆ™</strong>ï¼š</p><ol type="1"><li>ç±»å¿…é¡»å®ç°æ¥å£ä¸­çš„<strong>æ‰€æœ‰</strong>æ–¹æ³•ï¼Œå¦åˆ™å¿…é¡»å°†ç±»å®šä¹‰ä¸º<code>abstract</code>ã€‚</li><li>ä¸€ä¸ªç±»å¯ä»¥å®ç°<strong>å¤šä¸ªæ¥å£</strong>ï¼ˆä¸åƒç»§æ‰¿ï¼ŒJavaåªèƒ½å•ç»§æ‰¿ï¼‰ã€‚</li><li>ç±»å¯ä»¥åŒæ—¶ç»§æ‰¿å’Œå®ç°ï¼š<code>class A extends SuperA implements B,C&#123;&#125;</code></li></ol><p>æ¥å£ä¸æ¥å£å¯ä»¥å¤šç»§æ‰¿ï¼Œç±»åªèƒ½å•ç»§æ‰¿ã€‚</p><h2 id="æ¥å£çš„å¤šæ€æ€§">æ¥å£çš„å¤šæ€æ€§</h2><p><code>æ¥å£å å˜é‡å = new å®ç°ç±»</code> éå¸¸å¸¸ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Animal</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();<span class="hljs-comment">//å¤šæ€</span><br>        a.eat();<br>        a.sleep();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>åŒºåˆ†æŠ½è±¡ç±»å’Œæ¥å£</strong>ï¼š</p><ul><li>å…±æ€§ï¼šéƒ½å¯ä»¥å£°æ˜æŠ½è±¡æ–¹æ³•ï¼Œéƒ½ä¸èƒ½å®ä¾‹åŒ–</li><li>ä¸åŒï¼šæŠ½è±¡ç±»ä¸€å®šæœ‰æ„é€ å™¨ï¼Œæ¥å£æ²¡æœ‰æ„é€ å™¨ï¼›</li></ul><p>æ¥å£ä¸­å£°æ˜çš„é™æ€æ–¹æ³•ï¼ˆjava8å¼•å…¥ï¼‰åªèƒ½è¢«æ¥å£è°ƒç”¨ï¼Œä¸èƒ½è¢«å…¶å®ç°ç±»è°ƒç”¨ã€‚</p><p>ä»java8å¼€å§‹ï¼Œæ¥å£å¯ä»¥æœ‰<code>default</code>æ–¹æ³•ï¼Œå…è®¸æä¾›é»˜è®¤å®ç°ã€‚é»˜è®¤æ–¹æ³•å¯ä»¥è¢«å®ç°ç±»ç»§æ‰¿ï¼Œå¯ä»¥è¢«å®ç°ç±»é‡å†™ï¼Œä¸è¿‡åœ¨å¤šå®ç°æ—¶è¦æ³¨æ„é‡åé—®é¢˜ï¼ˆæ¥å£å†²çªï¼‰ï¼Œæ¥å£å†²çªæ—¶å¿…é¡»é‡å†™è¯¥æ–¹æ³•ã€‚</p><p>java9å…è®¸æ¥å£å®šä¹‰<strong>ç§æœ‰æ–¹æ³•</strong>ï¼Œåªåœ¨å†…éƒ¨ä½¿ç”¨ã€‚</p><h1 id="ç±»çš„æˆå‘˜å†…éƒ¨ç±»">ç±»çš„æˆå‘˜ï¼šå†…éƒ¨ç±»</h1><h2 id="æ¦‚è¿°-1">æ¦‚è¿°</h2><p><strong>å†…éƒ¨ç±»(innerClass)</strong>ï¼šæŸä¸ªç±»Açš„å†…éƒ¨è¿˜æœ‰ä¸€ä¸ªéƒ¨åˆ†éœ€è¦ä¸€ä¸ªå®Œæ•´çš„ç»“æ„Bæ¥æè¿°ï¼ŒBåªä¸ºAæœåŠ¡ï¼Œä¸åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚Aç§°ä¸ºå¤–éƒ¨ç±»ï¼ŒBç§°ä¸ºå†…éƒ¨ç±»ã€‚</p><p>ä¸¾ä¾‹ï¼š<code>Thread</code>ç±»å†…éƒ¨çš„<code>State</code>ç±»ï¼Œè¡¨ç¤ºçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><h2 id="åˆ†ç±»">åˆ†ç±»</h2><h3 id="æˆå‘˜å†…éƒ¨ç±»member-inner-class">1.æˆå‘˜å†…éƒ¨ç±»(Member InnerClass)</h3><ul><li>ç›´æ¥å£°æ˜åœ¨å¤–éƒ¨ç±»çš„é‡Œé¢ï¼Œå’Œæˆå‘˜å˜é‡ä¸€ä¸ªä½ç½®ã€‚<ul><li>ä½¿ç”¨staticä¿®é¥°çš„ï¼šé™æ€æˆå‘˜å†…éƒ¨ç±»</li><li>ä¸ä½¿ç”¨staticä¿®é¥°çš„ï¼šéé™æ€çš„æˆå‘˜å†…éƒ¨ç±»</li></ul></li><li>ä»ç±»çš„è§’åº¦çœ‹ï¼š<ul><li>å†…éƒ¨å¯ä»¥å£°æ˜ç±»åº”æœ‰çš„ç»“æ„</li><li>æ­¤å†…éƒ¨ç±»å¯ä»¥å£°æ˜çˆ¶ç±»ï¼Œå®ç°æ¥å£</li><li>å¯ä»¥ä½¿ç”¨finalä¿®é¥°</li><li>ä¹Ÿå¯ä»¥ä½¿ç”¨abstract</li></ul></li><li>ä»å¤–éƒ¨ç±»çš„æˆå‘˜çš„è§’åº¦ï¼š<ul><li>å†…éƒ¨å¯ä»¥è°ƒç”¨å¤–éƒ¨çš„ç»“æ„</li><li>å¯ä»¥ä½¿ç”¨4ç§æƒé™ä¿®é¥°ç¬¦</li><li>å¯ä»¥ä½¿ç”¨static</li></ul></li></ul><h3 id="å±€éƒ¨å†…éƒ¨ç±»local-inner-class">2.å±€éƒ¨å†…éƒ¨ç±»(Local InnerClass)</h3><ul><li>å£°æ˜åœ¨æ–¹æ³•å†…éƒ¨å†…ã€æ„é€ å™¨å†…æˆ–ä»£ç å—å†…çš„å†…éƒ¨ç±»<ul><li>åŒ¿åçš„æˆå‘˜å†…éƒ¨ç±»</li><li>éåŒ¿åçš„æˆå‘˜å†…éƒ¨ç±»</li></ul></li></ul><p><mark>åŒ¿åå†…éƒ¨ç±»çš„åˆ›å»º</mark></p><p>ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ObjectTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>()&#123;<span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªç»§æ‰¿äºObjectçš„åŒ¿åå­ç±»</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>                System.out.println(<span class="hljs-string">&quot;test&quot;</span>);<br>            &#125;<br>        &#125;.test();<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç å¯ä»¥æ— é”™è¯¯æ— è­¦å‘Šåœ°è¿è¡Œã€‚</p><h1 id="æšä¸¾ç±»">æšä¸¾ç±»</h1><h2 id="æ¦‚è¿°-2">æ¦‚è¿°</h2><p>æšä¸¾å±äº<strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>ï¼Œå…³é”®è¯ï¼š<code>enum</code>ï¼Œæšä¸¾é‡Œé¢å®šä¹‰çš„æ˜¯å·²ç»ç”Ÿæˆä¸”å›ºå®šä¸‹æ¥çš„å¯¹è±¡ï¼Œå®é™…ä¸Šæšä¸¾ä¸­çš„æ¯ä¸€ä¸ªæšä¸¾å€¼éƒ½æ˜¯ä¸€ä¸ª<code>public static final</code>å®ä¾‹ã€‚</p><blockquote><p>å½“æˆ‘ä»¬ä½¿ç”¨â€œenumâ€å®šä¹‰æšä¸¾ç±»å‹æ—¶ï¼Œå®è´¨ä¸Šæˆ‘ä»¬å®šä¹‰å‡ºæ¥çš„ç±»å‹ç»§æ‰¿è‡ªjava.lang.Enumç±»å‹ï¼Œè€Œæšä¸¾çš„æˆå‘˜å…¶å®å°±æ˜¯æˆ‘ä»¬å®šä¹‰çš„æšä¸¾ç±»å‹çš„ä¸€ä¸ªå®ä¾‹ï¼ˆInstanceï¼‰ï¼Œä»–ä»¬éƒ½è¢«é¢„è®¾ä¸ºfinalï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•æ”¹å˜ä»–ä»¬ï¼Œä»–ä»¬ä¹Ÿæ˜¯staticæˆå‘˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»å‹åç§°ç›´æ¥ä½¿ç”¨ä»–ä»¬ï¼Œå½“ç„¶æœ€é‡è¦çš„ï¼Œä»–ä»¬éƒ½æ˜¯å…¬å¼€çš„ï¼ˆpublicï¼‰ã€‚</p></blockquote><h2 id="enumçš„æ¯”è¾ƒ">enumçš„æ¯”è¾ƒ</h2><p>ä¸€èˆ¬æ¥è¯´å¼•ç”¨æ•°æ®ç±»å‹çš„ä¸­æ¯”è¾ƒè¦ä½¿ç”¨<code>.equals()</code>ï¼Œä½†æ˜¯<code>enum</code>ç±»å‹æ˜¯ä¾‹å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>==</code>ï¼Œè¿™æ˜¯å› ä¸ºæ¯ä¸ªæšä¸¾ç±»å‹çš„å¸¸é‡åœ¨JVMä¸­åªæœ‰å”¯ä¸€çš„ä¸€ä¸ªå®ä¾‹ï¼Œæ‰€ä»¥ä¸¤ç§æ¯”è¾ƒæ–¹æ³•éƒ½å®Œå…¨æ­£ç¡®ã€‚</p><h2 id="enumç±»å‹">enumç±»å‹</h2><p><code>enum</code>å®šä¹‰çš„ç±»å‹ä¸ä¸€èˆ¬çš„<code>class</code>æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œ<code>enum</code>å°±æ˜¯<code>class</code>ã€‚æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li><code>enum</code>ç»§æ‰¿è‡ª<code>java.lang.Enum</code>ï¼Œ<strong>ä¸å¯ä»¥æ˜¾å¼åœ°å®šä¹‰å…¶çˆ¶ç±»</strong>ï¼Œè€Œä¸”æ— æ³•è¢«ç»§æ‰¿ï¼›</li><li>æ— æ³•ä½¿ç”¨<code>new</code>åˆ›å»ºæ–°çš„æšä¸¾ï¼Œå› ä¸ºæšä¸¾ç±»å‹åœ¨ç¼–è¯‘æ—¶å°±å·²ç»å›ºå®šä¸‹æ¥ã€‚</li></ul><p>ä½¿ç”¨<code>enum</code>å…³é”®è¯åˆ›å»ºçš„æšä¸¾ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Color</span> &#123;<br>    RED, GREEN, BLUE;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸ä¸‹é¢è¿™ç§å†™æ³•åŸºæœ¬ç­‰ä»·ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Color</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span> &#123; <span class="hljs-comment">// ç»§æ‰¿è‡ªEnumï¼Œæ ‡è®°ä¸ºfinal class</span><br>    <span class="hljs-comment">// æ¯ä¸ªå®ä¾‹å‡ä¸ºå…¨å±€å”¯ä¸€:</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Color</span> <span class="hljs-variable">RED</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Color</span>();<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Color</span> <span class="hljs-variable">GREEN</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Color</span>();<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Color</span> <span class="hljs-variable">BLUE</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Color</span>();<br>    <span class="hljs-comment">// privateæ„é€ æ–¹æ³•ï¼Œç¡®ä¿å¤–éƒ¨æ— æ³•è°ƒç”¨newæ“ä½œç¬¦:</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Color</span><span class="hljs-params">()</span> &#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ˜¾ç„¶æ¯ä¸€ä¸ªæšä¸¾çš„å€¼éƒ½æ˜¯<code>enum</code>ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚æ—¢ç„¶æ˜¯å®ä¾‹ï¼Œå°±åº”å½“å¯ä»¥è°ƒç”¨æ–¹æ³•ï¼›å®é™…ä¸Š<code>Enum.java</code>ä¸­å·²ç»æä¾›äº†ä¸€äº›ç”¨äºæšä¸¾å€¼çš„æ–¹æ³•ã€‚</p><h2 id="enumçš„å¸¸ç”¨æ–¹æ³•">enumçš„å¸¸ç”¨æ–¹æ³•</h2><p><code>name()</code>:è¿”å›å¸¸é‡åï¼Œå®šä¹‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> String <span class="hljs-title function_">name</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> name;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>ordinal()</code>:è¿”å›å®šä¹‰çš„å¸¸é‡çš„å®šä¹‰çš„é¡ºåºï¼ˆæ•´å‹ï¼‰ï¼Œä»0å¼€å§‹è®¡æ•°ã€‚</p><p><code>values()</code>:æ•°ç»„å˜é‡ï¼Œå‚¨å­˜æšä¸¾ç±»æ‰€æœ‰å¯¹è±¡çš„ä¿¡æ¯ã€‚</p><h2 id="æšä¸¾ç±»å®ç°æ¥å£çš„æ“ä½œ">æšä¸¾ç±»å®ç°æ¥å£çš„æ“ä½œ</h2><ol type="1"><li>æšä¸¾ç±»å®ç°æ¥å£ï¼Œåœ¨æšä¸¾ç±»ä¸­å®ç°æ‰€éœ€æ–¹æ³•ï¼Œé€šè¿‡æšä¸¾ç±»çš„å¯¹è±¡è°ƒç”¨çš„æ˜¯<strong>åŒä¸€ä¸ª</strong>æ–¹æ³•ï¼ˆä¸æ™®é€šç±»ä¸€æ ·ï¼‰</li><li>è®©æ¯ä¸€ä¸ªæšä¸¾ç±»çš„å¯¹è±¡<strong>åˆ†åˆ«</strong>é‡å†™æ–¹æ³•ï¼ŒåŒ¿åçš„å†…éƒ¨ç±»ã€‚</li></ol><h1 id="æ³¨è§£annotation">æ³¨è§£(Annotation)</h1><p>å¸¸è§çš„Javaå†…ç½®æ³¨è§£ï¼š</p><p><code>@override</code>ç”¨äºæ£€æŸ¥é‡å†™æ–¹æ³•æ˜¯å¦å†™å¯¹ã€‚</p><p><code>@Deprecated</code>è¡¨ç¤ºæŸä¸ªç±»æˆ–æ–¹æ³•å·²ç»<strong>ä¸æ¨èä½¿ç”¨</strong>ï¼Œè°ƒç”¨æ—¶ä¼šæœ‰è­¦å‘Šæç¤ºã€‚è°ƒç”¨è¢«å®ƒæ ‡è®°çš„ç±»æˆ–æ–¹æ³•æ—¶ä¼šå‡ºç°åˆ é™¤çº¿ã€‚</p><p><code>@SuppressWarnings</code>å‘Šè¯‰ç¼–è¯‘å™¨<strong>å¿½ç•¥ç‰¹å®šç±»å‹çš„è­¦å‘Š</strong>ã€‚</p><p>æ¡†æ¶ = æ³¨è§£ + åå°„ + è®¾è®¡æ¨¡å¼</p><p>å…ƒæ³¨è§£ï¼šæ³¨è§£çš„æ³¨è§£</p><h1 id="åŒ…è£…ç±»">åŒ…è£…ç±»</h1><p>åŒ…è£…ç±»æ˜¯ä¸ºæ¯ç§åŸºæœ¬æ•°æ®ç±»å‹æä¾›çš„ä¸€ä¸ªå½¢å¼å°è£…ï¼Œè®©åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥åƒå¼•ç”¨æ•°æ®ç±»å‹ä¸€æ ·ä½¿ç”¨ã€‚</p><table><thead><tr><th>åŸºæœ¬ç±»å‹</th><th>åŒ…è£…ç±»</th></tr></thead><tbody><tr><td>int</td><td>Integer</td></tr><tr><td>double</td><td>Double</td></tr><tr><td>char</td><td>Character</td></tr><tr><td>boolean</td><td>Boolean</td></tr><tr><td>byte</td><td>Byte</td></tr><tr><td>short</td><td>Short</td></tr><tr><td>long</td><td>Long</td></tr><tr><td>float</td><td>Float</td></tr></tbody></table><p>åŒ…è£…ç±»å’Œå¯¹åº”çš„åŸºæœ¬æ•°æ®ç±»å‹çš„å†…å­˜åœ°å€ä¹Ÿä¸ä¸€æ ·ï¼š</p><p><img src="https://i.imgur.com/DIlCOZj.png" /></p><p><code>xxx.valueOf(...)</code><strong>æ‰‹åŠ¨</strong>å°†åŸºæœ¬æ•°æ®ç±»å‹è½¬åŒ–ä¸ºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œè¿”å›ä¸€ä¸ªå¼•ç”¨æ•°æ®ç±»å‹çš„æ–°å®ä¾‹ã€‚</p><ul><li><p>å·²ç»åˆ›å»ºçš„åŒ…è£…ç±»çš„å€¼å¯ä»¥ä¿®æ”¹å—ï¼Ÿ<strong>ä¸å¯ä»¥</strong>ï¼Œä¾‹å¦‚<code>Interger</code>æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œä¸€æ—¦è¢«åˆ›å»ºï¼Œå€¼ä¸å¯ä¿®æ”¹ã€‚</p></li><li><p><strong>è£…ç®±</strong>ï¼šBoxingï¼Œå°†ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¯¹åº”çš„åŒ…è£…ç±»å¯¹è±¡ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br><span class="hljs-type">Integer</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> Integer.valueOf(a);  <span class="hljs-comment">// æ‰‹åŠ¨è£…ç®±</span><br></code></pre></td></tr></table></figure></p></li><li><p><strong>è‡ªåŠ¨è£…ç®±</strong>ï¼šAutoboxingï¼ŒJava5å¼•å…¥ï¼Œç›´æ¥æŠŠåŸºæœ¬ç±»å‹èµ‹ç»™åŒ…è£…ç±»å˜é‡ï¼ŒJavaç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¸®ä½ è°ƒç”¨è£…ç®±çš„æ–¹æ³•ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br><span class="hljs-type">Integer</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> a;  <span class="hljs-comment">// è‡ªåŠ¨è£…ç®±ï¼šç›¸å½“äº Integer.valueOf(a)</span><br></code></pre></td></tr></table></figure></p></li></ul><h1 id="stringæ•°æ®ç±»å‹è½¬æ¢">Stringæ•°æ®ç±»å‹è½¬æ¢</h1><h2 id="åŸºæœ¬æ•°æ®ç±»å‹åŒ…è£…ç±»string">åŸºæœ¬æ•°æ®ç±»å‹ã€åŒ…è£…ç±»â€”â€”&gt;String</h2><ol type="1"><li>ç›´æ¥è°ƒç”¨<code>String xxx = String.valueOf(...);</code></li><li>ä¹Ÿå¯ä»¥<code>String = xxx + "";</code></li></ol><h2 id="stringåŸºæœ¬æ•°æ®ç±»å‹åŒ…è£…ç±»">Stringâ€”â€”&gt;åŸºæœ¬æ•°æ®ç±»å‹ã€åŒ…è£…ç±»</h2><p>è°ƒç”¨åŒ…è£…ç±»çš„é™æ€æ–¹æ³•<code>pasrsexxx</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;123&quot;</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> Integer.parseInt(s);<br></code></pre></td></tr></table></figure><h1 id="å¸¸é‡æ± æœºåˆ¶">å¸¸é‡æ± æœºåˆ¶</h1><p>ä¾‹å¦‚ï¼šè‡ªåŠ¨è£…ç®±ä½¿ç”¨çš„<code>valueOf()</code>æ–¹æ³•æœ‰ç¼“å­˜æœºåˆ¶ï¼Œ<code>Integer</code>ç¼“å­˜-128~127ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´æ‰ä¼šæ–°å»ºå¯¹è±¡ã€‚</p><p>Java ä¸­çš„â€œå¸¸é‡æ± (ConstantPool)â€æ˜¯ä¸€ç§<strong>ä¼˜åŒ–å†…å­˜ä½¿ç”¨å’Œæ‰§è¡Œæ•ˆç‡çš„æœºåˆ¶</strong>ã€‚å®ƒçš„æœ¬è´¨æ˜¯ä¸€ä¸ªç”¨äºå­˜æ”¾å¸¸é‡ï¼ˆå­—é¢é‡ã€ç¬¦å·å¼•ç”¨ç­‰ï¼‰çš„ç‰¹æ®Šå†…å­˜åŒºåŸŸï¼Œç›®çš„æ˜¯ä¸ºäº†é‡ç”¨ç›¸åŒçš„å€¼ï¼Œé¿å…é‡å¤åˆ›å»ºå¯¹è±¡ã€‚</p><h1 id="ideaå¸¸ç”¨å¿«æ·é”®">IDEAå¸¸ç”¨å¿«æ·é”®</h1><table><thead><tr><th>åŠŸèƒ½è¯´æ˜</th><th>å¿«æ·é”®</th></tr></thead><tbody><tr><td>æ™ºèƒ½æç¤º - <em>edit</em></td><td><code>Alt + Enter</code></td></tr><tr><td>æç¤ºä»£ç æ¨¡æ¿ - <em>insert live template</em></td><td><code>Ctrl + J</code></td></tr><tr><td>ä½¿ç”¨ xx å—ç¯ç»• - <em>surround with...</em></td><td><code>Ctrl + Alt + T</code></td></tr><tr><td>è°ƒå‡ºç”Ÿæˆ getter/setter/æ„é€ å™¨ç­‰ç»“æ„</td><td><code>Alt + Insert</code></td></tr><tr><td>è‡ªåŠ¨ç”Ÿæˆè¿”å›å€¼å˜é‡ - <em>introduce variable</em></td><td><code>Ctrl + Alt + V</code></td></tr><tr><td>å¤åˆ¶æŒ‡å®šè¡Œçš„ä»£ç  - <em>duplicate line</em></td><td><code>Ctrl + D</code></td></tr><tr><td>åˆ é™¤æŒ‡å®šè¡Œçš„ä»£ç  - <em>delete line</em></td><td><code>Ctrl + Y</code></td></tr><tr><td>åˆ‡æ¢åˆ°ä¸‹ä¸€è¡Œä»£ç ç©ºä½ - <em>start new line</em></td><td><code>Shift + Enter</code></td></tr><tr><td>åˆ‡æ¢åˆ°ä¸Šä¸€è¡Œä»£ç ç©ºä½ - <em>start new line before current</em></td><td><code>Ctrl + Alt + Enter</code></td></tr><tr><td>å‘ä¸Šç§»åŠ¨ä»£ç  - <em>move statement up</em></td><td><code>Ctrl + Shift + â†‘</code></td></tr><tr><td>å‘ä¸‹ç§»åŠ¨ä»£ç  - <em>move statement down</em></td><td><code>Ctrl + Shift + â†“</code></td></tr><tr><td>å‘ä¸Šç§»åŠ¨è¡Œ - <em>move line up</em></td><td><code>Alt + Shift + â†‘</code></td></tr><tr><td>å‘ä¸‹ç§»åŠ¨è¡Œ - <em>move line down</em></td><td><code>Alt + Shift + â†“</code></td></tr><tr><td>æŸ¥çœ‹æ–¹æ³•å‚æ•°æç¤º - <em>parameter info</em></td><td><code>Ctrl + P</code></td></tr><tr><td>é‡å†™çˆ¶ç±»çš„æ–¹æ³•</td><td><code>Ctrl + O</code></td></tr><tr><td>å®ç°æ¥å£çš„æ–¹æ³•</td><td><code>Ctrl + I</code></td></tr><tr><td>æŸ¥çœ‹ç»§æ‰¿æ ‘</td><td><code>Ctrl + H</code></td></tr><tr><td>ç±»çš„UMLå…³ç³»å›¾</td><td><code>Ctrl + Alt + U</code></td></tr><tr><td>å®šä½æŸè¡Œã€åˆ—</td><td><code>Ctrl + G</code></td></tr><tr><td>æœç´¢</td><td><code>Ctrl + F</code></td></tr><tr><td>æŸ¥æ‰¾æ›¿æ¢</td><td><code>Ctrl + R</code></td></tr><tr><td>å…¨é¡¹ç›®æœç´¢æ–‡æœ¬</td><td><code>Ctrl + Shift + F</code></td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>Java SE</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Java SE(3) é¢å‘å¯¹è±¡-ä¸­çº§</title>
    <link href="/2025/03/30/java3/"/>
    <url>/2025/03/30/java3/</url>
    
    <content type="html"><![CDATA[<h1 id="thiså…³é”®è¯">thiså…³é”®è¯</h1><p>ç”¨<code>this</code>å…³é”®è¯å¯ç”¨æ¥é¿å…å½¢å‚åå’Œå±æ€§å<strong>é‡å</strong>çš„é—®é¢˜ã€‚ç®€å•æ¥è¯´ï¼Œ<strong>å“ªä¸ªå¯¹è±¡è°ƒç”¨ï¼Œ<code>this</code>å°±æŒ‡å‘è¿™ä¸ªå¯¹è±¡</strong>ã€‚</p><p><code>this</code>è¿˜å¯ä»¥ç”¨æ¥<strong>è°ƒç”¨æ„é€ å™¨</strong>ï¼ˆå³æ„é€ æ–¹æ³•é‡è½½ï¼‰ï¼š</p><ul><li>å¿…é¡»æ˜¯æ„é€ æ–¹æ³•çš„<strong>ç¬¬ä¸€è¡Œ</strong></li><li>åœ¨ä¸€ä¸ªæ„é€ å™¨ä¸­æœ€å¤šå£°æ˜ä¸€ä¸ª<code>this(å½¢å‚åˆ—è¡¨)</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">This</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">This</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-built_in">this</span>(<span class="hljs-string">&quot;Unknown&quot;</span>,<span class="hljs-number">0</span>);<span class="hljs-comment">//æ­¤å¤„thisè°ƒç”¨äº†This()æ„é€ å™¨</span><br>        <span class="hljs-comment">//ç­‰ä»·äºï¼šthis.name = &quot;Unknown&quot;;this.age=0;</span><br>        System.out.println(<span class="hljs-string">&quot;This is the default constructor&quot;</span>);<br>    &#125;<br>    <br>    <span class="hljs-comment">//ä»¥ä¸‹ä¸ºthisè°ƒç”¨å±æ€§ï¼š</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">This</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span>  <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getInfo</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;name: &quot;</span> + name + <span class="hljs-string">&quot;, age: &quot;</span> + age;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>Getter</code>å’Œ<code>Setter</code>æ–¹æ³•çš„å¿«é€Ÿè°ƒç”¨ï¼š<code>alt + Insert</code>ã€‚</p><h1 id="é¢å‘å¯¹è±¡çš„ç»§æ‰¿æ€§">é¢å‘å¯¹è±¡çš„ç»§æ‰¿æ€§</h1><p>ç»§æ‰¿(inheritance)ï¼Œå…³é”®è¯ï¼š<code>extends</code>ï¼Œå­ç±»(subclass)ç»§æ‰¿çˆ¶ç±»(superclass)çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><h2 id="ä¼˜åŠ¿">ä¼˜åŠ¿</h2><ol type="1"><li>å‡å°‘ä»£ç å†—ä½™ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§</li><li>æ›´åˆ©äºåŠŸèƒ½çš„æ‰©å±•</li><li>ä¸ºå¤šæ€çš„ä½¿ç”¨åˆ›é€ äº†å‰æ</li><li>æè¿°äº‹ç‰©ä¹‹é—´çš„æ‰€å±å…³ç³»ï¼Œçˆ¶ç±»æ›´ä¸ºé€šç”¨</li><li>ç»§æ‰¿ä¸å½±å“çˆ¶ç±»çš„å°è£…æ€§</li></ol><h2 id="è¯­æ³•">è¯­æ³•</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>&#123;<br> <br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">A</span> &#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>Javaä¸­å£°æ˜çš„ç±»ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼çš„å£°æ˜å…¶çˆ¶ç±»ï¼Œåˆ™é»˜è®¤ç»§æ‰¿äº<code>java.lang.object</code></li><li>Javaåªæ”¯æŒå•ç»§æ‰¿ï¼Œä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œä¸€ä¸ªå­ç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»</li></ul><h2 id="protected-æƒé™ä¿®é¥°ç¬¦">protected æƒé™ä¿®é¥°ç¬¦</h2><p>å£°æ˜ä¸º protected çš„æˆå‘˜å¯ä»¥è¢«ä»¥ä¸‹èŒƒå›´è®¿é—®ï¼š</p><ol type="1"><li>åŒä¸€ä¸ªç±» âœ…ï¼ˆå½“ç„¶å¯ä»¥è®¿é—®ï¼‰</li><li>åŒä¸€ä¸ªåŒ…ä¸­çš„å…¶ä»–ç±» âœ…ï¼ˆåŒ…å†…å¯ä»¥è®¿é—®ï¼‰</li><li>å­ç±»ï¼ˆæ— è®ºæ˜¯å¦åœ¨åŒä¸€ä¸ªåŒ…ï¼‰ âœ…ï¼ˆç»§æ‰¿åå¯ä»¥è®¿é—®ï¼‰</li><li>ä¸åŒåŒ…ä¸­çš„éå­ç±» âŒï¼ˆä¸èƒ½è®¿é—®ï¼‰</li></ol><p>åº”ç”¨åœºæ™¯ï¼š</p><ul><li>ç”¨äºå­ç±»çš„ç»§æ‰¿ï¼Œå­ç±»å¯ä»¥è®¿é—®<code>protected</code>çš„æ–¹æ³•å’Œå˜é‡ã€‚</li></ul><h1 id="æ–¹æ³•çš„é‡å†™">æ–¹æ³•çš„é‡å†™</h1><p>æ–¹æ³•é‡å†™(override)æŒ‡çš„æ˜¯å­ç±»å¯¹ä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•è¿›è¡Œé‡æ–°å®ç°ï¼Œæä¾›ä¸åŒçš„åŠŸèƒ½ã€‚</p><ul><li>å¿…é¡»å‘ç”Ÿåœ¨çˆ¶ç±»å’Œå­ç±»ä¹‹é—´</li><li>æ–¹æ³•åå’Œå‚æ•°åˆ—è¡¨å¿…é¡»ç›¸åŒ</li><li>å­ç±»çš„è®¿é—®æƒé™ä¸èƒ½æ¯”çˆ¶ç±»æ›´ä¸¥æ ¼ï¼Œä¸èƒ½é‡å†™<code>private</code>æ–¹æ³•</li><li>åªèƒ½é‡å†™éstaticæ–¹æ³•ï¼Œstaticæ–¹æ³•ä¸èƒ½è¢«é‡å†™</li><li>å¯ä½¿ç”¨<code>@Override</code>æ³¨è§£</li><li>å…³äºè¿”å›å€¼ç±»å‹ï¼š<br />çˆ¶ç±»voidï¼Œåˆ™é‡å†™å¿…é¡»void;<br />çˆ¶ç±»åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™å­ç±»é‡å†™å¿…é¡»ç›¸åŒæ•°æ®ç±»å‹ï¼›<br />çˆ¶ç±»å¼•ç”¨æ•°æ®ç±»å‹ï¼Œåˆ™å­ç±»çš„è¿”å›å€¼æ•°æ®ç±»å‹å¯ä»¥ç›¸åŒæˆ–æ˜¯å…¶å­ç±»</li></ul><p>åŒºåˆ†æ–¹æ³•çš„é‡è½½ä¸é‡å†™ï¼š</p><table><thead><tr><th>ç‰¹æ€§</th><th>æ–¹æ³•é‡å†™ï¼ˆOverrideï¼‰</th><th>æ–¹æ³•é‡è½½ï¼ˆOverloadï¼‰</th></tr></thead><tbody><tr><td><strong>å‘ç”ŸèŒƒå›´</strong></td><td>å­ç±»å’Œçˆ¶ç±»</td><td>åŒä¸€ä¸ªç±»</td></tr><tr><td><strong>æ–¹æ³•å</strong></td><td>å¿…é¡»ç›¸åŒ</td><td>å¿…é¡»ç›¸åŒ</td></tr><tr><td><strong>å‚æ•°åˆ—è¡¨</strong></td><td>å¿…é¡»ç›¸åŒ</td><td>å¿…é¡»ä¸åŒï¼ˆå‚æ•°ä¸ªæ•°æˆ–ç±»å‹ä¸åŒï¼‰</td></tr><tr><td><strong>è¿”å›å€¼ç±»å‹</strong></td><td>å¿…é¡»å…¼å®¹ï¼ˆå¯ä»¥æ˜¯åå˜è¿”å›ç±»å‹ï¼‰</td><td>å¯ä»¥ä¸åŒ</td></tr><tr><td><strong>è®¿é—®ä¿®é¥°ç¬¦</strong></td><td>ä¸èƒ½æ¯”çˆ¶ç±»æ›´ä¸¥æ ¼</td><td>æ²¡æœ‰é™åˆ¶</td></tr><tr><td><strong>å…³é”®å­—</strong></td><td>å¯ä»¥ä½¿ç”¨ <code>@Override</code></td><td>ä¸éœ€è¦ <code>@Override</code></td></tr></tbody></table><ul><li>å…³é”®è¯<code>super</code>å¯ä»¥åœ¨å­˜åœ¨é‡å†™çš„æƒ…å†µä¸‹è°ƒç”¨çˆ¶ç±»ä¸­çš„æ–¹æ³•ï¼Œæˆ–æ˜¯ç”¨æ¥åŒºåˆ†å­ç±»å’Œçˆ¶ç±»ä¸­åŒåçš„å±æ€§ã€‚</li><li>å­ç±»ä¸ä¼šç»§æ‰¿çˆ¶ç±»çš„æ„é€ å™¨ï¼Œ<code>super(å½¢å‚åˆ—è¡¨)</code>å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ï¼Œæ”¾åœ¨æ„é€ å™¨çš„<strong>é¦–è¡Œ</strong>ã€‚</li><li>å­ç±»æ„é€ å™¨é»˜è®¤éšå¼è°ƒç”¨çˆ¶ç±»çš„æ— å‚æ„é€ å™¨ï¼Œ<code>super()</code>ï¼Œ</li><li>è‹¥çˆ¶ç±»ä¸ºæœ‰å‚æ„é€ å™¨ï¼Œåˆ™å­ç±»å¿…é¡»ä¹Ÿæ˜¾å¼è°ƒç”¨çˆ¶ç±»çš„æœ‰å‚æ„é€ å™¨</li><li>å­ç±»ä¸­ä½¿ç”¨<code>this</code>è°ƒç”¨åŒä¸€ç±»ä¸­çš„å…¶ä»–æ„é€ å™¨ï¼Œç”¨<code>super</code>è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ï¼Œ<strong>äºŒè€…ä¸èƒ½å…±å­˜</strong></li></ul><h1 id="é¢å‘å¯¹è±¡çš„å¤šæ€æ€§">é¢å‘å¯¹è±¡çš„å¤šæ€æ€§</h1><p>å¤šæ€æ€§(Polymorphism)çš„ä½¿ç”¨å‰æï¼š 1. è¦æœ‰ç±»çš„ç»§æ‰¿å…³ç³» 2.è¦æœ‰æ–¹æ³•çš„<strong>é‡å†™</strong></p><p>å¤šæ€æ€§é€‚ç”¨äºæ–¹æ³•ï¼Œä¸é€‚ç”¨äºå±æ€§ã€‚</p><p>ç¼ºé™·ï¼šçˆ¶ç±»å¼•ç”¨çš„å­ç±»æ— æ³•è°ƒç”¨å­ç±»ç‰¹æœ‰çš„æ–¹æ³•ã€‚</p><p>å¦‚æœè¦åˆ¤æ–­æŸä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç±»çš„å®ä¾‹ï¼Œå¯ä»¥ç”¨<code>instanceof</code>å…³é”®å­—ï¼š<code>A instanceof B</code>ï¼Œç›´æ¥ç”¨äºæ¡ä»¶åˆ¤æ–­ã€‚</p><p>å¤šæ€å¯ä»¥é€šè¿‡å‘ä¸‹è½¬å‹æå–å‡ºå­ç±»ï¼Œä»è€Œå¯ä»¥è°ƒç”¨å­ç±»çš„æ–¹æ³•ã€‚åœ¨å‘ä¸‹è½¬å‹ä¹‹å‰ï¼Œå¯ä»¥ä½¿ç”¨<code>instanceof</code>è¿›è¡Œåˆ¤æ–­ï¼Œé¿å…å‡ºç°å¼‚å¸¸ã€‚</p><p>å¤šæ€çš„å¥½å¤„ï¼šå‡å°‘äº†å¤§é‡çš„é‡è½½çš„æ–¹æ³•çš„å®šä¹‰ï¼›å¼€é—­åŸåˆ™</p><h1 id="objectç±»">Objectç±»</h1><p><code>java.lang.Object</code>æ˜¯ç±»å±‚æ¬¡ç»“æ„çš„æ ¹ç±»ï¼Œæ˜¯æ‰€æœ‰å…¶ä»–ç±»çš„çˆ¶ç±»ã€‚</p><p><img src="https://i.imgur.com/aJ69aSq.png" /></p><p>é‡ç‚¹æ–¹æ³•ï¼š<code>equals()</code> <code>toStriung()</code><br />äº†è§£æ–¹æ³•ï¼š<code>clone()</code> <code>finalize()</code><br />å…¶ä»–ï¼š<code>getClass()</code> <code>hashCode()</code><code>notify()</code> <code>wait()</code></p><h2 id="equals">equals()</h2><ul><li>è‡ªå®šä¹‰çš„ç±»ï¼Œåœ¨æ²¡æœ‰é‡å†™Objectå’Œequals()æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œè°ƒç”¨çš„å°±æ˜¯Objectä¸­å£°æ˜çš„equals()ï¼Œå³æ¯”è¾ƒä¸¤ä¸ªå¼•ç”¨å¯¹è±¡çš„<strong>åœ°å€</strong>æ˜¯å¦ç›¸åŒ</li><li>å¯¹äº<code>String</code> <code>File</code><code>Date</code>å’ŒåŒ…è£…ç±»ç­‰ï¼Œéƒ½é‡å†™äº†Objectä¸­çš„equals()æ–¹æ³•ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å®ä½“<strong>å†…å®¹</strong>æ˜¯å¦ç›¸ç­‰ã€‚</li><li>é€šå¸¸éœ€è¦é‡å†™equals()ï¼Œä»¥ä¾¿æŒ‰ç…§å€¼ï¼ˆå†…å®¹ï¼‰è¿›è¡Œæ¯”è¾ƒï¼Œå¯ç”¨IDEAè‡ªåŠ¨ç”Ÿæˆã€‚</li></ul><p><strong>IDEAè‡ªåŠ¨ç”Ÿæˆçš„æ ¼å¼</strong>ï¼š</p><p>ä»¥Customerç±»ä¸ºä¾‹:</p><table><thead><tr><th>Customer</th></tr></thead><tbody><tr><td>- name: String</td></tr><tr><td>- age: int</td></tr><tr><td>- acct: Account</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Override</span> <span class="hljs-comment">//æ³¨è§£</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object o)</span> &#123; <span class="hljs-comment">//å£°æ˜</span><br>    <span class="hljs-keyword">if</span> (o == <span class="hljs-literal">null</span> || getClass() != o.getClass()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<span class="hljs-comment">//è‹¥å¯¹è±¡ä¸ºç©ºï¼Œæˆ–è€…ä¸å±äºåŒä¸€ä¸ªç±»ï¼Œåˆ™ç›´æ¥false</span><br>    <span class="hljs-type">Customer</span> <span class="hljs-variable">customer</span> <span class="hljs-operator">=</span> (Customer) o;<span class="hljs-comment">//åœ¨ç¡®å®šåŒç±»çš„æƒ…å†µä¸‹ï¼Œå‘ä¸‹è½¬å‹</span><br>    <span class="hljs-keyword">return</span> age == customer.age &amp;&amp; Objects.equals(name, customer.name) &amp;&amp; Objects.equals(acct, customer.acct);<br>    <span class="hljs-comment">//å¦‚æœä¸¤ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å…¨éƒ¨ç›¸åŒï¼Œåˆ™è¿”å›true</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="åŒºåˆ†å’Œequals">åŒºåˆ†<code>==</code>å’Œ<code>equals()</code></h3><p><code>==</code>ï¼šè¿ç®—ç¬¦</p><ol type="1"><li>é€‚ç”¨èŒƒå›´ï¼šåŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¼•ç”¨æ•°æ®ç±»å‹</li><li>åŸºæœ¬æ•°æ®ç±»å‹ï¼šåˆ¤æ–­æ•°æ®å€¼æ˜¯å¦ç›¸ç­‰</li><li>å¼•ç”¨æ•°æ®ç±»å‹ï¼šæ¯”è¾ƒä¸¤ä¸ªå¼•ç”¨å˜é‡åœ°å€å€¼æ˜¯å¦ç›¸ç­‰</li></ol><p><code>equals()</code>ï¼š</p><ol type="1"><li>åªèƒ½ç”¨äºå¼•ç”¨æ•°æ®ç±»å‹</li><li>å…·ä½“ä½¿ç”¨ï¼šè§ä¸Š</li></ol><h2 id="tostring">toString()</h2><p>Objectç±»ä¸­toStringçš„å®šä¹‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> getClass().getName() + <span class="hljs-string">&quot;@&quot;</span> + Integer.toHexString(hashCode());<br>&#125;<br></code></pre></td></tr></table></figure><p>å¼€å‘ä¸­çš„ä½¿ç”¨åœºæ™¯ï¼š</p><ul><li><code>System.out.println()</code>æ‰“å°çš„å…¶å®å°±æ˜¯å¯¹è±¡çš„<code>toString()</code></li></ul><p>å­ç±»ä½¿ç”¨è¯´æ˜ï¼š</p><ul><li>è‡ªå®šä¹‰çš„ç±»æ²¡æœ‰é‡å†™è¯¥æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤è¿”å›çš„æ˜¯å¯¹è±¡çš„åœ°å€å€¼ã€‚</li><li><code>String</code> <code>File</code><code>Date</code>ç­‰Objectçš„å­ç±»éƒ½é‡å†™äº†è¯¥æ–¹æ³•ï¼Œè°ƒç”¨æ—¶è¿”å›å½“å‰å¯¹è±¡çš„å®ä½“å†…å®¹ã€‚</li></ul><p>å¼€å‘ä½¿ç”¨è¯´æ˜ï¼š</p><ul><li>ä¹ æƒ¯ä¸Šï¼Œè‡ªå®šä¹‰çš„ç±»ä¼šé‡å†™toStringã€‚</li></ul><p>ä»ä»¥Customerç±»ä¸ºä¾‹ï¼Œè‡ªåŠ¨ç”Ÿæˆ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Customer&#123;&quot;</span> +<br>            <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>            <span class="hljs-string">&quot;, age=&quot;</span> + age +<br>            <span class="hljs-string">&quot;, acct=&quot;</span> + acct +<br>            <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java SE</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>vscodeå®ç”¨å¿«æ·é”®æ€»ç»“</title>
    <link href="/2025/03/29/vscode/"/>
    <url>/2025/03/29/vscode/</url>
    
    <content type="html"><![CDATA[<h3 id="è¡Œæ“ä½œ"><strong>ğŸ”¹ è¡Œæ“ä½œ</strong></h3><table><thead><tr><th><strong>æ“ä½œ</strong></th><th><strong>Windows / Linux</strong></th><th><strong>Mac</strong></th></tr></thead><tbody><tr><td><strong>äº¤æ¢å½“å‰è¡Œå’Œä¸Šä¸€è¡Œ</strong></td><td><code>Alt + â†‘</code></td><td><code>Option + â†‘</code></td></tr><tr><td><strong>äº¤æ¢å½“å‰è¡Œå’Œä¸‹ä¸€è¡Œ</strong></td><td><code>Alt + â†“</code></td><td><code>Option + â†“</code></td></tr><tr><td><strong>å¤åˆ¶å½“å‰è¡Œ</strong></td><td><code>Shift + Alt + â†“</code></td><td><code>Shift + Option + â†“</code></td></tr><tr><td><strong>åˆ é™¤å½“å‰è¡Œ</strong></td><td><code>Ctrl + Shift + K</code></td><td><code>Cmd + Shift + K</code></td></tr><tr><td><strong>åœ¨ä¸‹ä¸€è¡Œæ’å…¥ä¸€è¡Œ</strong></td><td><code>Ctrl + Enter</code></td><td><code>Cmd + Enter</code></td></tr><tr><td><strong>åœ¨ä¸Šä¸€è¡Œæ’å…¥ä¸€è¡Œ</strong></td><td><code>Ctrl + Shift + Enter</code></td><td><code>Cmd + Shift + Enter</code></td></tr></tbody></table><hr /><h3 id="é€‰ä¸­-ç¼–è¾‘"><strong>ğŸ”¹ é€‰ä¸­ &amp; ç¼–è¾‘</strong></h3><table><thead><tr><th><strong>æ“ä½œ</strong></th><th><strong>Windows / Linux</strong></th><th><strong>Mac</strong></th></tr></thead><tbody><tr><td><strong>é€‰ä¸­æ•´è¡Œ</strong></td><td><code>Ctrl + L</code></td><td><code>Cmd + L</code></td></tr><tr><td><strong>é€‰ä¸­å¤šä¸ªç›¸åŒå•è¯</strong></td><td><code>Ctrl + D</code></td><td><code>Cmd + D</code></td></tr><tr><td><strong>è·³è¿‡å½“å‰é€‰ä¸­ï¼Œé€‰ä¸­ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹</strong></td><td><code>Ctrl + K, Ctrl + D</code></td><td><code>Cmd + K, Cmd + D</code></td></tr><tr><td><strong>é€‰ä¸­æ‰€æœ‰åŒ¹é…é¡¹</strong></td><td><code>Ctrl + Shift + L</code></td><td><code>Cmd + Shift + L</code></td></tr><tr><td><strong>å±•å¼€é€‰ä¸­åŒºåŸŸ</strong></td><td><code>Shift + Alt + â†’</code></td><td><code>Shift + Option + â†’</code></td></tr><tr><td><strong>ç¼©å°é€‰ä¸­åŒºåŸŸ</strong></td><td><code>Shift + Alt + â†</code></td><td><code>Shift + Option + â†</code></td></tr></tbody></table><hr /><h3 id="å¤šå…‰æ ‡ç¼–è¾‘"><strong>ğŸ”¹ å¤šå…‰æ ‡ç¼–è¾‘</strong></h3><table><thead><tr><th><strong>æ“ä½œ</strong></th><th><strong>Windows / Linux</strong></th><th><strong>Mac</strong></th></tr></thead><tbody><tr><td><strong>æ·»åŠ å¤šä¸ªå…‰æ ‡</strong></td><td><code>Alt + ç‚¹å‡»</code></td><td><code>Option + ç‚¹å‡»</code></td></tr><tr><td><strong>åœ¨é€‰ä¸­åŒºåŸŸçš„æ¯ä¸€è¡Œæ·»åŠ å…‰æ ‡</strong></td><td><code>Shift + Alt + I</code></td><td><code>Shift + Option + I</code></td></tr><tr><td><strong>å…‰æ ‡å‘ä¸Šæ·»åŠ ä¸€ä¸ªå…‰æ ‡</strong></td><td><code>Ctrl + Alt + â†‘</code></td><td><code>Cmd + Option + â†‘</code></td></tr><tr><td><strong>å…‰æ ‡å‘ä¸‹æ·»åŠ ä¸€ä¸ªå…‰æ ‡</strong></td><td><code>Ctrl + Alt + â†“</code></td><td><code>Cmd + Option + â†“</code></td></tr></tbody></table><hr /><h3 id="ä»£ç æ ¼å¼-å…¶ä»–"><strong>ğŸ”¹ ä»£ç æ ¼å¼ &amp; å…¶ä»–</strong></h3><table><thead><tr><th><strong>æ“ä½œ</strong></th><th><strong>Windows / Linux</strong></th><th><strong>Mac</strong></th></tr></thead><tbody><tr><td><strong>æ ¼å¼åŒ–ä»£ç </strong></td><td><code>Shift + Alt + F</code></td><td><code>Shift + Option + F</code></td></tr><tr><td><strong>å¿«é€Ÿæ‰“å¼€æ–‡ä»¶</strong></td><td><code>Ctrl + P</code></td><td><code>Cmd + P</code></td></tr><tr><td><strong>æ‰“å¼€ç»ˆç«¯</strong></td><td><code>Ctrl + ~</code></td><td><code>Cmd + ~</code></td></tr><tr><td><strong>æŸ¥æ‰¾</strong></td><td><code>Ctrl + F</code></td><td><code>Cmd + F</code></td></tr><tr><td><strong>æ›¿æ¢</strong></td><td><code>Ctrl + H</code></td><td><code>Cmd + H</code></td></tr></tbody></table>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Java SE(2) é¢å‘å¯¹è±¡-åŸºç¡€</title>
    <link href="/2025/03/28/java2/"/>
    <url>/2025/03/28/java2/</url>
    
    <content type="html"><![CDATA[<h1 id="é¢å‘å¯¹è±¡çš„åŸºæœ¬æ¦‚å¿µ">é¢å‘å¯¹è±¡çš„åŸºæœ¬æ¦‚å¿µ</h1><p>ç±»ï¼ˆclassï¼‰å’Œå¯¹è±¡ï¼ˆobjectï¼‰æ˜¯é¢å‘å¯¹è±¡çš„æ ¸å¿ƒæ¦‚å¿µã€‚</p><p><strong>ç±»</strong>ï¼šå…·æœ‰ç›¸åŒç‰¹å¾çš„ä¸€å¤§ç±»äº‹ç‰©</p><p><strong>å¯¹è±¡</strong>ï¼šå®é™…å­˜åœ¨çš„è¯¥ç±»äº‹ç‰©çš„æ¯ä¸ªä¸ªä½“ï¼Œä¹Ÿè¢«ç§°ä¸ºå®ä¾‹ï¼ˆinstanceï¼‰ã€‚</p><p>é¢å‘å¯¹è±¡å†…å®¹çš„ä¸‰å¤§ä¸»çº¿ï¼š</p><ul><li>Javaç±»åŠç±»çš„æˆå‘˜ï¼šå±æ€§ï¼Œæ–¹æ³•ï¼Œæ„é€ å™¨ï¼›ä»£ç å—ã€å†…éƒ¨ç±»ã€‚</li><li>é¢å‘å¯¹è±¡çš„ç‰¹å¾ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€ï¼ˆæŠ½è±¡ï¼‰</li><li>å…¶ä»–å…³é”®è¯çš„ä½¿ç”¨ï¼šthis,super,package,import,static,final,interface,abstractç­‰</li></ul><p>ç±»ï¼Œæ˜¯ä¸€ç»„ç›¸å…³<strong>å±æ€§</strong>å’Œ<strong>è¡Œä¸º</strong>çš„é›†åˆï¼Œå±æ€§(field)å³æˆå‘˜å˜é‡ï¼Œè¡Œä¸ºå³æ–¹æ³•(method)ã€‚</p><h1 id="å†…å­˜ç»“æ„">å†…å­˜ç»“æ„</h1><ul><li>æ ˆï¼ˆstackï¼‰ï¼šæ–¹æ³•å†…å®šä¹‰çš„å˜é‡ï¼Œå‚¨å­˜åœ¨æ ˆä¸­</li><li>å †ï¼ˆheapï¼‰ï¼šnewåˆ›å»ºçš„ç»“æ„</li></ul><p>ä¾‹å¦‚ï¼š</p><p>åˆ›å»ºå•ä¸ªå¯¹è±¡ï¼š</p><p><img src="https://i.imgur.com/Q9v6R16.png" /></p><p>åˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼š</p><p><img src="https://i.imgur.com/IdTtXZe.png" /></p><h1 id="ç±»çš„æˆå‘˜å±æ€§">ç±»çš„æˆå‘˜ï¼šå±æ€§</h1><p>Field:å­—æ®µ/åŸŸ/æˆå‘˜å˜é‡</p><blockquote><p>Javaä¸­ï¼Œä¸€ä¸ªç±»åŒ…å«çš„å˜é‡è¢«ç§°ä¸ºå­—æ®µï¼ˆFieldï¼‰æˆ–æˆå‘˜å˜é‡ã€‚å½“è¿™äº›å˜é‡é€šè¿‡getter/setter æ–¹æ³•æš´éœ²æ—¶ï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºâ€œå±æ€§â€ï¼ˆPropertyï¼‰ã€‚</p></blockquote><p>å®ä¾‹å˜é‡ï¼šç±»çš„å¯¹è±¡æ‹¥æœ‰çš„å˜é‡ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„ä¸€ä»½ã€‚</p><p><strong>å˜é‡çš„åˆ†ç±»</strong>ï¼š</p><p>æŒ‰ç…§æ•°æ®ç±»å‹æ¥åˆ†ï¼šåŸºæœ¬æ•°æ®ç±»å‹ã€å¼•ç”¨æ•°æ®ç±»å‹</p><p>æŒ‰ç…§å£°æ˜çš„ä½ç½®æ¥åˆ†ï¼š</p><ul><li>åœ¨æ–¹æ³•ä½“å¤–ï¼Œç±»ä½“å†…å£°æ˜çš„å˜é‡ä¸º<strong>æˆå‘˜å˜é‡</strong></li><li>åœ¨æ–¹æ³•ä½“å†…éƒ¨ç­‰ä½ç½®å£°æ˜çš„å˜é‡ä¸º<strong>å±€éƒ¨å˜é‡</strong></li></ul><p><img src="https://i.imgur.com/xx6LrzF.png" /></p><p>æˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡åœ¨å†…å­˜ä¸­åˆ†é…çš„ä½ç½®ä¸åŒï¼š</p><ul><li>æˆå‘˜å˜é‡ï¼ˆå±æ€§ï¼‰å­˜å‚¨åœ¨å †ç©ºé—´</li><li>å±€éƒ¨å˜é‡å­˜å‚¨åœ¨æ ˆç©ºé—´</li></ul><p><strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼š</p><ul><li>å±æ€§åœ¨å¯¹è±¡åˆ›å»ºæ—¶åˆ†é…ï¼Œé”€æ¯æ—¶é‡Šæ”¾ã€‚</li><li>å±€éƒ¨å˜é‡éšç€æ–¹æ³•å¯¹åº”çš„æ ˆå¸§å…¥æ ˆï¼Œå‡ºæ ˆè€Œæ¶ˆäº¡ã€‚</li></ul><p><strong>æ˜¯å¦æœ‰é»˜è®¤å€¼</strong>ï¼šå±æ€§éƒ½æœ‰é»˜è®¤å€¼ï¼Œå±€éƒ¨å˜é‡éƒ½æ²¡æœ‰é»˜è®¤å€¼ï¼Œå¿…é¡»å…ˆèµ‹å€¼å†è°ƒç”¨ã€‚</p><p>å£°æ˜å˜é‡æ—¶ï¼Œ<code>static</code>å…³é”®å­—ç”¨<strong>äºé™æ€å˜é‡</strong>ï¼Œè®¿é—®æ—¶ä¸éœ€è¦åˆ›å»ºå¯¹è±¡ï¼Œæ‰€æœ‰å¯¹è±¡è®¿é—®çš„æ˜¯åŒä¸€ä¸ªå˜é‡ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> &#123;<span class="hljs-comment">//å£°æ˜</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>; <span class="hljs-comment">// é™æ€å˜é‡</span><br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        Example.num = <span class="hljs-number">20</span>; <span class="hljs-comment">// ç›´æ¥ç”¨ç±»åè®¿é—®</span><br>        <span class="hljs-type">Example</span> <span class="hljs-variable">obj1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Example</span>();<br>        <span class="hljs-type">Example</span> <span class="hljs-variable">obj2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Example</span>();<br>        System.out.println(obj1.num); <span class="hljs-comment">// 20</span><br>        System.out.println(obj2.num); <span class="hljs-comment">// 20ï¼ˆæ‰€æœ‰å¯¹è±¡è®¿é—®çš„æ˜¯åŒä¸€ä¸ªå˜é‡ï¼‰</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>é™æ€å˜é‡åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ä¸€ç›´å­˜åœ¨ï¼Œç±»åŠ è½½æ—¶åˆ†é…ï¼Œç¨‹åºç»“æŸæ—¶é‡Šæ”¾ã€‚</p><h1 id="ç±»çš„æˆå‘˜æ–¹æ³•">ç±»çš„æˆå‘˜ï¼šæ–¹æ³•</h1><p>ä½œç”¨ï¼šç±»ä¼¼Cè¯­è¨€çš„å‡½æ•°ï¼Œç®€åŒ–ä»£ç ã€‚</p><p>Javaçš„æ–¹æ³•<strong>ä¸èƒ½ç‹¬ç«‹å­˜åœ¨</strong>ï¼Œå¿…é¡»å®šä¹‰åœ¨ç±»é‡Œã€‚</p><h2 id="å£°æ˜çš„æ ¼å¼">1.å£°æ˜çš„æ ¼å¼</h2><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss">æƒé™ä¿®é¥°ç¬¦ <span class="hljs-selector-attr">[å…¶ä»–ä¿®é¥°ç¬¦]</span> è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å½¢å‚åˆ—è¡¨) <span class="hljs-selector-attr">[throws å¼‚å¸¸ç±»å‹]</span> &#123; <span class="hljs-comment">//æ–¹æ³•å¤´</span><br>    <span class="hljs-comment">//æ–¹æ³•ä½“</span><br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><strong>æƒé™ä¿®é¥°ç¬¦</strong>ï¼šprivate Â ç¼ºçœ Â protected Â public</p></blockquote><blockquote><p>å½¢å‚åˆ—è¡¨çš„æ ¼å¼ï¼š(ç±»å‹1 å½¢å‚1,ç±»å‹2 å½¢å‚2, ...)</p></blockquote><h2id="å¯¹è±¡è°ƒç”¨æ–¹æ³•æ—¶çš„å†…å­˜åˆ†é…æƒ…å†µ">2.å¯¹è±¡è°ƒç”¨æ–¹æ³•æ—¶çš„å†…å­˜åˆ†é…æƒ…å†µ</h2><p>åœ¨ Java ä¸­ï¼Œå½“å¯¹è±¡è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå†…å­˜ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š</p><ol type="1"><li>å †ï¼ˆHeapï¼‰ - å­˜æ”¾å¯¹è±¡å®ä¾‹å’Œå®ä¾‹å˜é‡ã€‚</li><li>æ ˆï¼ˆStackï¼‰ -å­˜æ”¾æ–¹æ³•è°ƒç”¨æ—¶çš„å±€éƒ¨å˜é‡ã€æ–¹æ³•æ‰§è¡Œç¯å¢ƒï¼ˆæ–¹æ³•å¸§ï¼‰ã€‚</li><li>æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰ -å­˜æ”¾ç±»çš„å­—èŠ‚ç ä¿¡æ¯ã€é™æ€å˜é‡ã€æ–¹æ³•å…ƒä¿¡æ¯ã€‚</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    String name; <span class="hljs-comment">// å®ä¾‹å˜é‡ï¼ˆå­˜æ”¾åœ¨å †å†…å­˜ï¼‰</span><br>    <br>    <span class="hljs-comment">// æ„é€ æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br>    <br>    <span class="hljs-comment">// å®ä¾‹æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sayHello</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">greeting</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Hello, &quot;</span> + name; <span class="hljs-comment">// å±€éƒ¨å˜é‡ï¼ˆå­˜æ”¾åœ¨æ ˆå†…å­˜ï¼‰</span><br>        System.out.println(greeting);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/***************************************************/</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Alice&quot;</span>); <span class="hljs-comment">// åˆ›å»ºå¯¹è±¡ï¼Œå­˜å…¥å †</span><br>        p1.sayHello(); <span class="hljs-comment">// è°ƒç”¨æ–¹æ³•</span><br>    &#125;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">* æ–¹æ³•è°ƒç”¨éµå¾ªâ€œå…ˆå…¥åå‡ºâ€çš„æ ˆè§„åˆ™</span><br><span class="hljs-comment">* mainå…¥æ ˆ-sayHelloå…¥æ ˆ-sayHelloå‡ºæ ˆ-mainå‡ºæ ˆ-ç¨‹åºç»“æŸï¼ŒJVMé€€å‡º</span><br><span class="hljs-comment">*/</span><br><br><br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong>ï¼š</p><ol type="1"><li>å¯¹è±¡ (<code>Person</code>) åˆ›å»ºåœ¨å †å†…å­˜ï¼Œå®ä¾‹å˜é‡(<code>name</code>) ä¹Ÿå­˜æ”¾åœ¨å †ã€‚</li><li>æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šåˆ›å»º<strong>æ ˆå¸§</strong>ï¼Œå±€éƒ¨å˜é‡å­˜å…¥æ ˆå†…å­˜ï¼Œæ–¹æ³•æ‰§è¡Œå®Œåè‡ªåŠ¨é‡Šæ”¾ã€‚</li><li>ç±»çš„å­—èŠ‚ç ä¿¡æ¯å­˜å‚¨åœ¨æ–¹æ³•åŒºï¼Œæ‰€æœ‰å¯¹è±¡å…±äº«ã€‚</li><li><code>p1</code> å˜é‡å­˜æ”¾åœ¨æ ˆå†…å­˜ï¼ŒæŒ‡å‘å †ä¸­çš„ <code>Person</code>å¯¹è±¡ã€‚</li></ol><h1 id="å¯¹è±¡æ•°ç»„">å¯¹è±¡æ•°ç»„</h1><p>å½“æ•°ç»„çš„å…ƒç´ æ˜¯å¼•ç”¨ç±»å‹çš„ç±»(class)æ—¶ï¼Œç§°ä¹‹ä¸ºå¯¹è±¡æ•°ç»„ã€‚</p><p>åˆ›å»ºæ–¹å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">ç±»å[] æ•°ç»„å = <span class="hljs-keyword">new</span> ç±»å[æ•°ç»„å¤§å°];<br></code></pre></td></tr></table></figure><h1 id="æ–¹æ³•çš„åº”ç”¨">æ–¹æ³•çš„åº”ç”¨</h1><h2 id="æ–¹æ³•çš„é‡è½½">1.æ–¹æ³•çš„é‡è½½</h2><p>æ–¹æ³•é‡è½½ï¼ˆMethodOverloadingï¼‰æŒ‡çš„æ˜¯åœ¨<strong>åŒä¸€ä¸ªç±»</strong>ä¸­ï¼Œ<strong>å¤šä¸ªæ–¹æ³•çš„åå­—ç›¸åŒï¼Œä½†å‚æ•°åˆ—è¡¨ä¸åŒ</strong>ï¼ˆå‚æ•°çš„ç±»å‹ã€ä¸ªæ•°æˆ–é¡ºåºä¸åŒï¼‰ã€‚</p><p>æ–¹æ³•çš„é‡è½½ä¸å½¢å‚åã€æƒé™ä¿®é¥°ç¬¦ã€è¿”å›å€¼çš„ç±»å‹éƒ½æ²¡æœ‰å…³ç³»ã€‚</p><p>ç¼–è¯‘å™¨å¦‚ä½•ç¡®å®šè°ƒç”¨çš„æ˜¯å“ªä¸€ä¸ªå…·ä½“çš„æ–¹æ³•ï¼Ÿï¼šå…ˆé€šè¿‡æ–¹æ³•åï¼Œå†é€šè¿‡å½¢å‚åˆ—è¡¨ã€‚</p><p>å‘ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-type">char</span>[] arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">char</span>[]&#123;<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>&#125;;<br>System.out.println(arr);<br></code></pre></td></tr></table></figure><p>æ‰“å°å‡ºæ¥çš„ç»“æœæ˜¯<code>abcdef</code>ï¼Œè€Œä¸æ˜¯åœ°å€å€¼ã€‚</p><h2 id="å¯å˜ä¸ªæ•°å½¢å‚çš„æ–¹æ³•">2.å¯å˜ä¸ªæ•°å½¢å‚çš„æ–¹æ³•</h2><p>åœ¨ Java ä¸­ï¼Œ<strong>å¯å˜å‚æ•°</strong>ï¼ˆVarargsï¼ŒVariableArgumentsï¼‰å…è®¸ä¸€ä¸ªæ–¹æ³•æ¥å—<strong>å¯å˜æ•°é‡çš„å‚æ•°</strong>ï¼Œä½¿ä»£ç æ›´åŠ çµæ´»ã€‚</p><p><strong>è¯­æ³•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JAVA">è¿”å›å€¼ç±»å‹ æ–¹æ³•å(æ•°æ®ç±»å‹... å˜é‡å) &#123;<br>    <span class="hljs-comment">// æ–¹æ³•ä½“</span><br>&#125;<br></code></pre></td></tr></table></figure><ol type="1"><li>å¯å˜å‚æ•°åœ¨æ–¹æ³•å†…éƒ¨è¢«å½“ä½œ<strong>æ•°ç»„</strong>å¤„ç†ï¼Œå¦‚<code>int... numbers</code>å®é™…ä¸Šç­‰ä»·äº<code>int[] numbers</code>ã€‚</li><li>å¯å˜å‚æ•°å¿…é¡»æ˜¯æ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°ã€‚</li><li>ä¸€ä¸ªæ–¹æ³•åªèƒ½æœ‰ä¸€ä¸ªå¯å˜å‚æ•°ã€‚</li></ol><p><strong>ä¸¾ä¾‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Varargs2</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">overload2</span> <span class="hljs-variable">test</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">overload2</span>();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">info</span> <span class="hljs-operator">=</span> test.concat(<span class="hljs-string">&quot;=&quot;</span>,<span class="hljs-string">&quot;new&quot;</span>,<span class="hljs-string">&quot;world&quot;</span>);<br>        System.out.println(info);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">overload2</span> &#123;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">concat</span><span class="hljs-params">(String operator,String ... strs)</span>&#123;<br><br>        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(); <span class="hljs-comment">//æ‹¼æ¥å­—ç¬¦ä¸²æ—¶ä½¿ç”¨ StringBuilderå¯ä»¥é¿å…é¢‘ç¹åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œæ€§èƒ½æ›´å¥½</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; strs.length; i++) &#123;<br>            <span class="hljs-keyword">if</span> (i==<span class="hljs-number">0</span>)&#123;<br>                result.append(strs[i]);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                result.append(operator).append(strs[i]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> result.toString();<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ–¹æ³•çš„å€¼ä¼ é€’æœºåˆ¶">3.æ–¹æ³•çš„å€¼ä¼ é€’æœºåˆ¶</h2><p>Javaä¸­æ–¹æ³•çš„å‚æ•°ä¼ é€’æœºåˆ¶æ˜¯<strong>æŒ‰å€¼ä¼ é€’(pass byvalue)</strong></p><p>æ–¹æ³•ä½“å†…å£°æ˜çš„å˜é‡ä¸ºå±€éƒ¨å˜é‡ï¼Œå­˜å‚¨åœ¨æ ˆç©ºé—´ã€‚</p><ul><li>å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡æ¥è¯´ï¼Œä¼ é€’çš„æ˜¯æ­¤å˜é‡ä¿å­˜çš„æ•°æ®å€¼ã€‚</li><li>å¯¹äºå¼•ç”¨å‹æ•°æ®å˜é‡æ¥è¯´ï¼Œä¼ é€’çš„æ˜¯æ­¤å˜é‡ä¿å­˜çš„åœ°å€å€¼ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Description:</span><br><span class="hljs-comment"> * æ–¹æ³•çš„å€¼ä¼ é€’æœºåˆ¶</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> ep19</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 1.0</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> 2025/3/29 15:45</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PassByValue</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>        <span class="hljs-type">method</span> <span class="hljs-variable">test</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">method</span>();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>        test.change(num);<br>        System.out.println(<span class="hljs-string">&quot;num = &quot;</span> + num);<br><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">method</span> &#123;<br><br>        <span class="hljs-keyword">void</span> <span class="hljs-title function_">change</span> <span class="hljs-params">(<span class="hljs-type">int</span> m)</span> &#123;<br>        m ++;<br>        System.out.println(<span class="hljs-string">&quot;m: &quot;</span> + m);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JAVA">m: <span class="hljs-number">11</span><br>num = <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure></p><p>å›¾ä¾‹ï¼š</p><p><img src="https://i.imgur.com/upVuJnq.png" /></p><h2 id="é€’å½’æ–¹æ³•">4.é€’å½’æ–¹æ³•</h2><p><strong>é€’å½’(Recursion)</strong>æ˜¯æŒ‡<strong>ä¸€ä¸ªæ–¹æ³•åœ¨å…¶å†…éƒ¨è°ƒç”¨è‡ªå·±</strong>ï¼Œç›´åˆ°æ»¡è¶³æŸä¸ªç»ˆæ­¢æ¡ä»¶ï¼ˆåŸºå‡†æ¡ä»¶ï¼‰ï¼Œå¦åˆ™ä¼šæ— é™é€’å½’ï¼Œå¯¼è‡´<code>StackOverflowError</code>ã€‚</p><p>é€’å½’ç¤ºä¾‹ï¼šè®¡ç®—é˜¶ä¹˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">compute</span>&#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * è®¡ç®—ä¸€ä¸ªæ•°çš„é˜¶ä¹˜ï¼ˆé€’å½’ï¼‰</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> n è¾“å…¥ä¸€ä¸ªæ•´æ•°</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> è¿”å›è¾“å…¥å€¼çš„é˜¶ä¹˜ç»“æœ</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">factorial</span> <span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br><br>        <span class="hljs-keyword">if</span>(n == <span class="hljs-number">0</span>)&#123; <span class="hljs-comment">//ç»ˆæ­¢æ¡ä»¶</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> n * factorial(n-<span class="hljs-number">1</span>);<br>        &#125;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šé€’å½’çš„å†…å­˜è€—ç”¨è¾ƒå¤šï¼Œå ç”¨å¤§é‡çš„ç³»ç»Ÿå †æ ˆï¼Œéœ€è¦<strong>æ…ç”¨</strong>ï¼Œé«˜æ€§èƒ½æƒ…å†µä¸‹å°½é‡é¿å…ä½¿ç”¨é€’å½’ï¼Œä¸å¦‚å¾ªç¯è¿­ä»£ã€‚</p><h1 id="packageå’Œimport">packageå’Œimport</h1><p>ç”¨äº<strong>å®šä¹‰ç±»çš„æ‰€å±åŒ…</strong>ï¼Œå¿…é¡»å†™åœ¨<strong>Javaæ–‡ä»¶çš„ç¬¬ä¸€è¡Œ</strong>ï¼ˆé™¤äº†æ³¨é‡Šï¼‰ã€‚</p><ul><li>packageå‘½åå…¨éƒ¨å°å†™</li><li>é€šå¸¸ä½¿ç”¨å…¬å¸åŸŸåçš„å€’ç½®</li></ul><p>ä¾‹ï¼š<strong>MVC(Model-Vie-Controller)</strong>è½¯ä»¶æ¶æ„æ¨¡å¼ï¼š</p><table><thead><tr><th>ç»„ä»¶</th><th>ä½œç”¨</th><th>ç¤ºä¾‹ï¼ˆä»¥ Java Web åº”ç”¨ä¸ºä¾‹ï¼‰</th></tr></thead><tbody><tr><td><strong>Modelï¼ˆæ¨¡å‹ï¼‰</strong></td><td>å¤„ç† <strong>æ•°æ®å’Œä¸šåŠ¡é€»è¾‘</strong>ï¼Œä¸æ•°æ®åº“äº¤äº’</td><td>Java Beanã€DAOï¼ˆæ•°æ®è®¿é—®å¯¹è±¡ï¼‰</td></tr><tr><td><strong>Viewï¼ˆè§†å›¾ï¼‰</strong></td><td>è´Ÿè´£ <strong>ç”¨æˆ·ç•Œé¢</strong>ï¼Œå±•ç¤ºæ•°æ®</td><td>HTMLã€JSPã€Thymeleafã€å‰ç«¯æ¡†æ¶ï¼ˆVueã€Reactï¼‰</td></tr><tr><td><strong>Controllerï¼ˆæ§åˆ¶å™¨ï¼‰</strong></td><td>è´Ÿè´£ <strong>æ¥æ”¶ç”¨æˆ·è¯·æ±‚</strong>ï¼Œè°ƒç”¨ Model å¤„ç†æ•°æ®ï¼Œå¹¶è¿”å›View</td><td>Servletã€Spring Controller</td></tr></tbody></table><ul><li><code>import</code>ç”¨äºå¼•å…¥å…¶ä»–åŒ…ä¸­çš„ç±»ï¼Œä»¥ä¾¿å¯ä»¥ç›´æ¥ä½¿ç”¨ç±»åï¼Œè€Œä¸å¿…å†™å®Œæ•´è·¯å¾„ã€‚</li><li>åœ¨åŒä¸€ä¸ªåŒ…ä¸­çš„ç±»ä¸éœ€è¦å¯¼å…¥ã€‚</li><li>å¦‚æœä½¿ç”¨ä¸åŒçš„åŒ…ä¸‹çš„åŒåçš„ç±»ï¼Œéœ€è¦ä½¿ç”¨ç±»çš„å…¨åçš„æ–¹å¼æŒ‡æ˜æ˜¯å“ªä¸ªç±»ä¾‹å¦‚ï¼š</li><li><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs JAVA">java.util.<span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>java.sql.<span class="hljs-type">date1</span> <span class="hljs-variable">date1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">java</span>.sql.Date(<span class="hljs-number">121212L</span>);<br></code></pre></td></tr></table></figure></li></ul><h1 id="é¢å‘å¯¹è±¡çš„å°è£…æ€§">é¢å‘å¯¹è±¡çš„å°è£…æ€§</h1><p>é¢å‘å¯¹è±¡ç¼–ç¨‹(OOP)çš„ä¸‰å¤§ç‰¹æ€§ï¼š<strong>å°è£…ã€ç»§æ‰¿ã€å¤šæ€</strong>ã€‚</p><h2 id="å«ä¹‰">å«ä¹‰</h2><p><strong>å°è£…(Encapsulation)</strong>ï¼ŒæŒ‡çš„æ˜¯<strong>å°†å¯¹è±¡çš„çŠ¶æ€ï¼ˆå±æ€§ï¼‰å’Œè¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰å°è£…åœ¨ä¸€èµ·ï¼Œå¹¶éšè—å¯¹è±¡çš„å†…éƒ¨å®ç°ç»†èŠ‚</strong>ï¼Œåªå‘å¤–ç•Œæš´éœ²å¿…è¦çš„æ¥å£ï¼Œä»¥æé«˜ä»£ç çš„<strong>å®‰å…¨æ€§</strong>å’Œ<strong>å¯ç»´æŠ¤æ€§</strong>ã€‚</p><p><code>é«˜å†…èšã€ä½è€¦åˆ</code></p><h2 id="æ•°æ®å°è£…çš„æ–¹æ³•">æ•°æ®å°è£…çš„æ–¹æ³•</h2><p><strong>æƒé™ä¿®é¥°ç¬¦</strong>ï¼š<code>private</code>ã€<code>default</code>ã€<code>protected</code>ã€<code>public</code>ï¼Œè¿™ä½“ç°äº†Javaçš„å°è£…æ€§ã€‚æˆ‘ä»¬å¯ä»¥ç”¨4ç§æƒé™ä¿®é¥°ç¬¦æ¥ä¿®é¥°ç±»å’Œç±»çš„å†…éƒ¨æˆå‘˜</p><p><strong>ä½œç”¨</strong>ï¼šä½“ç°è¢«è°ƒç”¨æ—¶çš„å¯è§æ€§çš„å¤§å°ã€‚å£°æ˜ä¸º<code>private</code>çš„å˜é‡åªèƒ½é€šè¿‡æš´éœ²çš„æ–¹æ³•é—´æ¥è®¿é—®(èµ‹å€¼æˆ–å–å€¼)ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getnum</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-keyword">return</span> num;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å››ç§æƒé™ä¿®é¥°ç¬¦çš„æ€»ç»“</strong>(æŒ‰ç…§å¯è§æ€§ä»å°åˆ°å¤§)ï¼š</p><table><thead><tr><th>è®¿é—®ä¿®é¥°ç¬¦</th><th>åŒåŒ…è®¿é—®</th><th>è·¨åŒ…è®¿é—®</th><th>å­ç±»è®¿é—®</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>private</code></td><td>âŒ ä¸èƒ½è®¿é—®</td><td>âŒ ä¸èƒ½è®¿é—®</td><td>âŒ ä¸èƒ½è®¿é—®</td><td>é€‚ç”¨äº <strong>å®Œå…¨å°è£…</strong>ï¼Œåªèƒ½å†…éƒ¨è®¿é—®</td></tr><tr><td><code>default</code>ï¼ˆæ— ä¿®é¥°ç¬¦ï¼‰</td><td>âœ… å¯ä»¥è®¿é—®</td><td>âŒ æ— æ³•è®¿é—®</td><td>âŒ ä¸èƒ½è®¿é—®</td><td>é€‚ç”¨äº <strong>åŒ…å†…ä½¿ç”¨</strong></td></tr><tr><td><code>protected</code></td><td>âœ… å¯ä»¥è®¿é—®</td><td>âŒ æ— æ³•è®¿é—®</td><td>âœ… ç»§æ‰¿åå¯è®¿é—®</td><td>é€‚ç”¨äº <strong>å­ç±»ç»§æ‰¿ä½†ä¸æš´éœ²ç»™å¤–éƒ¨</strong></td></tr><tr><td><code>public</code></td><td>âœ… å¯ä»¥è®¿é—®</td><td>âœ… å¯ä»¥è®¿é—®</td><td>âœ… å¯ä»¥è®¿é—®</td><td>é€‚ç”¨äº <strong>å®Œå…¨å…¬å¼€</strong></td></tr></tbody></table><p><strong>å°è£…æ€§çš„ä½“ç°</strong>ï¼š</p><ol type="1"><li>ç§æœ‰åŒ–ç±»çš„å±æ€§ï¼Œæä¾›å…¬å…±çš„getå’Œsetæ–¹æ³•ï¼Œå¯¹æ­¤å±æ€§è¿›è¡Œè·å–æˆ–ä¿®æ”¹ã€‚</li><li>å°†ç±»ä¸­ä¸éœ€è¦å¯¹å¤–æš´éœ²çš„æ–¹æ³•è®¾ç½®ä¸ºprivateã€‚</li><li>å•ä¾‹æ¨¡å¼ä¸­æ„é€ å™¨ä¸ºprivateï¼Œé¿å…åœ¨ç±»çš„å¤–éƒ¨åˆ›å»ºå®ä¾‹ã€‚</li></ol><h1 id="ç±»çš„æˆå‘˜æ„é€ å™¨">ç±»çš„æˆå‘˜ï¼šæ„é€ å™¨</h1><p>æ„é€ å™¨ï¼ˆConstructorï¼‰æ˜¯<strong>ç”¨äºåˆ›å»ºå¯¹è±¡</strong>çš„ç‰¹æ®Šæ–¹æ³•ï¼Œå®ƒåœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œä¸€èˆ¬ç”¨äº<strong>åˆå§‹åŒ–å¯¹è±¡çš„å±æ€§</strong>ã€‚</p><p>æ„é€ å™¨çš„å£°æ˜æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JAVA">æƒé™ä¿®é¥°ç¬¦ ç±»å(å½¢å‚åˆ—è¡¨)&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>åˆ›å»ºç±»ä»¥åï¼Œåœ¨æ²¡æœ‰æ˜¾å¼å£°æ˜æ„é€ å™¨çš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¼šé»˜è®¤æä¾›ä¸€ä¸ªæ„é€ å™¨ã€‚ä¸”æƒé™ä¿®é¥°ç¬¦ä¸ç±»ç›¸åŒã€‚</p><p>æ„é€ å™¨å¯ä»¥é‡è½½ã€‚</p><hr /><p><strong>é—®1ï¼šmainæ–¹æ³•çš„publicæƒé™ä¿®é¥°ç¬¦èƒ½ä¸èƒ½æ¢æˆprivateï¼Ÿ</strong></p><ul><li><code>main</code>æ–¹æ³•æ˜¯ Java ç¨‹åºçš„å…¥å£ç‚¹ï¼ŒJavaè™šæ‹Ÿæœºï¼ˆJVMï¼‰åœ¨æ‰§è¡Œç¨‹åºæ—¶ä¼šè°ƒç”¨<code>main</code>æ–¹æ³•ã€‚å¦‚æœ<code>main</code>æ–¹æ³•æ˜¯<code>private</code>ï¼ŒJVMå°±æ— æ³•è®¿é—®å®ƒï¼Œå¯¼è‡´ç¨‹åºå¯åŠ¨å¤±è´¥ã€‚</li><li>åŒç†ï¼Œä¹Ÿä¸èƒ½æ˜¯<code>protected</code>æˆ–ç¼ºçœï¼Œå¦åˆ™JVMæ— æ³•è°ƒç”¨ã€‚</li></ul><p><strong>é—®2ï¼šä¸ºä»€ä¹ˆmainæ–¹æ³•å¿…é¡»æ˜¯static?</strong></p><ul><li><code>main</code>æ–¹æ³•æ˜¯ç¨‹åºçš„å…¥å£ï¼ŒJVMåœ¨å¯åŠ¨ç¨‹åºæ—¶ä¸ä¼šè‡ªåŠ¨åˆ›å»ºç±»çš„å¯¹è±¡ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨<code>main</code>æ–¹æ³•ã€‚å¦‚æœ<code>main</code>ä¸æ˜¯<code>static</code>ï¼Œé‚£ä¹ˆJVMéœ€è¦åˆ›å»ºè¯¥ç±»çš„å¯¹è±¡ï¼Œä½†æ²¡æœ‰é»˜è®¤æ„é€ æ–¹æ³•å¯è°ƒç”¨ï¼Œå› æ­¤ä¼šæŠ¥é”™ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java SE</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Java SE(1) åŸºæœ¬å¸¸è¯†</title>
    <link href="/2025/03/22/java1/"/>
    <url>/2025/03/22/java1/</url>
    
    <content type="html"><![CDATA[<p>å­¦ä¹ é¡ºåºï¼šjavaseã€mysqlã€jdbcã€javawebã€mybatisã€springmvcã€springï¼Œè¿™å‡ æ ·åŸºæœ¬ä¸Šå°±æ˜¯å­¦ä¹ javaçš„éª¨æ¶äº†ã€‚</p><h1 id="å˜é‡ä¸è¿ç®—ç¬¦">å˜é‡ä¸è¿ç®—ç¬¦</h1><h2 id="æ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒ">æ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒ</h2><ul><li>åŒ…åï¼šå¤šå•è¯ç»„æˆæ—¶æ‰€æœ‰å­—æ¯éƒ½å°å†™ xxxyyyzzz</li><li>ç±»åã€æ¥å£åï¼šå¤šå•è¯ç»„æˆæ—¶ï¼Œæ‰€æœ‰å•è¯çš„é¦–å­—æ¯å¤§å†™ XxxYyyZzz</li><li>å˜é‡åã€æ–¹æ³•åï¼šå¤šå•è¯ç»„æˆæ—¶ï¼Œç¬¬ä¸€ä¸ªå•è¯é¦–å­—æ¯å°å†™ï¼Œç¬¬äºŒä¸ªå•è¯å¼€å§‹æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™age,name,bookName</li><li>å¸¸é‡åï¼šæ‰€æœ‰å­—æ¯éƒ½å¤§å†™ã€‚å¤šå•è¯æ—¶æ¯ä¸ªå•è¯ç”¨ä¸‹åˆ’çº¿è¿æ¥XXX_YYY_ZZZ</li></ul><h2 id="å˜é‡">å˜é‡</h2><p>å˜é‡ï¼ˆvariableï¼‰å®šä¹‰ï¼šå†…å­˜ä¸­çš„ä¸€ä¸ªå­˜å‚¨åŒºåŸŸï¼Œè¯¥åŒºåŸŸçš„æ•°æ®å¯ä»¥åœ¨åŒä¸€ç±»å‹èŒƒå›´å†…ä¸æ–­å˜åŒ–ã€‚</p><p>æ„æˆï¼šæ•°æ®ç±»å‹ å˜é‡å = å˜é‡å€¼ï¼Œä¾‹å¦‚ï¼š<code>int age = 10;</code></p><p>javaçš„å˜é‡æŒ‰ç…§æ•°æ®ç±»å‹åˆ†ä¸ºï¼š</p><pre><code class="hljs">åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆ8ç§ï¼‰ï¼š      æ•´å‹ï¼šbyte \ short \ int \ long      æµ®ç‚¹å‹ï¼šfloat \ double      å­—ç¬¦å‹ï¼šchar      å¸ƒå°”å‹ï¼šboolean  å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆ6ç§ï¼‰ï¼š    ç±»ï¼ˆclassï¼‰      æ•°ç»„ï¼ˆarrayï¼‰      æ¥å£ï¼ˆinterfaceï¼‰      æšä¸¾ï¼ˆenumï¼‰      æ³¨è§£ï¼ˆannotationï¼‰      è®°å½•ï¼ˆrecordï¼‰</code></pre><p>å˜é‡éƒ½æœ‰å…¶<strong>ä½œç”¨åŸŸ</strong>ï¼Œåªåœ¨å…¶ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚</p><h3 id="æ•´å‹">æ•´å‹</h3><p>byte Â short Â int Â long åˆ†åˆ«å ç”¨1ï¼Œ2ï¼Œ4ï¼Œ8å­—èŠ‚ï¼ˆæœ‰æ­£è´Ÿï¼‰ã€‚</p><table><thead><tr><th>æ•°æ®ç±»å‹</th><th>å­—èŠ‚æ•°</th><th>å–å€¼èŒƒå›´</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>byte</code></td><td>1</td><td><code>-128</code> ~ <code>127</code></td><td><code>0</code></td></tr><tr><td><code>short</code></td><td>2</td><td><code>-32,768</code> ~ <code>32,767</code></td><td><code>0</code></td></tr><tr><td><code>int</code></td><td>4</td><td><code>-2,147,483,648</code> ~ <code>2,147,483,647</code></td><td><code>0</code></td></tr><tr><td><code>long</code></td><td>8</td><td><code>-9,223,372,036,854,775,808</code> ~<code>9,223,372,036,854,775,807</code></td><td><code>0L</code></td></tr></tbody></table><ul><li>å®šä¹‰<code>long</code>ç±»å‹çš„å˜é‡ï¼Œèµ‹å€¼æ—¶éœ€è¦ä»¥â€œlâ€æˆ–â€œLâ€ä½œä¸ºåç¼€ã€‚</li><li>Javaç¨‹åºä¸­å˜é‡é€šå¸¸å£°æ˜ä¸º<code>int</code>ã€‚</li><li>æ•´æ•°å¸¸é‡<strong>é»˜è®¤ä¸ºintç±»å‹</strong>ã€‚</li></ul><h3 id="æµ®ç‚¹å‹">æµ®ç‚¹å‹</h3><table><thead><tr><th>æ•°æ®ç±»å‹</th><th>å­—èŠ‚æ•°</th><th>å–å€¼èŒƒå›´</th><th>é»˜è®¤å€¼</th><th>ç²¾åº¦</th></tr></thead><tbody><tr><td><code>float</code></td><td>4</td><td><code>Â±1.4E-45</code> ~ <code>Â±3.4028235E+38</code></td><td><code>0.0f</code></td><td>çº¦ 7 ä½</td></tr><tr><td><code>double</code></td><td>8</td><td><code>Â±4.9E-324</code> ~ <code>Â±1.7976931348623157E+308</code></td><td><code>0.0d</code></td><td>çº¦ 15~16 ä½</td></tr></tbody></table><ul><li>å®šä¹‰<code>float</code>ç±»å‹çš„å˜é‡ï¼Œèµ‹å€¼æ—¶éœ€è¦ä»¥â€œfâ€æˆ–â€œFâ€ä½œä¸ºåç¼€ã€‚</li><li>floatçš„è¡¨ç¤ºèŒƒå›´å¤§äºlongï¼Œä½†æ˜¯ç²¾åº¦ä¸é«˜ã€‚</li><li>Javaçš„æµ®ç‚¹å‹å¸¸é‡<strong>é»˜è®¤ä¸ºdoubleå‹</strong>ã€‚</li><li>floatã€doubleä¸é€‚ç”¨äºä¸å®¹è®¸èˆå…¥è¯¯å·®çš„é‡‘èè®¡ç®—é¢†åŸŸã€‚å¦‚æœéœ€è¦ç²¾ç¡®æ•°å­—è®¡ç®—æˆ–ä¿ç•™ç‰¹å®šä½æ•°çš„ç²¾åº¦ï¼Œéœ€è¦ä½¿ç”¨BigDecimalç±»ã€‚</li><li><code>IEEE 754æ ‡å‡†</code>ä»ç„¶ä¸èƒ½å®ç°â€œæ¯ä¸€ä¸ªåè¿›åˆ¶å°æ•°éƒ½å¯¹åº”ä¸€ä¸ªäºŒè¿›åˆ¶å°æ•°â€ï¼Œ0.1+0.2ä¸ç­‰äº0.3</li></ul><h3 id="å­—ç¬¦å‹">å­—ç¬¦å‹</h3><ul><li>å ç”¨ä¸¤ä¸ªå­—èŠ‚</li></ul><p>å­—ç¬¦å‹å˜é‡çš„ä¸‰ç§è¡¨ç°å½¢å¼ï¼š</p><ol type="1"><li>å•å¼•å·<code>''</code>é€‚ç”¨äº<strong>å•ä¸ªå­—ç¬¦</strong></li><li>ç›´æ¥ä½¿ç”¨Unicodeå€¼è¡¨ç¤ºã€‚ä¾‹å¦‚<code>char c8 = '\u0043';</code></li><li>ä½¿ç”¨è½¬ä¹‰å­—ç¬¦''å°†åé¢çš„å­—ç¬¦è½¬å˜ä¸ºå­—ç¬¦å‹å¸¸é‡ã€‚</li><li>ASCIIç </li></ol><h3 id="å¸ƒå°”å‹">å¸ƒå°”å‹</h3><ul><li>åªæœ‰ä¸¤ä¸ªå€¼ï¼štrueã€falseï¼Œå¸¸å¸¸ç”¨åœ¨æµç¨‹æ§åˆ¶è¯­å¥ã€‚</li><li>å¯ä»¥è®¤ä¸ºå 4ä¸ªå­—èŠ‚ï¼ˆä¸€èˆ¬ä¸è°ˆå¸ƒå°”ç±»å‹å ç”¨çš„ç©ºé—´å¤§å°ï¼‰ã€‚å…·ä½“æ¥è¯´ï¼šç¼–è¯‘æ—¶ä¸è°ˆå‡ ä¸ªå­—èŠ‚ï¼Œä½†æ˜¯JVMç»™booleanç±»å‹åˆ†é…å†…å­˜ç©ºé—´æ—¶ï¼Œbooleanç±»å‹çš„å˜é‡å æ®ä¸€ä¸ªæ§½ä½ï¼ˆslotï¼Œç­‰äº4ä¸ªå­—èŠ‚ï¼‰ã€‚</li></ul><h3 id="åŸºæœ¬æ•°æ®ç±»å‹é—´çš„è¿ç®—è§„åˆ™">åŸºæœ¬æ•°æ®ç±»å‹é—´çš„è¿ç®—è§„åˆ™</h3><ol type="1"><li><strong>è‡ªåŠ¨ç±»å‹æå‡</strong>ï¼š</li></ol><p>è§„åˆ™ï¼šå®¹é‡å°çš„å˜é‡ä¸å®¹é‡å¤§çš„å˜é‡åšè¿ç®—æ—¶ï¼Œç»“æœè‡ªåŠ¨è½¬æ¢ä¸ºå®¹é‡å¤§çš„æ•°æ®ç±»å‹ã€‚å®¹é‡æŒ‡å¯è¡¨ç¤ºæ•°æ®èŒƒå›´çš„å¤§å°ã€‚</p><p>byte---&gt;short---&gt;int---&gt;long---&gt;float---&gt;double</p><ul><li>ç‰¹æ®Šæƒ…å†µ1ï¼šå®¹é‡å°äºintåšè¿ç®—ç»“æœç”¨intç±»å‹ï¼Œå¦åˆ™æŠ¥é”™ï¼Œè€Œä¸”å®é™…çš„å¼€å‘ä¸­ä¹ŸåŸºæœ¬ç”¨ä¸ä¸Šbyteå’Œshortã€‚</li><li>ç‰¹æ®Šæƒ…å†µ2ï¼šcharç±»å‹è¿ç®—ç»“æœä¹Ÿç”¨intç±»å‹ï¼ŒåŒä¸Šã€‚</li></ul><ol start="2" type="1"><li><strong>å¼ºåˆ¶ç±»å‹è½¬æ¢</strong></li></ol><p>è§„åˆ™ï¼šå¤§èŒƒå›´ç±»å‹è½¬æ¢ä¸ºå°èŒƒå›´ç±»å‹ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Java"><br><span class="hljs-type">double</span> <span class="hljs-variable">d1</span> <span class="hljs-operator">=</span> <span class="hljs-number">12</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">i2</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>)d1;<br><br></code></pre></td></tr></table></figure><h3 id="stringç±»">Stringç±»</h3><ol type="1"><li>Stringç±»å±äºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œä¿—ç§°å­—ç¬¦ä¸²ã€‚</li><li>å¯ä»¥ä½¿ç”¨ä¸€å¯¹åŒå¼•å·è¿›è¡Œèµ‹å€¼ã€‚</li></ol><p>Stringä¸åŸºæœ¬æ•°æ®ç±»å‹é—´çš„è¿ç®—ï¼š</p><ol type="1"><li>è¿™é‡Œå¯ä»¥åŒ…å«å¸ƒå°”å˜é‡åœ¨å†…å…±8ç§ã€‚</li><li>åªèƒ½åšè¿æ¥è¿ç®—ï¼Œç”¨+ã€‚</li></ol><h2 id="è¿ç®—ç¬¦">è¿ç®—ç¬¦</h2><h3 id="é€»è¾‘è¿ç®—ç¬¦">é€»è¾‘è¿ç®—ç¬¦</h3><table><thead><tr><th>é€»è¾‘è¿ç®—ç¬¦</th><th>åç§°</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>&amp;&amp;</code></td><td>é€»è¾‘ä¸ï¼ˆANDï¼‰</td><td>åªæœ‰ä¸¤ä¸ªæ“ä½œæ•°éƒ½ä¸º <code>true</code> æ—¶ï¼Œç»“æœæ‰ä¸º<code>true</code></td><td><code>true &amp;&amp; false</code> â†’ <code>false</code></td></tr><tr><td><code>\|\|</code></td><td>é€»è¾‘æˆ–ï¼ˆORï¼‰</td><td>åªè¦æœ‰ä¸€ä¸ªæ“ä½œæ•°ä¸º <code>true</code>ï¼Œç»“æœå°±ä¸º<code>true</code></td><td><code>true \|\| false</code> â†’ <code>true</code></td></tr><tr><td><code>!</code></td><td>é€»è¾‘éï¼ˆNOTï¼‰</td><td>å–åè¿ç®—ï¼Œå°† <code>true</code> å˜ <code>false</code>ï¼Œåä¹‹äº¦ç„¶</td><td><code>!true</code> â†’ <code>false</code></td></tr><tr><td><code>&amp;</code></td><td>æŒ‰ä½ä¸ï¼ˆANDï¼‰</td><td>ä¸ <code>&amp;&amp;</code>ç±»ä¼¼ï¼Œä½†<strong>ä¸ä¼šå‘ç”ŸçŸ­è·¯</strong></td><td><code>true &amp; false</code> â†’ <code>false</code></td></tr><tr><td><code>\|</code></td><td>æŒ‰ä½æˆ–ï¼ˆORï¼‰</td><td>ä¸ <code>\|\|</code> ç±»ä¼¼ï¼Œä½†<strong>ä¸ä¼šå‘ç”ŸçŸ­è·¯</strong></td><td><code>true \| false</code> â†’ <code>true</code></td></tr><tr><td><code>^</code></td><td>é€»è¾‘å¼‚æˆ–ï¼ˆXORï¼‰</td><td>åªæœ‰ä¸¤ä¸ªæ“ä½œæ•°ä¸ç›¸åŒæ—¶ï¼Œç»“æœæ‰ä¸º <code>true</code></td><td><code>true ^ false</code> â†’ <code>true</code></td></tr></tbody></table><ul><li>é€»è¾‘è¿ç®—ç¬¦é’ˆå¯¹çš„æ˜¯å¸ƒå°”å‹å˜é‡ï¼Œç»“æœä¹Ÿæ˜¯å¸ƒå°”å‹ã€‚</li><li><code>&amp;&amp;</code>å’Œ<code>||</code><strong>å…·æœ‰çŸ­è·¯ç‰¹æ€§</strong>ï¼Œå³åœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥<strong>æå‰ç¡®å®šæœ€ç»ˆç»“æœ</strong>ï¼Œä»è€Œè·³è¿‡åç»­è¿ç®—ï¼Œæé«˜æ•ˆç‡å¹¶é¿å…ä¸å¿…è¦çš„è®¡ç®—ã€‚ä¾‹å¦‚ï¼Œ<code>A &amp;&amp; B</code>åªæœ‰å½“<code>A</code>ä¸º<code>true</code>æ—¶ï¼Œæ‰ä¼šè®¡ç®—<code>B</code>ï¼Œå¦‚æœ<code>A</code>ä¸º<code>false</code>ï¼Œé‚£ä¹ˆç»“æœå¿…ç„¶ä¸º<code>false</code>ï¼Œæ‰€ä»¥<code>B</code>ä¼šè¢«ç›´æ¥è·³è¿‡ã€‚å¯¹äº<code>||</code>åˆ™åè¿‡æ¥ï¼Œå¦‚æœ<code>A</code>ä¸º<code>true</code>ï¼Œé‚£ä¹ˆä¸ä¼šè®¡ç®—<code>B</code>ã€‚</li></ul><h3 id="ä½è¿ç®—ç¬¦">ä½è¿ç®—ç¬¦</h3><p>éš¾ç‚¹ã€éé‡ç‚¹</p><table style="width:100%;"><thead><tr><th>è¿ç®—ç¬¦</th><th>åç§°</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>&amp;</code></td><td>æŒ‰ä½ä¸ï¼ˆANDï¼‰</td><td>ä¸¤ä¸ªä½éƒ½ä¸º <code>1</code>ï¼Œç»“æœæ‰ä¸º <code>1</code></td><td><code>5 &amp; 3</code> â†’ <code>101 &amp; 011 = 001</code> â†’<code>1</code></td></tr><tr><td><code>\|</code></td><td>æŒ‰ä½æˆ–ï¼ˆORï¼‰</td><td>åªè¦æœ‰ä¸€ä¸ªä½ä¸º <code>1</code>ï¼Œç»“æœå°±æ˜¯ <code>1</code></td><td><code>5 \| 3</code> â†’ <code>101 \| 011 = 111</code> â†’<code>7</code></td></tr><tr><td><code>^</code></td><td>æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰</td><td>ä¸¤ä¸ªä½ä¸åŒåˆ™ä¸º <code>1</code>ï¼Œç›¸åŒåˆ™ä¸º <code>0</code></td><td><code>5 ^ 3</code> â†’ <code>101 ^ 011 = 110</code> â†’<code>6</code></td></tr><tr><td><code>~</code></td><td>æŒ‰ä½å–åï¼ˆNOTï¼‰</td><td>0 å˜ 1ï¼Œ1 å˜ 0ï¼ˆå–åè¡¥ç ï¼‰</td><td><code>~5</code> â†’ <code>~00000101</code> â†’ <code>11111010</code>ï¼ˆå³<code>-6</code>ï¼‰</td></tr><tr><td><code>&lt;&lt;</code></td><td>å·¦ç§»ï¼ˆLeft Shiftï¼‰</td><td>å°†äºŒè¿›åˆ¶ä½å·¦ç§» <code>n</code> ä½ï¼Œå³ä¾§è¡¥ <code>0</code></td><td><code>5 &lt;&lt; 2</code> â†’ <code>101</code> â†’ <code>10100</code> â†’<code>20</code></td></tr><tr><td><code>&gt;&gt;</code></td><td>å³ç§»ï¼ˆArithmetic Right Shiftï¼‰</td><td>ä¿æŒç¬¦å·ä½ï¼Œå·¦ä¾§è¡¥ <code>1</code> æˆ– <code>0</code></td><td><code>-5 &gt;&gt; 2</code> â†’ <code>11111011</code> â†’<code>11111110</code> â†’ <code>-2</code></td></tr><tr><td><code>&gt;&gt;&gt;</code></td><td>æ— ç¬¦å·å³ç§»ï¼ˆLogical Right Shiftï¼‰</td><td>å·¦ä¾§ç»Ÿä¸€è¡¥ <code>0</code>ï¼Œä¸ä¿æŒç¬¦å·ä½</td><td><code>-5 &gt;&gt;&gt; 2</code> â†’ <code>11111011</code> â†’<code>00111110</code>ï¼ˆå³ <code>1073741822</code>ï¼‰</td></tr></tbody></table><p><strong>æ¡ˆä¾‹</strong>ï¼šå¦‚ä½•äº¤æ¢ä¸¤ä¸ªintå˜é‡çš„å€¼ï¼ŸStringå‘¢ï¼Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>        <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;<br><br>        System.out.println(<span class="hljs-string">&quot;m=&quot;</span> + m + <span class="hljs-string">&quot;, n=&quot;</span> + n);<br><br>        <span class="hljs-comment">//å£°æ˜ä¸€ä¸ªä¸´æ—¶å˜é‡</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> m;<br>        m = n;<br>        n = temp;<br><br>        System.out.println(<span class="hljs-string">&quot;m=&quot;</span> + m + <span class="hljs-string">&quot;, n=&quot;</span> + n);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ¡ä»¶è¿ç®—ç¬¦">æ¡ä»¶è¿ç®—ç¬¦</h3><p>(æ¡ä»¶è¡¨è¾¾å¼) ? è¡¨è¾¾å¼1 : è¡¨è¾¾å¼2</p><p>æ¡ä»¶è¡¨è¾¾å¼çš„ç»“æœæ˜¯å¸ƒå°”ç±»å‹ã€‚</p><h1 id="æµç¨‹æ§åˆ¶">æµç¨‹æ§åˆ¶</h1><h2 id="if-else">if-else</h2><p>ä¸Cè¯­è¨€ç›¸åŒï¼Œä¸èµ˜è¿°ã€‚</p><p>å¦‚ä½•ä»é”®ç›˜è·å–ä¸åŒç±»å‹çš„å˜é‡ï¼šä½¿ç”¨Scannerç±»ã€‚Scannerç±»ä¸­æä¾›äº†è·å–ä¸åŒç±»å‹å˜é‡çš„æ–¹æ³•ï¼Œé™¤äº†charï¼Œéœ€è¦ä½¿ç”¨<code>scan.next().charAt(0)</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å¯¼åŒ…</span><br><span class="hljs-keyword">import</span> java.util.Scanner;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>        <span class="hljs-comment">//æä¾›ï¼ˆæˆ–åˆ›å»ºï¼‰ä¸€ä¸ªScannerç±»çš„å®ä¾‹ï¼Œè¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªScannerå¯¹è±¡scï¼Œç”¨äºæ¥æ”¶ç”¨æˆ·çš„è¾“å…¥</span><br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br><br>        <span class="hljs-comment">//è°ƒç”¨Scannerç±»ä¸­çš„æ–¹æ³•ï¼Œè·å–æŒ‡å®šç±»å‹çš„å˜é‡ï¼Œè¿™é‡Œä½¿ç”¨nextLine()è¯»å–æ•´è¡Œæ–‡æœ¬</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> sc.nextLine();<br><br>        System.out.println(<span class="hljs-string">&quot;name=&quot;</span> + s);<br><br>        <span class="hljs-comment">//å…³é—­èµ„æºï¼Œè°ƒç”¨Scannerç±»çš„close()</span><br>        scan.close();<br>    &#125;<br>&#125;    <br><br></code></pre></td></tr></table></figure><h2 id="è·å–éšæœºæ•°">è·å–éšæœºæ•°</h2><p>å¯ä»¥ä½¿ç”¨Javaæä¾›çš„APIï¼šMathç±»çš„random()ï¼ˆä¸ç”¨é¢å¤–å¯¼åŒ…ï¼‰ï¼Œè¿”å›ä¸€ä¸ª[0.0,1.0)èŒƒå›´å†…çš„doubleéšæœºæ•°ã€‚</p><p>è¿›ä¸€æ­¥çš„å¯ä»¥å¾—åˆ°å…¶ä»–èŒƒå›´çš„éšæœºæ•°ï¼Œä¾‹å¦‚[0,100]</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-type">int</span> <span class="hljs-variable">num1</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>)(Math.random()*<span class="hljs-number">101</span>);<br></code></pre></td></tr></table></figure><p>è·å–ä¸€ä¸ª[a,b]èŒƒå›´çš„éšæœºæ•°ï¼š<code>(int)(Math.random() * (b - a + 1)) + a;</code></p><h2 id="switch-case">switch-case</h2><p>è¯­æ³•æ ¼å¼ï¼š <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">switch</span>(è¡¨è¾¾å¼)&#123;<br><br>    <span class="hljs-keyword">case</span> å¸¸é‡<span class="hljs-number">1</span>:<br>        <span class="hljs-comment">//æ‰§è¡Œè¯­å¥1</span><br>        <span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">case</span> å¸¸é‡<span class="hljs-number">2</span>:<br>        <span class="hljs-comment">//æ‰§è¡Œè¯­å¥2</span><br>        <span class="hljs-keyword">break</span>;<br>    ...<br>    <span class="hljs-keyword">default</span>:<br>        <span class="hljs-comment">//æ‰§è¡Œè¯­å¥</span><br>        <span class="hljs-keyword">break</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p><ul><li>switchä¸­çš„è¡¨è¾¾å¼åªèƒ½æ˜¯ç‰¹å®šçš„æ•°æ®ç±»å‹ï¼šbyte Â short Â char Â intÂ æšä¸¾(JDK5.0æ–°å¢) Â String(JDK7.0æ–°å¢)</li><li>å¼€å‘ä¸­ä½¿ç”¨switch-caseæ—¶ï¼Œé€šå¸¸caseåŒ¹é…çš„æƒ…å†µéƒ½æœ‰é™ã€‚</li><li>defaultçš„ä½ç½®æ˜¯çµæ´»çš„ã€‚</li></ul><h2 id="å¾ªç¯è¯­å¥">å¾ªç¯è¯­å¥</h2><p>å…±ä¸‰ç§ï¼šfor,while,do-while</p><p>å¾ªç¯çš„4ä¸ªè¦ç´ ï¼š</p><ol type="1"><li>åˆå§‹åŒ–æ¡ä»¶</li><li>å¾ªç¯æ¡ä»¶</li><li>å¾ªç¯ä½“</li><li>è¿­ä»£éƒ¨åˆ†</li></ol><h3 id="forå¾ªç¯">forå¾ªç¯</h3><p>for(1;2;4){<br />3<br />}</p><p>è¿­ä»£éƒ¨åˆ†å«æœ‰å¤šæ¡è¯­å¥æ—¶ï¼Œå¯ä»¥ç”¨é€—å·è¿æ¥ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        è¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°må’Œnï¼Œæ±‚æœ€å¤§å…¬çº¦æ•°å’Œæœ€å°å…¬å€æ•°ã€‚</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> <span class="hljs-number">12</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> m&lt;n?m:n;<br><br>        <span class="hljs-comment">//æœ€å¤§å…¬çº¦æ•°</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=min;i&gt;=<span class="hljs-number">1</span>;i--)&#123;<br>            <span class="hljs-keyword">if</span>(n%i==<span class="hljs-number">0</span> &amp;&amp; m%i==<span class="hljs-number">0</span>)&#123;<br>                System.out.println(<span class="hljs-string">&quot;æœ€å¤§å…¬çº¦æ•°&quot;</span>+i);<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">//æœ€å°å…¬å€æ•°</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">max</span> <span class="hljs-operator">=</span> m&gt;n?m:n;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=max;i&lt;=m*n;i++)&#123;<br>            <span class="hljs-keyword">if</span>(i%m==<span class="hljs-number">0</span> &amp;&amp; i%n==<span class="hljs-number">0</span>)&#123;<br>                System.out.println(<span class="hljs-string">&quot;æœ€å°å…¬å€æ•°ä¸º&quot;</span> + i);<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æˆ‘ä»¬å¯ä»¥åœ¨å¾ªç¯ç»“æ„ä¸­ä½¿ç”¨breakï¼Œç”¨äºè·³å‡ºå¾ªç¯ç»“æ„ã€‚</li><li>å¾ªç¯æ¡ä»¶ä¸æ»¡è¶³/å¾ªç¯ä½“ä¸­æ‰§è¡Œäº†break</li></ul><h3 id="whileå¾ªç¯">whileå¾ªç¯</h3><p>1 while(2){<br />3<br />4<br />}</p><p>ç»ƒä¹ ï¼šçŒœæ•°å­—å°æ¸¸æˆ <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> java.util.Scanner;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        éšæœºç”Ÿæˆä¸€ä¸ª1åˆ°100ä»¥å†…çš„æ•´æ•°ï¼Œç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè®°å½•çŒœäº†å‡ æ¬¡æ‰æ­£ç¡®</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-comment">//ç”Ÿæˆéšæœºæ•°</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">randomNumber</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) (Math.random() * <span class="hljs-number">100</span>)+<span class="hljs-number">1</span>;<br>        <span class="hljs-comment">//è®°å½•å°è¯•çš„æ¬¡æ•°</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">guessNumber</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>        <span class="hljs-comment">//åˆ›å»ºå¯¹è±¡sc</span><br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        <span class="hljs-comment">//è¾“å…¥æ•°å­—</span><br>        System.out.println(<span class="hljs-string">&quot;Please enter a number between 1 and 100&quot;</span>);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">yourNumber</span> <span class="hljs-operator">=</span> scanner.nextInt();<br>        <span class="hljs-comment">//å¾ªç¯</span><br>        <span class="hljs-keyword">while</span>(yourNumber != randomNumber)&#123;<br>            <span class="hljs-keyword">if</span>(yourNumber &gt; randomNumber)&#123;<br>                System.out.println(<span class="hljs-string">&quot;Your number is greater than random number&quot;</span>);<br>            &#125;<br>            <span class="hljs-keyword">else</span> &#123;<br>                System.out.println(<span class="hljs-string">&quot;Your number is less than random number&quot;</span>);<br>            &#125;<br>            guessNumber++;<br>            <span class="hljs-comment">//é‡æ–°è¾“å…¥æ•°å­—</span><br>            System.out.println(<span class="hljs-string">&quot;Please try again&quot;</span>);<br>            yourNumber = scanner.nextInt();<br>        &#125;<br>        <span class="hljs-comment">//ç»“æŸæ¸¸æˆ</span><br>        System.out.println(<span class="hljs-string">&quot;congratulations!you have tried &quot;</span> + guessNumber + <span class="hljs-string">&quot; guesses&quot;</span>);<br>        scanner.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></p><h3 id="do-while-å¾ªç¯">do-while å¾ªç¯</h3><p>1<br />do{<br />3<br />4<br />}while(2);</p><p>æ‰§è¡Œè¿‡ç¨‹ï¼š1 - 3 - 4 - 2 - 3 - 4 - Â·Â·Â· - 2</p><p>è‡³å°‘ä¼šæ‰§è¡Œä¸€æ¬¡å¾ªç¯ä½“ï¼Œç”¨å¾—ç›¸å¯¹æ¥è¯´æ¯”è¾ƒå°‘ã€‚</p><h3 id="æ— é™å¾ªç¯ç»“æ„">â€œæ— é™â€å¾ªç¯ç»“æ„</h3><p>æ ¼å¼ï¼š while(true) æˆ– for(;;)ï¼Œä¸­é€”ä½¿ç”¨breakè·³å‡ºå¾ªç¯ã€‚</p><p>ç¤ºä¾‹ï¼šä¹ä¹ä¹˜æ³•è¡¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Java">ublic <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        æ¡ˆä¾‹ï¼šä¹ä¹ä¹˜æ³•è¡¨</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">9</span>; i++)&#123;<br><br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; j &lt;= i; j++)&#123;<br>                System.out.print(i + <span class="hljs-string">&quot;*&quot;</span> + j + <span class="hljs-string">&quot;=&quot;</span> + i*j + <span class="hljs-string">&quot;\t&quot;</span>);<br>            &#125;<br>            System.out.println();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ¡ˆä¾‹">æ¡ˆä¾‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        æ¡ˆä¾‹ï¼šæ‰¾å‡º100000ä»¥å†…çš„æ‰€æœ‰è´¨æ•°</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">2</span>;i&lt;=<span class="hljs-number">100000</span>;i++)&#123;<br><br>            <span class="hljs-type">boolean</span> <span class="hljs-variable">isFlag</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br><br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">2</span>;j&lt;Math.sqrt(i);j++)&#123;<br>                <span class="hljs-keyword">if</span>(i%j==<span class="hljs-number">0</span>)&#123;<br>                    isFlag = <span class="hljs-literal">false</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(isFlag)&#123;<br>                System.out.println(i);<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">endTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();<br><br>        System.out.println(<span class="hljs-string">&quot;time spend: &quot;</span> + (endTime - startTime));<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š<code>time spend: 35</code>ï¼Œæ³¨æ„è¿™é‡Œçš„Math.sqrt(i)å¯ä»¥å¤§å¤§æå‡è¿ç®—é€Ÿåº¦ï¼Œå› ä¸ºä¸€ä¸ªæ•°çš„å› æ•°å…³äºå®ƒçš„ç®—æœ¯å¹³æ–¹æ ¹å¯¹ç§°ã€‚</p><h1 id="æ•°ç»„">æ•°ç»„</h1><h2 id="åŸºç¡€çŸ¥è¯†">åŸºç¡€çŸ¥è¯†</h2><p>å¤šä¸ªç›¸åŒç±»å‹æ•°æ®æŒ‰ä¸€å®šé¡ºåºæ’åˆ—çš„é›†åˆï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªåå­—å‘½åï¼Œé€šè¿‡ç¼–å·ç»Ÿä¸€ç®¡ç†ã€‚</p><p>Javaä¸­çš„<strong>å®¹å™¨</strong>ï¼šæ•°ç»„ã€é›†åˆæ¡†æ¶ï¼šåœ¨<strong>å†…å­˜</strong>ä¸­å¯¹å¤šä¸ªæ•°æ®çš„å­˜å‚¨ã€‚</p><p>æ•°ç»„å±äº<strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>ï¼Œå£°æ˜æ ¼å¼ï¼š <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-comment">//å¦‚æœå·²çŸ¥åˆå§‹å€¼ï¼š</span><br><span class="hljs-type">int</span>[] arr1 = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;;<br><br><span class="hljs-comment">//å¦‚æœæœªçŸ¥åˆå§‹å€¼ï¼Œéœ€è¦åŠ¨æ€åˆ›å»ºï¼š</span><br><span class="hljs-type">int</span>[] arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">5</span>];<br><span class="hljs-comment">//åç»­èµ‹å€¼æ—¶ï¼Œç›´æ¥å¼•ç”¨å…ƒç´ ï¼Œä¾‹å¦‚</span><br>arr[<span class="hljs-number">0</span>] = <span class="hljs-number">10</span>;<br>arr[<span class="hljs-number">1</span>] = <span class="hljs-number">20</span>;<br>arr[<span class="hljs-number">2</span>] = <span class="hljs-number">30</span>;<br>arr[<span class="hljs-number">3</span>] = <span class="hljs-number">40</span>;<br>arr[<span class="hljs-number">4</span>] = <span class="hljs-number">50</span>;<br><br></code></pre></td></tr></table></figure></p><ul><li>æ•°ç»„ä¸€æ—¦åˆå§‹åŒ–å®Œæˆï¼Œå…¶é•¿åº¦ç¡®å®šï¼Œå¹¶ä¸”æ— æ³•æ›´æ”¹ã€‚</li><li>å†…å­˜ä¸­ä¸€æ•´å—è¿ç»­çš„ç©ºé—´ã€‚</li><li>æ•°ç»„é•¿åº¦å¯ä»¥ä½¿ç”¨arr.lengthè·å–</li></ul><p><strong>æ•°ç»„å…ƒç´ çš„é»˜è®¤åˆå§‹åŒ–å€¼</strong></p><ul><li>æ•´å‹ï¼š<code>0</code></li><li>æµ®ç‚¹å‹ï¼š<code>0.0</code></li><li>å­—ç¬¦å‹ï¼š<code>0</code>ï¼ˆå¯¹åº”<code>'\u0000'</code>ï¼‰</li><li>booleanå‹ï¼š<code>false</code></li><li>å¼•ç”¨æ•°æ®ç±»å‹ï¼š<code>null</code></li></ul><h2 id="ç®—æ³•æ¡ˆä¾‹">ç®—æ³•æ¡ˆä¾‹</h2><h3 id="ç”Ÿæˆå›è¡Œæ•°">ç”Ÿæˆå›è¡Œæ•°</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpiralMatrix</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        System.out.print(<span class="hljs-string">&quot;è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—: &quot;</span>);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> scanner.nextInt();<br>        scanner.close();<br>        <br>        <span class="hljs-type">int</span>[][] matrix = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n][n];<br>        <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>, left = <span class="hljs-number">0</span>, right = n - <span class="hljs-number">1</span>, top = <span class="hljs-number">0</span>, bottom = n - <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">while</span> (num &lt;= n * n) &#123;<br>            <span class="hljs-comment">// ä»å·¦åˆ°å³</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> left; i &lt;= right; i++) matrix[top][i] = num++;<br>            top++;<br>            <br>            <span class="hljs-comment">// ä»ä¸Šåˆ°ä¸‹</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> top; i &lt;= bottom; i++) matrix[i][right] = num++;<br>            right--;<br>            <br>            <span class="hljs-comment">// ä»å³åˆ°å·¦</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> right; i &gt;= left; i--) matrix[bottom][i] = num++;<br>            bottom--;<br>            <br>            <span class="hljs-comment">// ä»ä¸‹åˆ°ä¸Š</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> bottom; i &gt;= top; i--) matrix[i][left] = num++;<br>            left++;<br>        &#125;<br>        <br>        <span class="hljs-comment">// æ‰“å°ç»“æœ</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; n; j++) &#123;<br>                System.out.printf(<span class="hljs-string">&quot;%3d &quot;</span>, matrix[i][j]);<br>            &#125;<br>            System.out.println();<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="æ•°ç»„çš„æ‰©å®¹">æ•°ç»„çš„æ‰©å®¹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Description:</span><br><span class="hljs-comment"> * ç°æœ‰æ•°ç»„ int[] arr = new int []&#123;1,2,3,4,5&#125;</span><br><span class="hljs-comment"> * å°†æ•°ç»„çš„é•¿åº¦æ‰©å®¹1å€ï¼Œå°†10ï¼Œ20ï¼Œ30æ·»åŠ åˆ°æ•°ç»„ä¸­ï¼Œå¦‚ä½•æ“ä½œï¼Ÿ</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> ep19</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 1.0</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> 2025/3/26 21:52</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">expansion</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span>[] arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span> []&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;;<br><br>        <span class="hljs-comment">//æ‰©å®¹1å€å®¹é‡</span><br>        <span class="hljs-type">int</span>[] newArr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span> [arr.length*<span class="hljs-number">2</span>];<br><br>        <span class="hljs-comment">//å¤åˆ¶åˆ°æ–°çš„æ•°ç»„ä¸­</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; arr.length; i++) &#123;<br>            newArr[i] = arr[i];<br>        &#125;<br><br>        <span class="hljs-comment">//æ·»åŠ æ–°çš„æ•°å­—</span><br>        newArr[arr.length] = <span class="hljs-number">10</span>;<br>        newArr[arr.length+<span class="hljs-number">1</span>] = <span class="hljs-number">20</span>;<br>        newArr[arr.length+<span class="hljs-number">2</span>] = <span class="hljs-number">30</span>;<br><br>        <span class="hljs-comment">//å°†æ–°çš„æ•°ç»„åœ°å€èµ‹å€¼ç»™åŸæœ‰çš„æ•°ç»„å˜é‡</span><br>        arr = newArr;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; newArr.length; i++) &#123;<br>            System.out.print(newArr[i] + <span class="hljs-string">&quot;\t&quot;</span>);<br>        &#125;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æŸ¥æ‰¾">æŸ¥æ‰¾</h3><ol type="1"><li>çº¿æ€§æŸ¥æ‰¾ï¼šéå†æ•°ç»„è¿”å›ç´¢å¼• å¤æ‚åº¦ï¼šO(N)</li><li>äºŒåˆ†æ³•æŸ¥æ‰¾ï¼ˆé€‚ç”¨äº<strong>æœ‰åº</strong>æ•°ç»„ï¼‰å¤æ‚åº¦ï¼šO(logâ‚‚N)</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">dichotomy</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span>[] arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>,<span class="hljs-number">22</span>&#125;;<br><br>        <span class="hljs-type">int</span> <span class="hljs-variable">target</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;<span class="hljs-comment">//æ˜¯å¦æ‰¾åˆ°äº†</span><br><br>        <span class="hljs-type">int</span> <span class="hljs-variable">head</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<span class="hljs-comment">//é»˜è®¤çš„é¦–ç´¢å¼•</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> arr.length - <span class="hljs-number">1</span>;<span class="hljs-comment">//é»˜è®¤çš„å°¾ç´¢å¼•</span><br><br>        <span class="hljs-keyword">while</span> (head &lt;= end) &#123;<br><br>            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> head + (end - head) / <span class="hljs-number">2</span>;<br><br>            <span class="hljs-keyword">if</span>(target == arr[mid]) &#123;<br>                System.out.println(<span class="hljs-string">&quot;found it, the index is &quot;</span> + mid);<br>                flag = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (target &gt; arr[mid]) &#123;<br>                head = mid + <span class="hljs-number">1</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                end = mid - <span class="hljs-number">1</span>;<br>            &#125;<br><br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (!flag) &#123;<br>            System.out.println(<span class="hljs-string">&quot;not found&quot;</span>);<br>        &#125;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ’åºç®—æ³•">æ’åºç®—æ³•</h3><ol type="1"><li>æ—¶é—´å¤æ‚åº¦ï¼šåˆ†æå…³é”®å­—çš„æ¯”è¾ƒæ¬¡æ•°å’Œè®°å½•ç§»åŠ¨çš„æ¬¡æ•°ï¼Œè®°ä¸º<spanclass="math inline">\(O(n)\)</span></li><li>ç©ºé—´å¤æ‚åº¦ï¼šåˆ†ææ’åºç®—æ³•ä¸­éœ€è¦å¤šå°‘è¾…åŠ©å†…å­˜ï¼Œè®°ä¸º<spanclass="math inline">\(S(n)\)</span></li><li>ç¨³å®šæ€§ï¼šè‹¥ä¸¤ä¸ªå€¼ç›¸ç­‰çš„Aå’ŒBåœ¨æ’åºåçš„å‰åé¡ºåºä¸å˜ï¼Œåˆ™è¿™ç§æ’åºç®—æ³•æ˜¯ç¨³å®šçš„</li></ol><p><strong>å†’æ³¡æ’åº</strong>ï¼š</p><p>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n^2)\)</span></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">bubbling</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span>[] arr = &#123;<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">2</span>,<span class="hljs-number">33</span>,<span class="hljs-number">55</span>,<span class="hljs-number">43</span>,<span class="hljs-number">22</span>,<span class="hljs-number">4</span>,<span class="hljs-number">9</span>,<span class="hljs-number">1</span>&#125;;<br><br>        <span class="hljs-comment">//æ‰“å°åˆå§‹æ•°ç»„</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k : arr) &#123;<br>            System.out.print(k + <span class="hljs-string">&quot;\t&quot;</span>);<br>        &#125;<br><br>        System.out.println();<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; arr.length; i++) &#123;<br><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; arr.length - <span class="hljs-number">1</span> - i; j++) &#123;<br>                <span class="hljs-keyword">if</span>(arr[j] &gt; arr[j+<span class="hljs-number">1</span>])&#123;<br>                    <span class="hljs-type">int</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> arr[j];<br>                    arr[j] = arr[j+<span class="hljs-number">1</span>];<br>                    arr[j+<span class="hljs-number">1</span>] = temp;<br>                &#125;<br>            &#125;<br>            <br>        &#125;<br>        <span class="hljs-comment">//æ‰“å°æ’åºåçš„ç»“æœ</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k : arr) &#123;<br>            System.out.print(k + <span class="hljs-string">&quot;\t&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å¿«é€Ÿæ’åº</strong></p><p>æ—¶é—´å¤æ‚åº¦ï¼š <span class="math inline">\(O(n\log(n))\)</span></p><h2 id="arrayså·¥å…·ç±»">Arrayså·¥å…·ç±»</h2><p><strong>åˆ¤æ–­ä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰</strong></p><p>ä½ç½®ï¼šjava.util</p><p>boolean equals(int[] a,int[] b):æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„çš„å…ƒç´ æ˜¯å¦<strong>ä¾æ¬¡ç›¸ç­‰</strong>ã€‚ç›¸ç­‰æ—¶è¿”å›trueã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-type">boolean</span> <span class="hljs-variable">isEquals</span> <span class="hljs-operator">=</span> Arrays.equals(arr1,arr2);<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ•°ç»„ä¿¡æ¯</strong></p><p><code>System.out.println(Arrays.toString(arr1));</code></p><p><strong>å¡«å……</strong></p><p>å°†æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ å¡«å……ä¸ºæŒ‡å®šçš„æ•°å€¼ï¼Œä¾‹å¦‚ï¼š<code>Arrays.fill(arr1,22);</code></p><p><strong>æ’åº</strong></p><p><code>Arrays.sort(arr3);</code>ï¼Œä½¿ç”¨å¿«é€Ÿæ’åºç®—æ³•</p><p>æ•°ç»„çš„ç´¢å¼•ï¼Œè¡¨ç¤ºæ•°ç»„å…ƒç´ è·ç¦»é¦–åœ°å€çš„åç§»é‡ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€ä¸é¦–åœ°å€ç›¸åŒï¼Œåç§»é‡ä¸º0ï¼Œç´¢å¼•æ˜¯0</p><p>æ¡ˆä¾‹ï¼š</p><blockquote><p>è¾“å…¥ä¸€ä¸ªæ•´å‹æ•°ç»„ï¼Œæ•°ç»„é‡Œæ—¢æœ‰æ­£æ•°ä¹Ÿæœ‰è´Ÿæ•°ï¼Œæ•°ç»„ä¸­è¿ç»­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ•´æ•°æˆä¸€ä¸ªå­æ•°ç»„ï¼Œæ¯ä¸ªå­æ•°ç»„éƒ½æœ‰ä¸€ä¸ªå’Œï¼Œæ±‚æ‰€æœ‰å­æ•°ç»„çš„å’Œçš„æœ€å¤§å€¼ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚</p></blockquote><p><strong>å¡ä¸¹ç®—æ³•</strong>(Kadane's Algorithm)ï¼Œç”¨<code>currentSum</code>è®°å½•ä»¥å½“å‰ä½ç½®ä¸ºç»“å°¾çš„å­æ•°ç»„çš„æœ€å¤§å’Œï¼Œ<code>maxSum</code>è®°å½•æ‰€æœ‰å­æ•°ç»„ä¸­çš„æœ€å¤§å’Œã€‚éå†æ•°ç»„ï¼Œå¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œæœ€å¤§å­æ•°ç»„å’Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼š</p><ol type="1"><li><code>nums[i]</code>è‡ªå·±æ„æˆä¸€ä¸ªå­æ•°ç»„ï¼Œæœ€å¤§å­æ•°ç»„å’Œå°±æ˜¯å®ƒè‡ªå·±</li><li><code>nums[i]</code>ä¸å‰é¢çš„æœ€å¤§å­æ•°ç»„å’Œç›¸åŠ ä¹‹åï¼Œå¾—åˆ°çš„ç»“æœæ‰æ˜¯æœ€å¤§å­æ•°ç»„å’Œ</li></ol><p>æ‰€ä»¥ï¼Œ<code>currentSum</code>æ¯æ¬¡éƒ½å–ä»¥ä¸Šä¸¤ç§æƒ…å†µä¸­æœ€å¤§çš„ä¸€ä¸ªã€‚ä¹‹åï¼Œæ›´æ–°<code>maxSum</code>ï¼Œè®°å½•ä¸‹è¿™ä¸ªæœ€å¤§å€¼å³å¯ã€‚å®ç°çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Description:</span><br><span class="hljs-comment"> * è¾“å…¥ä¸€ä¸ªæ•´å‹æ•°ç»„ï¼Œæ•°ç»„é‡Œæ—¢æœ‰æ­£æ•°ä¹Ÿæœ‰è´Ÿæ•°ï¼Œæ•°ç»„ä¸­è¿ç»­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ•´æ•°æˆä¸€ä¸ªå­æ•°ç»„ï¼Œæ¯ä¸ªå­æ•°ç»„éƒ½æœ‰ä¸€ä¸ªå’Œï¼Œ</span><br><span class="hljs-comment"> * æ±‚æ‰€æœ‰å­æ•°ç»„çš„å’Œçš„æœ€å¤§å€¼ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> ep19</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 1.0</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> 2025/3/27 21:31</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">sum</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//åˆ›å»ºæ•°ç»„</span><br>        <span class="hljs-type">int</span>[] nums = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>,-<span class="hljs-number">3</span>,-<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>&#125;;<br><br>        <span class="hljs-type">int</span> <span class="hljs-variable">maxSum</span> <span class="hljs-operator">=</span> nums[<span class="hljs-number">0</span>];<span class="hljs-comment">//å­æ•°ç»„å’Œçš„æœ€å¤§å€¼</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">currentSum</span> <span class="hljs-operator">=</span> nums[<span class="hljs-number">0</span>];<span class="hljs-comment">//å½“å‰çš„å­æ•°ç»„çš„å’Œ</span><br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; nums.length; i++) &#123;<span class="hljs-comment">//æ³¨æ„iä»1å¼€å§‹è®¡æ•°ï¼Œè€Œä¸æ˜¯0</span><br>            currentSum  = Math.max(currentSum + nums[i], nums[i]);<br>            maxSum = Math.max(maxSum, currentSum);<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;maxSum is &quot;</span> + maxSum);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¡ä¸¹ç®—æ³•åªéœ€è¦å¯¹æ•°ç»„è¿›è¡Œä¸€æ¬¡éå†ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯<spanclass="math inline">\(O(n)\)</span>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Java SE</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ºHexoåšå®¢ç»‘å®šåŸŸåå‡ºç°ERR_SSL_UNRECOGNIZED_NAME_ALERTué”™è¯¯</title>
    <link href="/2025/01/17/%E7%BB%91%E5%AE%9A%E5%9F%9F%E5%90%8D/"/>
    <url>/2025/01/17/%E7%BB%91%E5%AE%9A%E5%9F%9F%E5%90%8D/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1><p>æœ€è¿‘ä¸ºè¿™ä¸ªåšå®¢ç½‘ç«™æ–°ç»‘å®šäº†ä¸€ä¸ªåŸŸåã€‚å› ä¸ºæˆ‘å…ˆå‰æ²¡æœ‰å­¦è¿‡è®¡ç®—æœºç½‘ç»œç›¸å…³çš„çŸ¥è¯†ï¼Œé‡åˆ°ERR_SSL_UNRECOGNIZED_NAME_ALERTuçš„æŠ¥é”™çš„æ—¶å€™ååº”äº†åŠå¤©æ‰æ˜ç™½è¦å»ç”³è¯·ä¸€ä¸ªSSLè¯ä¹¦ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹è¿™æ¬¡ç»‘å®šåŸŸåçš„æ“ä½œæµç¨‹ã€‚</p><h1 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h1><p>1.<ahref="https://cps.ninja/2016/10/09/customize-your-blog-domain/">ä¸ºGithub ä¸Šçš„ Hexo åšå®¢ç»‘å®šä¸ªæ€§åŸŸå</a></p><p>2.<ahref="https://www.littlelittleblack.com/Hexo/20200508-self-server-url.html">åœ¨è‡ªæ¶æœåŠ¡å™¨ä¸Šæ­å»ºHexoåšå®¢å¹¶ç»‘å®šåŸŸå</a></p><h1 id="æ“ä½œæµç¨‹">æ“ä½œæµç¨‹</h1><p>æˆ‘æœ€å¼€å§‹çœ‹çš„æ˜¯ç¬¬ä¸€ä¸ªé“¾æ¥ï¼Œåœ¨namesiloä¸Šè´­ä¹°ä¸€ä¸ªåŸŸåï¼Œç„¶åç›´æ¥ä½¿ç”¨namesiloè¿›è¡ŒDNSè§£æã€‚ç¬¬ä¸€ä¸ªé“¾æ¥é‡Œæœ‰ä¸€ç‚¹æ²¡æœ‰è¯´æ¸…æ¥šï¼šAè®°å½•çš„IPåœ°å€åº”å½“æ˜¯<code>username.github.io</code>çš„IPåœ°å€ï¼Œè€Œä¸æ˜¯githubçš„åœ°å€ã€‚å¯¹æ­¤ï¼Œgithubçš„<ahref="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site">å®˜æ–¹æ–‡æ¡£</a>ä¸­æœ‰è¯¦ç»†çš„è¯´æ˜ï¼š</p><p><img src="https://i.imgur.com/ZMUsLHh.png" /></p><p>å‘DNSè§£æä¸­åŠ å…¥4ä¸ªAè®°å½•å³å¯ã€‚</p><p>å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡pingçš„æ–¹å¼è·å–IPåœ°å€ã€‚æŒ‰<code>win</code>+<code>R</code>è¾“å…¥<code>cmd</code>ï¼Œå†è¾“å…¥<code>ping username.github.io</code>ï¼Œçœ‹ä¸€ä¸‹è¿”å›çš„IPå³å¯ï¼š</p><p><img src="https://i.imgur.com/OEH8zEM.png" /></p><p>è¿™æ¬¡è¿”å›çš„æ˜¯<code>185.199.109.153</code>.</p><h1 id="è¸©å‘">è¸©å‘</h1><p>æˆ‘æŒ‰ç…§é“¾æ¥1çš„æ­¥éª¤æ“ä½œå®Œæˆä¹‹åï¼Œå‘ç°æ–°ç»‘å®šåŸŸååçš„åšå®¢ä»æ— æ³•æ‰“å¼€ï¼ŒæŠ¥é”™ï¼š</p><p><strong>å—¯â€¦ æ— æ³•è®¿é—®æ­¤é¡µé¢ https://kznep19.blog/ä¸Šçš„ç½‘é¡µä¼¼ä¹æœ‰é—®é¢˜ï¼Œæˆ–è€…å¯èƒ½å·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°çš„ Web åœ°å€ã€‚ERR_SSL_UNRECOGNIZED_NAME_ALERTu</strong></p><p>å‘æµè§ˆå™¨ä¸­è¾“å…¥<code>username.github.io</code>ï¼Œå‘ç°åŸæ¥çš„åœ°å€ä¹Ÿæ— æ³•è®¿é—®äº†ã€‚èµ·åˆæˆ‘ä»¥ä¸ºæ˜¯namesiloè‡ªå¸¦çš„DNSè§£æåŠŸèƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨ï¼ˆå› ä¸ºnamesiloçš„åå£°ä¼¼ä¹ä¸æ˜¯å¾ˆå¥½ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¿ç…§é“¾æ¥2å°†NDSè§£æè½¬ç§»åˆ°å›½å†…çš„DNSPodç½‘ç«™ä¸Šï¼Œå‘ç°ä»ç„¶æ˜¯åŒæ ·çš„æŠ¥é”™ï¼Œè¯´æ˜é—®é¢˜ä¸åœ¨è¿™é‡Œã€‚</p><p>æ³¨æ„<code>ERR_SSL_UNRECOGNIZED_NAME_ALERTu</code>ï¼Œå¯¹æ­¤ChatGPTçš„å›ç­”å¦‚ä¸‹ï¼š</p><blockquote><p>ERR_SSL_UNRECOGNIZED_NAME_ALERT æ˜¯ä¸€ä¸ªä¸ SSL/TLSè¿æ¥ç›¸å…³çš„é”™è¯¯ï¼Œé€šå¸¸å‡ºç°åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›è¡ŒåŠ å¯†é€šä¿¡æ—¶ã€‚è¿™ç§é”™è¯¯è¡¨ç¤ºå®¢æˆ·ç«¯åœ¨è¯·æ±‚æ—¶æä¾›çš„ä¸»æœºåï¼ˆå¦‚ç½‘å€ï¼‰æ²¡æœ‰åœ¨æœåŠ¡å™¨çš„è¯ä¹¦ä¸­æ­£ç¡®åŒ¹é…ï¼Œæˆ–è€…æœåŠ¡å™¨æ²¡æœ‰æ­£ç¡®é…ç½®SSL/TLS è¯ä¹¦ã€‚</p></blockquote><p>â€œæ²¡æœ‰æ­£ç¡®é…ç½® SSL/TLSè¯ä¹¦â€ï¼Œæˆ‘æŸ¥æ‰¾èµ„æ–™çš„è¿‡ç¨‹ä¸­æ²¡æœ‰è§åˆ°è¯´ç»‘å®šåŸŸåéœ€è¦å•ç‹¬é…ç½®SSLè¯ä¹¦çš„æ•™ç¨‹ã€‚ç›´åˆ°æˆ‘çœ‹åˆ°äº†<ahref="https://github.com/lss233/chatgpt-mirai-qq-bot/issues/1146">è¿™ä¸ªç½‘ç«™</a>ï¼Œé‡Œé¢æåˆ°</p><blockquote><p>æµè§ˆå™¨æŠ¥é”™ ERR_SSL_UNRECOGNIZED_NAME_ALERT<br />å…¶æ„ä¸º â€œé”™è¯¯ SSL æ— æ³•è¯†åˆ«çš„åç§°è­¦æŠ¥"ã€‚åº”è¯¥å› ä¸ºä½ è¿˜æœªéƒ¨ç½²SSLè¯ä¹¦ğŸ’¦ã€‚SSLè¯ä¹¦æ˜¯æ­¤æœåŠ¡å¿…é¡»çš„ï¼Œå»ç”³è¯·ä¸€ä¸ªå³å¯ ğŸ™ã€‚</p></blockquote><p>äºæ˜¯æˆ‘åœ¨<ahref="https://ohttps.com/monitor/dashboard">OHTTPS</a>ä¸­ä¸ºè¿™ä¸ªåŸŸåå…è´¹ç”³è¯·äº†ä¸€ä¸ªSSLè¯ä¹¦ï¼Œå¾ˆå¿«ç½‘ç«™å°±èƒ½æ­£å¸¸è®¿é—®äº†ï¼Œè‡³æ­¤é—®é¢˜ç»ˆäºå¾—åˆ°è§£å†³ã€‚</p><p>å¦å¤–ï¼Œä¸ç®¡æ˜¯OHTTPSè¿˜æ˜¯DNSPodæä¾›çš„SSLè¯ä¹¦å‘æ”¾æœåŠ¡ï¼Œå…¶å…è´¹è¯ä¹¦çš„æœ‰æ•ˆæœŸéƒ½åªæœ‰ä¸‰ä¸ªæœˆï¼Œå¿«åˆ°æœŸçš„æ—¶å€™è¦ä¸è¦å¿˜äº†æ›´æ¢è¯ä¹¦ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã‚¨ãƒ«ãƒ-ãƒ¨ãƒ«ã‚·ã‚«</title>
    <link href="/2025/01/07/Elma/"/>
    <url>/2025/01/07/Elma/</url>
    
    <content type="html"><![CDATA[<style>p { font: 12pt Yu Mincho !important; }</style><p>é›¨ã¨ã‚«ãƒ—ãƒãƒ¼ãƒ - ãƒ¨ãƒ«ã‚·ã‚«</p><p>è©ï¼šn-buna</p><p>æ›²ï¼šn-buna</p><p>ç·¨æ›²ï¼šn-buna</p><hr /><p>å™“ã¤ããªã‚“ã¦ã€€ã‚ã‹ã£ã¦ã€€è§¦ã‚Œã¦</p><p>ã‚¨ãƒ«ãƒã€€ã¾ã ã€€ã¾ã ç—›ã„ã‚ˆ</p><p>ã‚‚ã†ã•ã‚ˆãªã‚‰ã ã£ã¦æ­Œã£ã¦</p><p>æš®ã‚Œã¦å¤œãŒæ¥ã‚‹ã¾ã§</p><hr /><p>æœæ—¥ã®å·®ã™æœ¨æ¼ã‚Œæ—¥ã€€åƒ•ã¨ã‚¨ãƒ«ãƒ</p><p>ã¾ã ã€€ã¾ã çœ ã„ã‹ã„</p><p>åˆå¤ã®åˆã‚è¿‘ã¥ãäº”æœˆã®æ£®</p><hr /><p>æ­©ãã ã—ãŸé¡”ã«ã¯èŠ±ã®é›«</p><p>ã»ã‚‰ã€€æ¶™ã¿ãŸã„ã </p><p>ã“ã®ã¾ã¾æ¬ ä¼¸ã‚’ã—ã‚ˆã†</p><p>ãªã‚“ãªã‚‰ã¾ãŸæ¤…å­ã«ã§ã‚‚åº§ã‚ã†</p><hr /><p>è¨±ã›ãªã„ã“ã¨ãªã‚“ã¦ãªã„ã‚“ã ã‚ˆ</p><p>å›ã¯å„ªã—ããªã‚“ã¦ãªã‚Œã‚‹</p><hr /><p>ã“ã®ã¾ã¾ä½•å‡¦ã‹ã®é ã„å›½ã§</p><p>æµ…ã„å¤ã®éš™é–“ã«å¯ãã¹ã£ãŸã¾ã¾</p><p>æ¶™ã‚‚è¨€è‘‰ã‚‚å‡ºãªã„ã¾ã¾ã§</p><p>ãŸã å¤œã®æ·±ã•ã‚‚çŸ¥ã‚‰ãªã„ã¾ã¾ã§</p><hr /><p>å™“ã¤ããªã‚“ã¦ã€€ã‚ã‹ã£ã¦ã€€è§¦ã‚Œã¦</p><p>ã‚¨ãƒ«ãƒã€€ã¾ã ã€€ã¾ã ç—›ã„ã‚ˆ</p><p>ã‚‚ã†ã•ã‚ˆãªã‚‰ã ã£ã¦æ­Œã£ã¦</p><p>æš®ã‚Œã¦å¤œãŒæ¥ã‚‹ã¾ã§</p><hr /><p>è¾›ã„ã“ã¨ã‚‚è‹¦ã—ã„ã“ã¨ã‚‚ä½•ã‚‚è¦‹ãˆãªã„ãªã‚‰ã‚ã‹ã‚‰ãªã„ã—</p><p>å¡ã„ã ç›®é–‰ã˜ãŸã¾ã¾ã§é€ƒã’ãŸ</p><p>æœˆæ˜ã‹ã‚Šã®é“ã‚’æ­©ã</p><hr /><p>ç‹­ã„éƒ¨å±‹ã‚‚å†·ãŸã„å¤œã‚‚</p><p>çœ ã„æ˜¼ã‚‚ã€€å¯‚ã—ã„æœã‚‚</p><p>ã•ã‚ˆãªã‚‰ã®è¨€è‘‰è¶Šã—ã«å›ã®é¡”ã‚’è¦‹ã¦ã‚‹</p><hr /><p>ã“ã®ã¾ã¾ä½•å‡¦ã‹ã®é ã„å›½ã§</p><p>æµ…ã„å¤ã®éš™é–“ã«å¯ãã¹ã£ãŸã¾ã¾</p><p>æ¶™ã‚‚è¨€è‘‰ã‚‚å‡ºãªã„ã¾ã¾ã§</p><p>ãŸã ç©ºã®é’ã•ã ã‘è¦‹ãŸã¾ã¾ã§</p><hr /><p>ãŸã å›ã¨çµ‚ã‚ã‚Šã‚‚çŸ¥ã‚‰ãªã„ã¾ã¾ã§</p><hr /><p>å™“ã¤ããªã‚“ã¦ã€€ã‚ã‹ã£ã¦ã€€è§¦ã‚Œã¦</p><p>ã‚¨ãƒ«ãƒã€€ã¾ã ã€€ã¾ã ç—›ã„ã‚ˆ</p><p>ã‚‚ã†ã•ã‚ˆãªã‚‰ã ã£ã¦æ­Œã£ã¦</p><p>æš®ã‚Œã¦å¤œãŒæ¥ã‚‹ã¾ã§</p>]]></content>
    
    
    <categories>
      
      <category>æ—¥è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å°‘å¥³A</title>
    <link href="/2025/01/05/%E5%B0%91%E5%A5%B3A/"/>
    <url>/2025/01/05/%E5%B0%91%E5%A5%B3A/</url>
    
    <content type="html"><![CDATA[<style>p { font: 12pt Yu Mincho !important; }</style><p>ç¥æ§˜ã®ãƒ€ãƒ³ã‚¹ - ãƒ¨ãƒ«ã‚·ã‚«</p><p>ä½œè©ï¼šæ¤åã‚‚ãŸï¼ˆã½ã‚ã½ã‚Pï¼‰</p><p>ä½œæ›²ï¼šæ¤åã‚‚ãŸï¼ˆã½ã‚ã½ã‚Pï¼‰</p><p>å”„ï¼šé¡éŸ³ãƒªãƒ³</p><p>ä¸­æ–‡ç¿»è­¯ï¼šhttps://home.gamer.com.tw/artwork.php?sn=5816671</p><hr /><p>åƒ•ã®å‘½ã£ã¦ã£ãŸã£ã¦ã€€èª°ã®å‘½ã£ã¤ã£ãŸã£ã¦</p><p>å³ä½¿èªªé€™æ˜¯æˆ‘çš„ç”Ÿå‘½ã€€å³ä½¿èªªé€™æ˜¯ä»–äººçš„ç”Ÿå‘½</p><p>æ™‚ã€…ã€€å…¬å¹³ã«ã€€è£ã‹ã‚Œã‚‹ã‚‚ã‚“ãªã‚“ã§ã—ã‚‡</p><p>å¶çˆ¾ã€€ä¹Ÿæœƒè¢«å…¬å¹³åœ°ã€€å—åˆ°è£æ±ºå°å§</p><p>æš—ã„ç©ºã«ã‚„ã£ã¦ããŸã€€é¬±ã‚’é€£ã‚Œã¦ã‚„ã£ã¦ããŸ</p><p>æˆ‘æŠµé”äº†æ¼†é»‘çš„å¤©ç©ºã€€ä¸¦å¸¶ä¾†äº†æ†‚æ„</p><p>æ™‚ã€…é›¨ã€€ç·è¨ˆã«ã€€é ¼ã‚Šåˆ‡ã‚Šã ã€€ã©ã†ã—ã‚ˆã†</p><p>å¶çˆ¾ä¸‹èµ·äº†é›¨ã€€æˆ‘ç¸½æ˜¯ã€€ä¾è³´è‘—å®ƒã€€è©²æ€éº¼è¾¦å‘¢</p><p>æœ½ã¡ã‚‹ã¾ã§ã®æ„›æ†ã‚’ã€€æœ½ã¡ã‚‹ã¾ã§ã®æ„›æ†ã‚’</p><p>æ¥å—æ¯æœ½ä¹‹å‰çš„æ„›æ†ã€€æ¯æœ½ä¹‹å‰çš„æ„›æ†çš„ä½ </p><p>é£²ã¿è¾¼ã‚€å›ã€€ç°¡å˜ã«ã€€å¾®ç¬‘ã‚€å›ã€€ã©ã†ã—ã¦</p><p>ç°¡å–®åœ°ã€€éœ²å‡ºå¾®ç¬‘çš„ä½ ã€€ç‚ºä»€éº¼</p><p>è¨€è‘‰ã‚’æ›¸ãã€€æ›–æ˜§ã«ã€€è¨€è‘‰ã‚’æ›¸ãã€€æ›–æ˜§ã«</p><p>æ›–æ˜§åœ°ã€€æ›¸å¯«è‘—è©±èªã€€æ›–æ˜§åœ°ã€€æ›¸å¯«è‘—è©±èª</p><p>ä¼ã‚ã‚Šãã‚‰ã‚“ãªã„ã‹ã‚‰ã€€å›ã ã‘ã‚’ã•ã€€ä¿¡ã˜ã¦</p><p>å› ç‚ºæ ¹æœ¬ç„¡æ³•å…¨æ•¸å‚³é”å‡ºå»å•Šã€€æ‰€ä»¥æˆ‘åªã€€ç›¸ä¿¡ä½ ä¸€äºº</p><p>æ¨ã¦ã¦ããŸå¤¢ã‚’ã‚ã¤ã‚ã¦</p><p>æˆ‘é–‹å§‹æ”¶é›†èµ·ä¹‹å‰æˆ‘æ‰€æ¨æ£„çš„å¤¢æƒ³</p><p>ã¡ã‚‡ã£ã¨ã€€ã¡ã‚‡ã£ã¨ã€€é–“é•ãˆãŸã‹ã‚‰</p><p>å› ç‚ºé€™å…¶ä¸­æœ‰äº›ã€€æœ‰äº›ã€€éŒ¯èª¤å•Š</p><p>ã‚ã‚ã€€ã€Œæ™‚ã«ã€€æ™‚ã«ã€€èº“ã„ãŸã£ã¦ã€ã€</p><p>å•Šå•Šã€€ã€Œå³ä½¿å¶çˆ¾ã€€å¶çˆ¾ã€€å—åˆ°æŒ«æŠ˜ã€ã€ã€€ä¹Ÿé‚„æ˜¯</p><p>å¯’ã„å¯’ã„å¯’ã„å¯’ã„å¯’ã„</p><p>å¥½å†·å¥½å†·å¥½å†·å¥½å†·å¥½å†·</p><p>å¯’ã„å¯’ã„å¯’ã„å¯’ã„å¯’ã„</p><p>å¥½å†·å¥½å†·å¥½å†·å¥½å†·å¥½å†·</p><p>å¯’ã„å¯’ã„å¯’ã„å¯’ã„ã€€è¨€ã„å¯„ã‚‰ãªã„ã§</p><p>å¥½å†·å¥½å†·å¥½å†·å¥½å†·ã€€åˆ¥å¦‚æ­¤æ±‚æ„›å•Š</p><p>ã‚ã‚ã€€å›ã®å›ã®å›ã®å£°ãŒ</p><p>å•Šå•Šã€€ä½ çš„ä½ çš„ä½ çš„è²éŸ³ååˆ†</p><p>é ã„é ã„é ã„é ã„é ã„</p><p>é™é é™é é™é é™é é™é </p><p>é ã„é ã„é ã„é ã„é ã„</p><p>é™é é™é é™é é™é é™é </p><p>é ã„é ã„é ã„é ã„ã€€å‚·ã¤ã‘ãªã„ã§</p><p>é™é é™é é™é é™é ã€€åˆ¥å‚·å®³æˆ‘å•Š</p><p>ä½•ç•ªç›®ã§ã‚‚ã€€ä½•ç•ªç›®ã§ã‚‚</p><p>ä¸ç®¡æ˜¯ç¬¬å¹¾å€‹ã€€ä¸ç®¡æ˜¯ç¬¬å¹¾å€‹</p><p>åƒ•ãŒåƒ•ã§ã‚ã‚‹ãŸã‚ã«ï¼Ÿ</p><p>æˆ‘ä¹Ÿå¸Œæœ›æˆ‘èƒ½ä¿æœ‰è‡ªæˆ‘ï¼Ÿ</p><p>å¥‘ã‚Šé›†ã‚æŒã£ã¦ããŸã€€å¥‘ã‚Šé›†ã‚æŒã£ã¦ããŸ</p><p>æˆ‘æ”¶é›†èµ·ä¾†å„ç¨®ç´„å®šã€€æˆ‘æ”¶é›†èµ·ä¾†å„ç¨®ç´„å®š</p><p>ã‚ã®æ—¥ã®é–“é•ã„ã‚’ã€€é£²ã¿è¾¼ã‚€ã®ãŒè‹¦ã‚‹ã—ãã¦</p><p>è¦ç†è§£é‚£ä¸€å¤©çš„èª¤æœƒã€€å¯¦åœ¨æ˜¯éæ–¼ç—›è‹¦</p><p>æœ½ã¡ã‚‹ã¾ã§ã®æ„›æ†ã‚’ã€€æœ½ã¡ã‚‹ã¾ã§ã®æ„›æ†ã‚’</p><p>æ¥å—æ¯æœ½ä¹‹å‰çš„æ„›æ†ã€€æ¯æœ½ä¹‹å‰çš„æ„›æ†çš„ä½ </p><p>é£²ã¿è¾¼ã‚€å›ã€€ç°¡å˜ã«ã€€å¾®ç¬‘ã‚€å›ã€€ã©ã†ã—ã¦</p><p>ç°¡å–®åœ°ã€€éœ²å‡ºå¾®ç¬‘çš„ä½ ã€€ç‚ºä»€éº¼</p><p>ã€Œå­ä¾›ã ã¾ã—ã®èŠ±ãµãŸã¤ã€ã€</p><p>ã€Œæ¬ºé¨™å°å­©çš„å…©æŸèŠ±ã€ã€</p><p>ãã£ã¨ã€€ãã£ã¨ã€€è«¦ã‚ãŸã‹ã‚‰ï¼Ÿ</p><p>ä¸€å®šã€€ä¸€å®šæ˜¯å› ç‚ºã€€æˆ‘æ”¾æ£„äº†ï¼Ÿ</p><p>ã‚ã‚ã€€é ã„å¤¢ã‚’è¿½ã„ã‹ã‘ã¦ã•</p><p>å•Šå•Šã€€æˆ‘è¿½è¶•è‘—é™é çš„å¤¢æƒ³ã€€ä½†å¤¢æƒ³å»ååˆ†</p><p>æ—©ã„æ—©ã„æ—©ã„æ—©ã„æ—©ã„</p><p>å¿«é€Ÿå¿«é€Ÿå¿«é€Ÿå¿«é€Ÿå¿«é€Ÿ</p><p>æ—©ã„æ—©ã„æ—©ã„æ—©ã„æ—©ã„</p><p>å¿«é€Ÿå¿«é€Ÿå¿«é€Ÿå¿«é€Ÿå¿«é€Ÿ</p><p>æ—©ã„æ—©ã„æ—©ã„æ—©ã„ã€€è¿½ã„ã¤ã‘ãªã„ã‚ˆ</p><p>å¿«é€Ÿå¿«é€Ÿå¿«é€Ÿå¿«é€Ÿã€€æˆ‘æ ¹æœ¬ç„¡æ³•è¿½ä¸Šå•Š</p><p>æ¨ã¦ãã‚Œãšæ®‹ã—ãŸæ€ã„ãŒ</p><p>æˆ‘ç„¡æ³•å®Œå…¨æ¨æ£„ä¸¦éºç•™ä¸‹ä¾†çš„æ„Ÿå—è®“äººååˆ†</p><p>æ†ã„æ†ã„æ†ã„æ†ã„æ†ã„</p><p>æ†æ¨æ†æ¨æ†æ¨æ†æ¨æ†æ¨</p><p>æ†ã„æ†ã„æ†ã„æ†ã„æ†ã„</p><p>æ†æ¨æ†æ¨æ†æ¨æ†æ¨æ†æ¨</p><p>æ†ã„æ†ã„æ†ã„æ†ã„ã€€è¨±ã•ã‚Œãªã„ã®ï¼Ÿ</p><p>æ†æ¨æ†æ¨æ†æ¨æ†æ¨ã€€ä¸è¢«ä»–äººåŸè«’å—ï¼Ÿ</p><p>ã‚ã‚ã€€å¤¢ã‚’å¤¢ã‚’è¦‹ã¦ãŸã¯ãšãŒ</p><p>å•Šå•Šã€€æˆ‘æœ¬æ‡‰è©²æ­£åœ¨åšå¤¢ã€€ä½†å»æ„Ÿåˆ°äº†</p><p>æ€–ã„æ€–ã„æ€–ã„æ€–ã„æ€–ã„</p><p>ææ‡¼ææ‡¼ææ‡¼ææ‡¼ææ‡¼</p><p>æ€–ã„æ€–ã„æ€–ã„æ€–ã„æ€–ã„</p><p>ææ‡¼ææ‡¼ææ‡¼ææ‡¼ææ‡¼</p><p>æ€–ã„æ€–ã„æ€–ã„æ€–ã„ã€€è¿‘ã¥ã‹ãªã„ã§</p><p>ææ‡¼ææ‡¼ææ‡¼ææ‡¼ã€€åˆ¥é è¿‘æˆ‘å•Š</p><p>åˆè¨€è‘‰ã‚’ç¹°ã‚Šè¿”ã™ã ã‘</p><p>æˆ‘åªæ˜¯ä¸æ–·é‡è¤‡è‘—æš—èªè€Œå·²</p><p>å¯’ã„å¯’ã„å¯’ã„å¯’ã„å¯’ã„</p><p>å¥½å†·å¥½å†·å¥½å†·å¥½å†·å¥½å†·</p><p>å¯’ã„å¯’ã„å¯’ã„å¯’ã„å¯’ã„</p><p>å¥½å†·å¥½å†·å¥½å†·å¥½å†·å¥½å†·</p><p>å¯’ã„å¯’ã„å¯’ã„å¯’ã„ã€€ãŠé¡˜ã„ã ã‹ã‚‰</p><p>å¥½å†·å¥½å†·å¥½å†·å¥½å†·ã€€æ‹œè¨—ä½ </p><p>ä½•ç•ªç›®ã§ã‚‚ã€€ä½•ç•ªç›®ã§ã‚‚</p><p>ä¸ç®¡æ˜¯ç¬¬å¹¾å€‹ã€€ä¸ç®¡æ˜¯ç¬¬å¹¾å€‹</p><p>åƒ•ãŒåƒ•ã§ã‚ã‚‹ãŸã‚ã«â€¦</p><p>æˆ‘ä¹Ÿå¸Œæœ›æˆ‘èƒ½ä¿æœ‰è‡ªæˆ‘â€¦</p>]]></content>
    
    
    <categories>
      
      <category>æ—¥è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é›¨ã¨ã‚«ãƒ—ãƒãƒ¼ãƒ - ãƒ¨ãƒ«ã‚·ã‚«</title>
    <link href="/2024/12/30/%E9%9B%A8%E3%81%A8%E3%82%AB%E3%83%97%E3%83%81%E3%83%BC%E3%83%8E%20-%20%E3%83%A8%E3%83%AB%E3%82%B7%E3%82%AB/"/>
    <url>/2024/12/30/%E9%9B%A8%E3%81%A8%E3%82%AB%E3%83%97%E3%83%81%E3%83%BC%E3%83%8E%20-%20%E3%83%A8%E3%83%AB%E3%82%B7%E3%82%AB/</url>
    
    <content type="html"><![CDATA[<style>p { font: 12pt Yu Mincho !important; }</style><p>é›¨ã¨ã‚«ãƒ—ãƒãƒ¼ãƒ - ãƒ¨ãƒ«ã‚·ã‚«</p><p>è©ï¼šn-buna</p><p>æ›²ï¼šn-buna</p><p>ç·¨æ›²ï¼šn-buna</p><hr /><p>ç°è‰²ã«ç™½ã‚“ã è¨€è‘‰ã¯ã‚«ãƒ—ãƒãƒ¼ãƒã¿ãŸã„ãªè‰²ã—ã¦ã‚‹</p><p>è¨€ã„è¨³ã¯ã„ã„ã‚ˆã€€çª“è¾ºã«ç½®ã„ã¦ãã¦</p><p>æ•°ãˆåˆ‡ã‚Œãªã„ã‚ˆ</p><hr /><p>ç°è‰²ã«ç™½ã‚“ã å¿ƒã¯ã‚«ãƒ—ãƒãƒ¼ãƒã¿ãŸã„ãªè‰²ã‚’ã—ã¦ã‚‹</p><p>è¨€ã„è¨³ã¯ã„ã„ã‚ˆã€€<ruby>å‘·<rt>ã‚ãŠ</rt></ruby>ã‚ã†ã‚«ãƒ—ãƒãƒ¼ãƒ</p><p><ruby>æˆ¯<rt>ãŠã©</rt></ruby>ã‘ãŸæŒ¯ã‚Šã‚’ã—ã¦</p><hr /><p>ã•ã<ruby>æºè•©<rt>ãŸã‚†ãŸ</rt></ruby>ã†ã‚ˆã†ã«é›¨æµã‚Œ</p><p>åƒ•ã‚‰ã«<ruby>åµ<rt>ã‚ã‚‰</rt></ruby>ã™èŠ±ã«æººã‚Œ</p><p>å›ãŒ<ruby>è¤ª<rt>ã‚</rt></ruby>ã›ãªã„ã‚ˆã†ãªæ€ã„å‡ºã‚’</p><p>ã©ã†ã‹ã€ã©ã†ã‹ã€ã©ã†ã‹å›ãŒæº¢ã‚Œãªã„ã‚ˆã†ã«</p><hr /><p><ruby>æ³¢<rt>ãªã¿</rt></ruby>å¾…ã¤æµ·å²¸ã€€<ruby>ç´…<rt>ãã‚Œãªã„</rt></ruby>å¤•å·®ã™æ—¥</p><p>çª“ã«åå°„ã—ã¦</p><p>å…«æœˆã®ãƒ´ã‚£ã‚¹ãƒ“ãƒ¼ã€€<ruby>æ½®é¨’<rt>ã—ãŠã•ã„</rt></ruby></p><p>å¾…ã¡ã¼ã†ã‘ã€€æµ·é¢¨ä¸€ã¤ã§</p><hr /><p>å¤æ³³ã„ã èŠ±ã®ç™½ã•ã€<ruby>å®µ<rt>ã‚ˆã„</rt></ruby>ã®é›¨</p><p>æµã‚Œã‚‹å¤œã«æººã‚Œ</p><p>èª°ã‚‚è¤ªã›ãªã„ã‚ˆã†ãªèŠ±ä¸€ã¤</p><p>ã©ã†ã‹ã€ã©ã†ã‹ã€ã©ã†ã‹èƒ¸ã®å†…å´ã«æŒ¿ã—ã¦</p><hr /><p>ãšã£ã¨ãŠã‹ã—ã„ã‚“ã </p><p>ç”Ÿãæ–¹ä¸€ã¤ã‚’æ•™ãˆã¦ã»ã—ã„ã ã‘</p><p>æ‰•ãˆã‚‹ã‚‚ã®ãªã‚“ã¦åƒ•ã«ã¯ã‚‚ã†ãªã„ã‘ã©</p><p>ä½•ã‚‚ç­”ãˆã‚‰ã‚Œãªã„ãªã‚‰è¨€è‘‰ä¸€ã¤ã§ã‚‚ã„ã„ã‚ˆ</p><p>ã‚ã‹ã‚‰ãªã„ã‚ˆ</p><p>æœ¬å½“ã«ã‚ã‹ã‚‰ãªã„ã‚“ã ã‚ˆ</p><hr /><p>ã•ã<ruby>æºè•©<rt>ãŸã‚†ãŸ</rt></ruby>ã†ã‚ˆã†ã«é›¨æµã‚Œ</p><p>åƒ•ã‚‰ã«<ruby>åµ<rt>ã‚ã‚‰</rt></ruby>ã™èŠ±ã«æººã‚Œ</p><p>å›ãŒ<ruby>è¤ª<rt>ã‚</rt></ruby>ã›ãªã„ã‚ˆã†ã«æ›¸ãè©©ã‚’</p><p>ã©ã†ã‹ã€ã©ã†ã‹ã€ã©ã†ã‹ä»Šã‚‚å¿˜ã‚Œãªã„ã‚ˆã†ã«</p><p>ã¾ãŸä¸€ã¤å¤ãŒçµ‚ã‚ã£ã¦ã€èŠ±ä¸€ã¤ã‚’èƒ¸ã«æŠ±ã„ã¦ã€</p><p>æµã‚Œã‚‹<ruby>ç›®è“‹<rt>ã¾ã¶ãŸ</rt></ruby>ã®è£ã§</p><p>å›ãŒ<ruby>è¤ª<rt>ã‚</rt></ruby>ã›ãªã„ã‚ˆã†ã«ã“ã®è©©ã‚’</p><p>ã©ã†ã‹ã€ã©ã†ã‹å›ãŒæº¢ã‚Œãªã„ã‚ˆã†ã«</p><hr />]]></content>
    
    
    <categories>
      
      <category>æ—¥è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ç¥æ§˜ã®ãƒ€ãƒ³ã‚¹ - ãƒ¨ãƒ«ã‚·ã‚«</title>
    <link href="/2024/12/27/%E7%A5%9E%E6%A7%98%E3%81%AE%E3%83%80%E3%83%B3%E3%82%B9%20-%20%E3%83%A8%E3%83%AB%E3%82%B7%E3%82%AB/"/>
    <url>/2024/12/27/%E7%A5%9E%E6%A7%98%E3%81%AE%E3%83%80%E3%83%B3%E3%82%B9%20-%20%E3%83%A8%E3%83%AB%E3%82%B7%E3%82%AB/</url>
    
    <content type="html"><![CDATA[<style>p { font: 12pt Yu Mincho !important; }</style><p>ç¥æ§˜ã®ãƒ€ãƒ³ã‚¹ - ãƒ¨ãƒ«ã‚·ã‚«</p><p>è©ï¼šn-buna</p><p>æ›²ï¼šn-buna</p><p>ç·¨æ›²ï¼šn-buna</p><hr /><p>å¿˜ã‚Œã‚‹ãªã‚“ã¦é…·ã„ã ã‚</p><p>å¹¸ã›ã«ãªã‚“ã¦ãªã‚‹ã‚‚ã®ã‹</p><p>è‰²ã®ãªã„ä½•ã‹ãŒå’²ã„ãŸ</p><p>å›ã®ã„ãªã„å¤ã«å’²ã„ãŸ</p><hr /><p>äººã«ç¬‘ã‚ã‚ŒãŸããªã„ã‹ã‚‰</p><p>æ€¯ãˆã‚‹ã‚ˆã†ã«ä¸‹ã‚’å‘ã</p><p>å¿ƒã‚ˆã‚Šå¤§äº‹ãªä½•ã‹ãŒ</p><p>ã‚ã£ã¦ãŸã¾ã‚‹ã‚‚ã®ã‹</p><hr /><p>æš®ã‚Œãªã„å¤•ã«èŒœè¿½ã„ä»˜ã„ã¦</p><p>å›ã‚’æŸ“ã‚æŠœã„ãŸ</p><p>è¦‹ãˆãªã„ã‚ˆã†ã«åƒ•ã‚’è¿½ã„è¶Šã—ã¦</p><p>è¡Œã‹ãªã„ã§</p><hr /><p>åƒ•ãŸã¡ç¥æ§˜ãªã‚“ã¦çŸ¥ã‚‰ã‚“é¡”</p><p>ã©ã“ã¾ã§ã ã£ã¦è¡Œã‘ã‚‹</p><p>ãªãã€å¿ƒã¾ã§é†œã„åƒ•ã‚‰ã </p><p>ä¸–ç•Œã¯åƒ•ã‚‰ã®ã‚‚ã®ã </p><hr /><p>éŸ³æ¥½ã ã‘ã§ã„ã„ã‚“ã ã‚</p><p>ä»–äººã«åˆã‚ã›ã¦æ­©ããªã‚ˆ</p><p>æ•™ãˆã¦ãã‚ŒãŸã®ã¯ã‚ã‚“ãŸã˜ã‚ƒãªã„ã‹</p><hr /><p>ã©ã†ã ã£ã¦ã„ã„ã‚ˆã€ã“ã®ã¾ã¾é ãã¸</p><p>èª°ã‚‚çŸ¥ã‚‰ãªã„å ´æ‰€ã§æœˆæ˜ã‹ã‚Šã‚’æ¢ã™ã®ã </p><hr /><p>åã‚‚ãªã„èŠ±ãŒç¶ºéº—ã®ã </p><p>ã©ã†ã§ã‚‚ã„ã„ã“ã¨ã°ã£ã‹ã </p><p>å›ã®å£ç™–ãŒæ„ŸæŸ“ã£ã¦ã‚‹</p><p>å–‰ã®çœŸä¸‹ã«ã¯å›ãŒã„ã‚‹</p><hr /><p>è¨€è‘‰ã‚‚ç”Ÿæ´»ã‚‚æ„›æƒ³ã‚‚</p><p>å…¨ã¦æ¨ã¦ã¦ã“ãéŸ³æ¥½ã </p><p>ãã®ä¾¡å€¤ã‚‚çŸ¥ã‚‰ãªã„ã‚ã‚“ãŸã«</p><p>ã‚ã‹ã£ã¦å ªã‚‹ã‚‚ã®ã‹</p><hr /><p>æš®ã‚Œãªã„å¤•ã«èŒœè¿½ã„ä»˜ã„ã¦</p><p>åƒ•ã‚’æŸ“ã‚æŠœã„ãŸ</p><p>ã„ã¤ã‹æ™‚é–“ãŒå…¨ã¦è¿½ã„æŠœã„ã¦</p><p>æ¶ˆãˆãªã„ã§</p><hr /><p>åƒ•ãŸã¡ç¥æ§˜ãªã‚“ã¦çŸ¥ã‚‰ã‚“é¡”</p><p>ä¸–ç•Œã®å…¨éƒ¨ãŒæ¬²ã—ã„</p><p>ãªãå¿ƒã¾ã§é†œã„ã‚ã‚“ãŸã®ã€æƒ³ã„å‡ºå…¨éƒ¨ã‚’ãã‚Œã‚ˆ</p><p>ä¾¡å€¤è¦³ã ã£ã¦è‡ªç”±ãªã‚‰</p><p>äººã‚’å‚·ä»˜ã‘ã¦ã„ã„ã ã‚</p><p>æ•™ãˆãªã‹ã£ãŸã®ã¯ã‚ã‚“ãŸã˜ã‚ƒãªã„ã‹</p><hr /><p>ã©ã†ã ã£ã¦ã„ã„ã‚ˆã€ã“ã®ã¾ã¾é ãã¸</p><p>èª°ã‚‚è¦‹ã¦ãªã„å ´æ‰€ã§ç”Ÿãã‚‹çœŸä¼¼ã‚’ã—ã¦ã‚‹ã®ã•</p><p>é…·ã„é¡”ã§è¸Šã‚‹ã®ã•</p><p>èƒ¸ã‚‚ç—›ã„ã¾ã¾ã§</p><hr /><p>ç¥æ§˜åƒ•ãŸã¡ãªã‚“ã¦çŸ¥ã‚‰ã‚“é¡”</p><p>ã©ã“ã¾ã§ã ã£ã¦è¡Œã‘ã‚‹</p><p>ãªãã€è¨€è‘‰ãŒä¸–ç•Œã ã¨äº‘ã†ãªã‚‰ã€ä¸–ç•Œã¯åƒ•ã‚‰ã®ã‚‚ã®ã </p><p>å¿˜ã‚Œã‚‹ãªã‚“ã¦é…·ã„ã ã‚</p><p>å¹¸ã›ã«ãªã‚“ã¦ãªã‚Œã‚‹ã‹ã‚ˆ</p><p>åƒ•ã‚’æ­ªã‚ãŸã®ã¯ã‚ã‚“ãŸã˜ã‚ƒãªã„ã‹</p><hr /><p>ãã†ã ã£ãŸã€åƒ•ã¯ã“ã®ã¾ã¾é ãã¸</p><p>èª°ã‚‚çŸ¥ã‚‰ãªã„å ´æ‰€ã§æœˆæ˜ã‹ã‚Šã‚’æ¢ã™ã®ã </p>]]></content>
    
    
    <categories>
      
      <category>æ—¥è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ãƒ¬ãƒ—ãƒªã‚«ãƒ³ãƒˆ - ãƒ¨ãƒ«ã‚·ã‚«</title>
    <link href="/2024/11/25/%E3%83%AC%E3%83%97%E3%83%AA%E3%82%AB%E3%83%B3%E3%83%88%20-%20%E3%83%A8%E3%83%AB%E3%82%B7%E3%82%AB/"/>
    <url>/2024/11/25/%E3%83%AC%E3%83%97%E3%83%AA%E3%82%AB%E3%83%B3%E3%83%88%20-%20%E3%83%A8%E3%83%AB%E3%82%B7%E3%82%AB/</url>
    
    <content type="html"><![CDATA[<style>p { font: 12pt Yu Mincho !important; }</style><p>ãƒ¬ãƒ—ãƒªã‚«ãƒ³ãƒˆ - ãƒ¨ãƒ«ã‚·ã‚«</p><p>è©ï¼šn-buna</p><p>æ›²ï¼šn-buna</p><p>ç·¨æ›²ï¼šn-buna</p><p>å›ã¯æ˜ ç”»ã‚’ãšã£ã¨è¦³ã¦ã„ã‚‹<br />åœ¨ç©ºæ— ä¸€äººçš„åŠ‡å ´ä¹‹ä¸­</p><p>èª°ä¸€äººã‚‚ãªã„åŠ‡å ´ã§<br />ä½ ä¸€ä¸ªäººç‹¬è‡ªçœ‹ç€é›»å½±</p><p>ä»Šæ€ãˆã°ãƒãƒ¼ãƒ—ãªã‚»ãƒƒãƒˆã§<br />é‚£æ˜¯éƒ¨ç¾åœ¨çœ‹æ¥å¸ƒæ™¯å»‰ä»·</p><p>äººã®ã‚ˆãæ­»ã¬SFæ˜ ç”»<br />å¸¸æœ‰äººæ­»å»çš„ç§‘å¹»é›»å½±</p><p>ã„ã¤ã‹ä¸–ç•ŒãŒçœŸé¢ã«ãªã£ã¦<br />å¦‚æœå°†æ¥ä¸–ç•Œèƒ½è®Šå¾—ç©æ¥µç¾å¥½</p><p>äººã®å¯¿å‘½ã•ãˆéšåˆ†ä¼¸ã³ã¦<br />äººçš„å¯¿å‘½ä¹Ÿæ— é™å»¶é•·</p><p>æ­»ã­ãªã„ä¸–ç•Œã«ãªã‚Œã°ã„ã„ã®ã«ã­<br />å¯ä»¥ä¸ç”¨ç¶“æ­·æ­»äº¡å°±å¥½äº†</p><p>ãã—ãŸã‚‰å¿ƒä»¥å¤–ã¯å½ç‰©ã <br />é€™æ¨£ä¸€æ¥ é™¤äº†çœŸå¿ƒå…¶ä½™çš†æ˜¯è™šå‡çš„</p><p>è¨€è‘‰ä»¥å¤–ã¯å½ç‰©ã <br />é™¤äº†è©±èªå…¶ä½™çš†æ˜¯è™šå‡çš„</p><p>ç¥æ§˜ã ã£ã¦ä½œå“ãªã‚“ã ã‹ã‚‰<br />å› ç‚ºç¥æ˜ä¹Ÿä¸éæ˜¯ä¸ªä½œå“ç½·äº†</p><p>åƒ•ã‚‰çš†ãƒ¬ãƒ—ãƒªã‚«ã <br />æˆ‘å€‘å…¨éƒ½æ˜¯è¤‡è£½å“</p><p>ã„ã¤ã‹å­£ç¯€ãŒéãå»ã£ã¦<br />çµ‚æœ‰ä¸€å¤©å­£ç¯€ä¼šæµé€è€Œé</p><p>å†·ãŸããªã£ã¦å¹´è€ã„ã¦<br />å¤©æ°”è½‰å†· å¹´è¯é€å»</p><p>ãã®æ™‚ã«<br />å±Šæ™‚</p><hr /><p>åƒ•ã¯æ˜ ç”»ã‚’ãšã£ã¨è¦³ã¦ã„ã‚‹<br />æˆ‘ä¸€ç›´åœ¨çœ‹ç€ä¸€éƒ¨é›»å½±</p><p>ã¤ã¾ã‚‰ãªã„ã»ã©ã«è–„ã„æ˜ ç”»<br />ä¸€éƒ¨åº¸ä¿—åˆ°æ— èŠçš„é›»å½±</p><p>å¸­ã‚’ç«‹ã£ã¦ã‹ã‚‰ã‚„ã£ã¨æ°—ä»˜ã<br />èµ·èº«ç¦»å¸­æ™‚æˆ‘æ‰çµ‚äºç™¼ç¾</p><p>ã“ã‚Œã¯åƒ•ã‚’æã„ãŸãƒ‰ãƒ©ãƒã <br />åŠ‡æƒ…æ‰€è¬›è¿°çš„æ­£æ˜¯æˆ‘è‡ªå·±çš„æ•…äº‹å•Š</p><p>ã„ã¤ã‹åƒ•ã‚‰ã¯å¤§äººã«ãªã£ã¦<br />æˆ‘å€‘çµ‚å°†é•·å¤§æˆäºº</p><p>æ‰‹ã«å…¥ã‚Œã‚‹ã‚‚ã®ã‚‚å¤§ãããªã£ãŸ<br />æ‰€ç²ä¹‹ç‰©ä¹Ÿæ—¥ç›Šé‡å¤§</p><p>æ¬¡ã¯æ„›ã§ã‚‚è²·ãˆã‚Œã°ã„ã„ã®ã«ã­<br />æ¥ä¸‹æ¥è¦æ˜¯é€£æ„›ä¹Ÿèƒ½è²·åˆ°å°±å¥½äº†å‘¢</p><p>ã‚ã‚“ãŸã®ä¾¡å€¤è¦³ãªã‚“ã¦å½ç‰©ã <br />ä½ çš„ä¾¡å€¤è¦³å…¨éƒ½æ˜¯è™šå‡çš„</p><p>æ€ã„å‡ºã ã£ã¦å½ç‰©ã <br />é€£å›æ†¶ä¹Ÿå…¨éƒ½æ˜¯è™šå‡çš„</p><p>å¿ƒã¯è…¦ã®ä¿¡å·ãªã‚“ã ã‹ã‚‰<br />å› ç‚ºå¿ƒæ€ä¸éæ˜¯å¤§è…¦å‚³è¼¸çš„ä¿¡å·ç½·äº†</p><p>æ„›ã‚‚çš†ãƒ¬ãƒ—ãƒªã‚«ã <br />æ‰€æœ‰çš„æ„›ä¹Ÿå…¨éƒ½æ˜¯è¤‡è£½å“</p><p>ã„ã¤ã‹å­£ç¯€ãŒéãå»ã£ã¦<br />çµ‚æœ‰ä¸€å¤©å­£ç¯€ä¼šæµé€è€Œé</p><p>æ€ã„å‡ºã°ã‹ã‚ŠãŒå‹Ÿã£ã¦<br />åªæœ‰å›æ†¶éœéœå †ç©</p><p>ãã®æ™‚ã«<br />å±Šæ™‚</p><hr /><p>æº€ãŸã•ã‚Œã‚‹ãªã‚‰ãã‚Œã§è‰¯ã‹ã£ãŸ<br />åªè¦èƒ½æ„Ÿåˆ°æ»¿è¶³å°±å¥½</p><p>æ­Œã‚’æ­Œã†ã®ã«ç†ç”±ã‚‚ç„¡ã„ã¯<br />æ­Œå”±å¹¶ä¸éœ€è¦ç†ç”±</p><p>ä»–äººã®ç‚ºã«ç”Ÿãã‚‰ã‚Œãªã„<br />æˆ‘ä¸ä¼šç‚ºä»–äººè€Œæ´»</p><p>ã•ã‚ˆãªã‚‰ä»¥å¤–å…¨éƒ¨å¡µ<br />ç¦»åˆ«ä»¥å¤– å…¨éƒ¨å¦‚å¡µ</p><p>äººã‚’å‘ªã†æ­Œã‚’æããŸã„<br />æƒ³è­œå¯«å‡ºè©›å’’ä»–äººçš„æ­Œ</p><p>ãã‚Œã§èª°ã‹ã‚’æ®ºã›ã‚Œã°ã„ã„ãœ<br />è‹¥æ˜¯èƒ½å€Ÿæ­¤å–äººæ€§å‘½å°±å¥½äº†</p><p>å¤ã®åŒ‚ã„ã«èƒ¸ãŒè©°ã¾ã£ã¦ã„ãŸ<br />å¤æ—¥çš„æ°”æ¯éƒçµæ»¿æ‡·</p><p>åƒ•ã‚‰ã®å¿ƒä»¥å¤–ã¯å½ç‰©ã <br />é™¤äº†æˆ‘å€‘çš„å¿ƒå…¶ä½™çš†æ˜¯è™šå‡çš„</p><p>è¨€è‘‰ä»¥å¤–ã¯å½ç‰©ã <br />é™¤äº†è©±èªå…¶ä½™çš†æ˜¯è™šå‡çš„</p><p>ã“ã®ä¸–ã®å…¨éƒ¨ã¯ä¸»è¦³ãªã‚“ã ã‹ã‚‰<br />å› ç‚ºä¸–ç•Œå…¨å‡­ä¸»è§€è€Œå­˜åœ¨å•Š</p><p>å›ã‚‚çš†ãƒ¬ãƒ—ãƒªã‚«ã <br />ä½ ä¹ŸåŒæ¨£æ˜¯è¤‡è£½å“</p><p>ã•ã‚ˆãªã‚‰ã ã£ã¦æŠ•ã’å‡ºã—ã¦<br />è±å‡ºä¸€åˆ‡é“åˆ«ç¦»å¼€</p><p>ã“ã®ã¾ã¾é ãé€ƒã’å‡ºã—ã¦<br />å°±é€™æ¨£é€ƒå‘é æ–¹</p><p>è¨€è‘‰ã§å…¨éƒ¨è¡¨ã—ã¦<br />ç”¨èªè¨€æ¥è¡¨è¿°ä¸€åˆ‡</p><p>å¿ƒã‚‚æ„›ã‚‚æ›¸ãè¶³ã—ã¦<br />æ·»æ³¨ä¸ŠçœŸå¿ƒä¸æ„›</p><p>ãã‚Œã§ã‚‚ç©ºã¯é…·ãé’ã„ã‚“ã ã‹ã‚‰<br />å› ç‚ºå³ä¾¿å¦‚æ­¤ å¤©ç©ºä»æ˜¯æ— å¯æ¯”æ“¬çš„è”šè—</p><p>ãã‚Œã¯ãã£ã¨é­”æ³•ã ã‹ã‚‰<br />é‚£ä¸€å®šæ˜¯é­”æ³•</p><p>ã„ã¤ã‹å­£ç¯€ãŒéãå»ã£ã¦<br />çµ‚æœ‰ä¸€å¤©å­£ç¯€ä¼šæµé€è€Œé</p><p>å†·ãŸããªã£ã¦å¹´è€ã„ã¦<br />å¤©æ°”è½‰å†· å¹´è¯é€å»</p><p>ãã®æ™‚ã«ã‚„ã£ã¨ã‚ã‹ã‚‹<br />å±Šæ™‚æ‰çµ‚äºæ˜ç™½</p><p>åƒ•ã‚‚ãã®é’ã•ãŒã‚ã‹ã‚‹<br />æˆ‘ä¹Ÿæ‡‚å¾—é‚£ä»½è”šè—</p>]]></content>
    
    
    <categories>
      
      <category>æ—¥è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é”ç›¸ç¯CD4046ä½¿ç”¨å¿ƒå¾—</title>
    <link href="/2024/11/23/%E9%94%81%E7%9B%B8%E7%8E%AFCD4046%E7%9A%84%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97/"/>
    <url>/2024/11/23/%E9%94%81%E7%9B%B8%E7%8E%AFCD4046%E7%9A%84%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97/</url>
    
    <content type="html"><![CDATA[<figure><img src="https://i.imgur.com/ZpUo6qu.jpg" alt="æˆå“" /><figcaption aria-hidden="true">æˆå“</figcaption></figure><h1 id="å‰è¨€">å‰è¨€</h1><p>æœ€è¿‘åœ¨å¿™ç€åšæ ¡é˜Ÿæ‹›æ–°çš„é¢˜ç›®ï¼Œè¦æ±‚æ˜¯ç”¨é”ç›¸ç¯CD4046Båšä¸€ä¸ªå€é¢‘å™¨ï¼Œå€é¢‘ç³»æ•°ä¸º1ï¼Œ2ï¼Œ4ï¼Œ8ï¼Œ16ï¼Œ32ï¼Œ64ã€‚è¿™ä¸ªé¢˜æœ€çƒ¦äººçš„åœ°æ–¹åœ¨äºè¦†ç›–çš„é¢‘ç‡èŒƒå›´å¾ˆå¤§ï¼Œè¾“å…¥ä¿¡å·èŒƒå›´æ˜¯1kHz~100kHzï¼Œè¿™æ ·æ¥ç®—è¾“å‡ºæœ€å¤§è¦è¾¾åˆ°6.4MHzï¼Œç„¶è€Œä»¥CD4046Bæ¥è¯´è¿™æ ¹æœ¬ä¸å¯èƒ½ï¼Œå› ä¸ºè¿™æ¬¾é”ç›¸ç¯ä¸Šé›†æˆçš„VCOçš„è¾“å‡ºé¢‘ç‡æœ€å¤§ä¹Ÿå°±1MHzå·¦å³ï¼š</p><p><img src="https://i.imgur.com/51pBwa3.png" /></p><p>å¦‚ä½ æ‰€è§ï¼Œè¾“å‡ºæœ€å¤§é¢‘ç‡çš„å…¸å‹å€¼ä¸º<strong>1.4MHz</strong>ï¼Œè¿™ä¹ŸåŸºæœ¬ç¬¦åˆæˆ‘å®æµ‹çš„ç»“æœã€‚æ€»ä¹‹è¿™é¢˜åšæ»¡100kHzçš„64å€é¢‘åŸºæœ¬æ˜¯æ²¡æˆäº†ï¼Œä½†æ˜¯å¬è¯´æœ‰ä¸ªç»„åšåˆ°äº†7MHzï¼Ÿæä¸æ‡‚æ˜¯ä»€ä¹ˆæƒ…å†µã€‚ï¼ˆå†åæ§½ä¸€å¥ï¼ŒTIçš„CD4046Bçš„æ•°æ®æ‰‹å†ŒçœŸçš„å¤ªå¤è€äº†å•Šï¼Œèµ¶ç´§æ›´æ–°ä¸€ä¸‹å§ï¼‰</p><h1 id="å¼•è„šè¯´æ˜">å¼•è„šè¯´æ˜</h1><p><img src="https://i.imgur.com/Z91APjn.png" /></p><p>è§ä¸Šå›¾ã€‚</p><ul><li>3ï¼›é‰´ç›¸å™¨è¾“å…¥</li><li>4ï¼šVCOè¾“å‡º</li><li>6ã€7ä¹‹é—´çš„<spanclass="math inline">\(C_1\)</span>æ˜¯VCOçš„èµ·æŒ¯ç”µå®¹</li><li>12è„š<spanclass="math inline">\(R_2\)</span>å†³å®šäº†è¾“å‡ºé¢‘ç‡æ˜¯å¦å åŠ ä¸€ä¸ªåç½®ã€‚å¦‚æœä¸æ¥ï¼Œé‚£ä¹ˆè¾“å‡ºæ— åç½®ï¼Œé¢‘ç‡å°±å¯ä»¥è¾¾åˆ°æ¯”è¾ƒä½çš„èŒƒå›´ï¼›å¦‚æœæ¥ä¸Šç”µé˜»ï¼Œé¢‘ç‡èŒƒå›´æ•´ä½“ä¼šå¾€ä¸Šç§»åŠ¨ã€‚</li><li>11è„š<spanclass="math inline">\(R_1\)</span>ä¹Ÿå½±å“äº†è¾“å‡ºé¢‘ç‡Â·èŒƒå›´ï¼ŒR1è¶Šå°è¾“å‡ºé¢‘ç‡è¶Šå¤§ï¼Œæˆ‘è¿™é‡Œå–çš„æ˜¯10kæ¬§ã€‚</li><li>5è„šç¦æ­¢ç«¯ï¼Œä½ç”µå¹³ä½¿èƒ½å™¨ä»¶ã€‚</li><li>13ï¼Œé‰´ç›¸å™¨2çš„è¾“å‡ºï¼Œå®ƒæ¥å…¥ç¯è·¯æ»¤æ³¢å™¨çš„è¾“å…¥ç«¯ã€‚</li><li>9ï¼ŒVCOçš„è¾“å…¥ï¼Œè¿™ä¸ªè¾“å…¥ç”µå‹åº”å½“å°½å¯èƒ½å¹³ç¨³ï¼Œè¿™æ ·VCOæ‰ä¼šæœ‰ç¨³å®šçš„è¾“å‡ºã€‚</li></ul><p>æˆ‘è¿™æ¬¡åœ¨è°ƒè¯•ç”µè·¯è¿‡ç¨‹ä¸­åŠ¨çš„æœ€å¤šçš„å°±æ˜¯C1å’Œå¼•è„šï¼Œ4ã€‚é€šè¿‡è°ƒæ•´C1çš„å€¼æ¥è·å¾—ä¸åŒçš„é¢‘ç‡è¾“å‡ºèŒƒå›´ï¼›å°†3ã€4ç›´æ¥è¿æ¥æ¥æµ‹è¯•é”ç›¸ç¯çš„åŠŸèƒ½ï¼›ç¡®å®šé”ç›¸ç¯èƒ½æ­£å¸¸å·¥ä½œåå†æŠŠ3ã€4æ–­å¼€ï¼Œæ¥å…¥åˆ†é¢‘å™¨ã€‚</p><h1 id="é¢‘ç‡èŒƒå›´">é¢‘ç‡èŒƒå›´</h1><p>CD4046Bçš„è¾“å‡ºé¢‘ç‡ä¸ä¾›ç”µç”µå‹æœ‰å…³ï¼Œä¾›ç”µç”µå‹è¶Šå¤§ï¼Œèƒ½å¤Ÿè¾“å‡ºçš„é¢‘ç‡ä¹Ÿè¶Šå¤§ï¼Œä½†æ˜¯ä¸èƒ½è¶…è¿‡15Vã€‚æ ¹æ®æˆ‘çš„æµ‹è¯•ï¼Œåœ¨5Vä¾›ç”µï¼ŒR2ä¸æ¥ï¼ŒR1=10kæ¬§ï¼ŒC1=100pFçš„æƒ…å†µä¸‹ï¼ŒVCOçš„è¾“å‡ºé¢‘ç‡æœ€å¤šåªæœ‰å¤§çº¦700kHZã€‚æƒ³è¾¾åˆ°1MHzä»¥ä¸Šçš„é¢‘ç‡å¿…é¡»å¢å¤§ç”µå‹åˆ°10Vï¼Œä½†æ˜¯è¿™åˆä¼šäº§ç”Ÿä¸€é—®é¢˜ï¼šé”ç›¸ç¯æ˜¯10Vç”µå¹³è¾“å…¥è¾“å‡ºï¼Œè€Œåˆ†é¢‘å™¨æ˜¯5Vç”µå¹³ï¼Œä¸¤ç§ç”µå¹³å¹¶ä¸äº’å®¹ï¼Œå¿…é¡»è¿›è¡Œ<strong>ç”µå¹³è½¬æ¢</strong>ã€‚è¿™æ˜¯æˆ‘ä»¬ç»„åœ¨æ˜¨å¤©å¾—åˆ°çš„ç»“è®ºï¼Œç„¶åä»Šå¤©æˆ‘è‡ªå·±èŠ±äº†åŠä¸ªä¸Šåˆçš„æ—¶é—´æ‰æ€»ç®—æ˜¯è°ƒå¥½äº†ã€‚ä¸ºäº†èƒ½å¤Ÿè¦†ç›–ä»1kHz~1MHzçš„é¢‘ç‡èŒƒå›´ï¼Œæˆ‘åˆ‡æ¢äº†ä¸‰ä¸ªç”µå®¹ï¼š</p><table><thead><tr><th>100pF</th><th>4.7nF</th><th>3.3nF</th></tr></thead><tbody><tr><td>41k~1.2M</td><td>2k~40k</td><td>1k~29k</td></tr></tbody></table><p>æ³¨æ„è¿™é‡Œçš„é¢‘ç‡åº”å½“æ˜¯<strong>å€é¢‘åæœ€ç»ˆè¾“å‡ºçš„é¢‘ç‡</strong>ã€‚</p><h1 id="ç”µå¹³è½¬æ¢">ç”µå¹³è½¬æ¢</h1><p>è¿™é‡Œçš„ç”µå¹³è½¬æ¢ï¼Œå…·ä½“æ¥è¯´ï¼š</p><ul><li>é”ç›¸ç¯VCOè¾“å‡ºçš„10Væ–¹æ³¢è¦è¢«è½¬æ¢ä¸º5Væ–¹æ³¢</li><li>åˆ†é¢‘å™¨è¾“å‡ºçš„5Væ–¹æ³¢è¦è¢«è½¬æ¢ä¸º10Væ–¹æ³¢</li></ul><p>LTspiceä»¿çœŸç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://i.imgur.com/3vQpjKX.png" /></p><p>é«˜ç”µå¹³è½¬ä½ç”µå¹³ç”¨çš„æ˜¯å·¦è¾¹é‚£ä¸ªç”µè·¯ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªåç›¸å™¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä¸Šæ‹‰ç”µé˜»R1ä¸è¦å–å¾—å¤ªå¤§ï¼Œä¸ç„¶ä¸Šå‡æ²¿è¿‡äºç¼“æ…¢ï¼Œé€‚åº”ä¸äº†1MHzã€‚è€Œä¸”è¿™ä¸ªç”µè·¯å®é™…æµ‹è¯•çš„æ—¶å€™è¾“å‡ºåœ¨ä¸‹é™æ²¿çš„æŒ¯é“ƒéå¸¸å¤§ï¼Œå¤§æ¦‚æ˜¯æ‚æ•£ç”µå®¹å’Œå¯„ç”Ÿç”µæ„Ÿçš„å½±å“ï¼ˆæ¯•ç«Ÿæ˜¯ç„Šæ¥åˆ°æ´æ´æ¿ä¸Šçš„ï¼‰ã€‚</p><p>ä½ç”µå¹³è½¬é«˜ç”µå¹³ç”¨çš„æ˜¯å³è¾¹çš„ç”µè·¯ï¼Œå› ä¸ºå·¦è¾¹çš„ç”µè·¯è¿™æ—¶å€™å°±ä¸èƒ½ç”¨äº†ã€‚</p><h1 id="ç¯è·¯æ»¤æ³¢å™¨">ç¯è·¯æ»¤æ³¢å™¨</h1><p>è¿™æ˜¯é”ç›¸ç¯ç›¸å½“é‡è¦çš„ä¸€ç¯ã€‚ç¯è·¯æ»¤æ³¢å™¨çš„èŒè´£å°±æ˜¯å°†é‰´ç›¸å™¨è¾“å‡ºçš„é«˜é¢‘åˆ†é‡å°½å¯èƒ½åœ°æ»¤å¹²å‡€ã€‚ç½‘ä¸Šå…³äºç¯è·¯æ»¤æ³¢å™¨çš„è®¾è®¡æ–¹æ³•èµ„æ–™å¹¶ä¸æ˜¯å¾ˆå¤šï¼Œå¯ä»¥å‚è§è¯¥åšå®¢ï¼š<ahref="https://www.cnblogs.com/qm1412/p/18222379">é”ç›¸ç¯å­¦ä¹ ---CD4046</a></p><p>ç¯è·¯æ»¤æ³¢å™¨æœ‰ä¸“ç”¨çš„è®¾è®¡è½¯ä»¶ï¼Œä½†æ˜¯éå¸¸å¤è€ï¼Œå¿…é¡»å†ä¸‹è½½ä¸€ä¸ªXPç³»ç»Ÿçš„è™šæ‹Ÿæœºï¼Œéå¸¸éº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘å°±ç›´æ¥ä½¿ç”¨åšå®¢é‡Œè®¾è®¡å¥½çš„ç”µè·¯äº†ï¼š</p><p><img src="https://i.imgur.com/yCQpeqy.jpg" /></p><p>LTspiceä»¿çœŸå¾—åˆ°å…¶å¹…é¢‘å“åº”å’Œç›¸é¢‘å“åº”å¦‚ä¸‹ï¼š</p><p><img src="https://i.imgur.com/LWBPZIo.png" /></p><p>å®æµ‹è¿™ä¸ªæ»¤æ³¢å™¨å¯ä»¥ç”¨äº1kHz~1MHzçš„èŒƒå›´ã€‚</p><h1 id="å¯¹vcoè¾“å‡ºè¿›è¡Œæ•´å½¢">å¯¹VCOè¾“å‡ºè¿›è¡Œæ•´å½¢</h1><p>è¿™ä¸€æ­¥å…¶å®å¹¶ä¸æ˜¯å¿…è¦çš„ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯ä½¿ç”¨å‘Šè¯‰æ¯”è¾ƒå™¨æŠŠè¾“å‡ºæ³¢å½¢æ•´æˆå¥½çœ‹ä¸€ç‚¹çš„æ–¹æ³¢ï¼Œè¿™ä¸»è¦æ˜¯å› ä¸ºæˆ‘æ‰€ç”¨çš„10Vè½¬5Vçš„ç”µå¹³è½¬æ¢ç”µè·¯ä¸Šå‡æ²¿éå¸¸æ…¢ï¼Œä»¥è‡³äºæ–¹æ³¢å‡ ä¹å·²ç»å˜æˆé”¯é½¿æ³¢äº†ï¼Œéå¸¸éš¾å—ã€‚</p><p><img src="https://i.imgur.com/NrkVsnV.png" /></p><p>æ³¨æ„æˆ‘æœ€ç»ˆç”µè·¯ä¸­VINæ˜¯ç»è¿‡ç”µå®¹ä¹‹åæ‰é€å…¥æ¯”è¾ƒå™¨ï¼Œè¿™æ ·éš”ç¦»ç›´æµåˆ†é‡ï¼Œæ¯”è¾ƒå™¨å®¹æ˜“äº§ç”Ÿæ­£ç¡®çš„ç»“æœã€‚å¦å¤–R1å¯ä»¥ç¨å¾®å–å¾—å¤§ä¸€äº›ï¼Œæ¯”å¦‚500æ¬§ï¼Œå¯¹å™ªå£°çš„æŠ‘åˆ¶èƒ½åŠ›ä¹Ÿä¼šå¼ºä¸€äº›ã€‚è¿™ä¸ªæ¯”è¾ƒå™¨çš„è¾“å‡ºä¸º3.3Vã€0Vï¼Œå¯ä»¥ç›´æ¥é€å…¥å•ç‰‡æœºçš„å¤–éƒ¨æ—¶é’Ÿè¾“å…¥å¼•è„šç”¨æ¥æµ‹é‡é¢‘ç‡ã€‚</p><h1 id="æ€»ç»“">æ€»ç»“</h1><p>æœ€åå®ç°çš„æ•ˆæœå¦‚å›¾ï¼ˆè¾“å…¥ä¿¡å·ä¸è¾“å‡ºä¿¡å·ç¨³å®šåŒé¢‘æ˜¾ç¤ºä¸æ¼‚ç§»ï¼‰åªæ‹äº†N=1çš„æƒ…å†µï¼ŒN=64ä¹Ÿèƒ½éå¸¸ç¨³</p><p><img src="https://i.imgur.com/PvEWWA3.jpg" /></p><p>è¿™æ¬¡ä¸é”ç›¸ç¯æœ‰å…³çš„ç”µè·¯åŸºæœ¬éƒ½æ˜¯æˆ‘è´Ÿè´£çš„ï¼Œç„Šæ¥åœ¨ä¸€å¤§å—æ´æ´æ¿ä¸Šï¼Œç„Šé”¡ä¸çš„åŠ©ç„Šå‰‚å¿«ç†æ­»æˆ‘äº†ã€‚ã€‚ã€‚ä¸è¿‡å¥½åœ¨æœ€åçš„æˆå“è¡¨ç°éå¸¸ä¸é”™ï¼Œæœ€å¤§èƒ½é”å®šåˆ°1.2MHzçš„é¢‘ç‡ï¼Œå·²ç»æ¥è¿‘CD4046Bçš„æé™äº†ã€‚å¦å¤–é˜Ÿå‹ä¹Ÿä¹°äº†ä¸€å¤§å †CD4046Bï¼Œè¿‡å‡ å¤©æˆ‘æƒ³ç”¨è¿™äº›å¤šä½™çš„èŠ¯ç‰‡æµ‹è¯•ä¸€ä¸‹é”ç›¸ç¯çš„FMè§£è°ƒåŠŸèƒ½ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç”µå­è®¾è®¡</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æ—¥èªä¸­çš„ã€Œãã®å­—ç‚¹ã€</title>
    <link href="/2024/10/30/%E6%97%A5%E8%AA%9E%E4%B8%AD%E7%9A%84%E3%80%8C%E3%81%8F%E3%81%AE%E5%AD%97%E7%82%B9%E3%80%8D/"/>
    <url>/2024/10/30/%E6%97%A5%E8%AA%9E%E4%B8%AD%E7%9A%84%E3%80%8C%E3%81%8F%E3%81%AE%E5%AD%97%E7%82%B9%E3%80%8D/</url>
    
    <content type="html"><![CDATA[<style>p { font: 12pt Yu Mincho !important; }</style><p>æœ€è¿‘åœ¨é’ç©ºæ–‡åº«ä¸Šé–²è®€æ—¥èªåœ–æ›¸çš„æ™‚å€™ç™¼ç¾äº†é€™æ¨£ä¸€æ®µæ–‡å­—ï¼š</p><blockquote><p>è¡¨è¨˜ã«ã¤ã„ã¦<br />ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ W3C å‹§å‘Š XHTML1.1 ã«ãã£ãŸå½¢å¼ã§ä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚<br />ã€Œãã®å­—ç‚¹ã€ã¯ã€Œï¼ï¼¼ã€ã§è¡¨ã—ã¾ã—ãŸã€‚</p></blockquote><p>å³ï¼šæ­¤æ–‡ä»¶æ˜¯æ ¹æ®W3Cæ¨èçš„XHTML1.1æ ¼å¼åˆ¶ä½œçš„ã€‚'ãã®å­—ç‚¹'ç”¨'ï¼ï¼¼'è¡¨ç¤ºã€‚</p><p>ã€Œãã®å­—ç‚¹ã€æ˜¯ä»€éº½ï¼Ÿ</p><p>æˆ‘æ‰¾åˆ°äº†é€™æ¨£ä¸€ç¯‡è§£é‡‹æ–‡ç« ï¼š<ahref="https://www.canon-its.co.jp/files/topics/2560_ext_06_0.pdf">https://www.canon-its.co.jp/files/topics/2560_ext_06_0.pdf</a></p><p>æ‰€è¬‚'ãã®å­—ç‚¹'ï¼Œå°±æ˜¯åœ¨é‡å¤ä¸¤ä¸ªå­—ä»¥ä¸Šçš„å‡åï¼Œæˆ–æ¼¢å­—ä¸å‡åæ™‚ä½¿ç”¨çš„æ¨™è¨˜ç¬¦è™Ÿã€‚å¦‚æœåœ¨é‡è¤‡æ™‚æ¼¢å­—çš„è®€éŸ³è®Šçˆ²æ¿éŸ³ï¼Œé‚£éº½ãã®å­—ç‚¹ä¹Ÿè¦ç›¸æ‡‰åœ°åŠ ä¸Šæ¿éŸ³ç¬¦è™Ÿã€‚ä¸€å€‹ãã®å­—ç‚¹è¦å ç”¨å…©å€‹å­—ç¯€çš„ä½ç½®ã€‚ä»¥ä¸‹åœ–çˆ²ä¾‹ï¼š</p><p><img src="https://i.imgur.com/7NyGuQV.png" /></p><p>ã¾ã‚ã¾ã‚ãƒ¼ï¼ã¾ã‚ï¼ï¼¼ å¤§è‡´ï¼Œé‚„ç®—éå¾—å»<br />ã—ã‹ã˜ã‹ãƒ¼ï¼ã—ã‹ï¼"ï¼¼ã€€äº‘äº‘ï¼Œç­‰ç­‰<br />è¦‹ã‚‹è¦‹ã‚‹ãƒ¼ï¼è¦‹ã‚‹ï¼ï¼¼ã€€çœ¼çœ‹è‘—ï¼Œè½‰çœ¼é–“<br />é›¢ã‚Œé›¢ã‚Œãƒ¼ï¼é›¢ã‚Œï¼ï¼¼ã€€å¤±æ•£</p><p>ç”±æ–¼æ—¥èªæ–‡ç« ç¶“å¸¸æŒ‰ç…§ç¸±å‘æ’åˆ—ï¼Œå› æ­¤é’ç©ºæ–‡åº«å°±ä½¿ç”¨â€œï¼ï¼¼â€ä¾†ä»£æ›¿é€™å€‹ç¬¦è™Ÿäº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ—¥è¯­</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>LTspiceä¸­SWå…ƒä»¶çš„ä½¿ç”¨</title>
    <link href="/2024/10/14/LTspice%E4%B8%ADSW%E5%85%83%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2024/10/14/LTspice%E4%B8%ADSW%E5%85%83%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<p>LTspiceä¸åƒMultisimé‚£æ ·æœ‰ç°æˆçš„æ‰‹åŠ¨å¼€å…³ã€‚å¼€å…³åŠŸèƒ½å¯ä»¥ç”¨<strong>S.Voltage Controlled Switch</strong>ï¼ˆå‹æ§å¼€å…³ï¼‰å®ç°ã€‚</p><p><img src="https://i.imgur.com/1EAGN5i.png" /></p><ol type="1"><li>æŒ‰Pé”®æ‰“å¼€å…ƒä»¶åº“ï¼Œæœç´¢"SW"ï¼Œæ”¾ç½®åœ¨å›¾çº¸ä¸­</li><li>æ’å…¥æŒ‡ä»¤å®šä¹‰SWå…ƒä»¶çš„è¡Œä¸ºï¼Œä¾‹å¦‚ï¼š<code>.model MYSW SW(Ron=1 Roff=1Meg Vt=.5 Vh=-.4)</code>ï¼Œå…¶ä¸­<code>Ron</code>æ˜¯å¯¼é€šç”µé˜»ï¼ˆ<strong>å¯¼é€šç”µé˜»ä¸èƒ½ä¸º0ï¼</strong>ï¼‰ï¼Œ<code>Roff</code>ä¸ºæ–­å¼€ç”µé˜»ï¼ŒVtå’ŒVhå†³å®šäº†å¼€å…³çš„é˜ˆå€¼ç”µå‹ï¼Œåœ¨æœ¬ä¾‹ä¸­ä¸º0.9Vå’Œ0.1V</li><li>å°†å¼€å…³æ¨¡å‹çš„åç§°æ”¹æˆMYSW</li><li>æ”¾ç½®ä¸€ä¸ªç”µå‹æºç”¨æ¥æ§åˆ¶å¼€å…³ï¼Œè¿™é‡Œç”¨çš„æ˜¯Pulseï¼Œå¼€å…³åœ¨é—­åˆ1såä¿æŒå…³æ–­çŠ¶æ€ã€‚</li></ol><p>SWç›¸å…³çš„æ‰€æœ‰å‚æ•°å¦‚ä¸‹è¡¨æ ¼ï¼š</p><table><thead><tr><th style="text-align: center;">Name</th><th style="text-align: center;">Description</th><th style="text-align: center;">Units</th><th style="text-align: center;">default</th></tr></thead><tbody><tr><td style="text-align: center;">Vt</td><td style="text-align: center;">é˜ˆå€¼ç”µå‹</td><td style="text-align: center;">V</td><td style="text-align: center;">0.0</td></tr><tr><td style="text-align: center;">Vh</td><td style="text-align: center;">æ»åç”µå‹</td><td style="text-align: center;">V</td><td style="text-align: center;">0.0</td></tr><tr><td style="text-align: center;">Ron</td><td style="text-align: center;">å¯¼é€šç”µé˜»</td><td style="text-align: center;">Î©</td><td style="text-align: center;">1.0</td></tr><tr><td style="text-align: center;">Roff</td><td style="text-align: center;">å…³æ–­ç”µé˜»</td><td style="text-align: center;">Î©</td><td style="text-align: center;">1/Gmin</td></tr><tr><td style="text-align: center;">Lser</td><td style="text-align: center;">ä¸²è”ç”µæ„Ÿ</td><td style="text-align: center;">H</td><td style="text-align: center;">0.0</td></tr><tr><td style="text-align: center;">Vser</td><td style="text-align: center;">ä¸²è”ç”µå‹</td><td style="text-align: center;">V</td><td style="text-align: center;">0.0</td></tr><tr><td style="text-align: center;">Ilimit</td><td style="text-align: center;">é™åˆ¶ç”µæµ</td><td style="text-align: center;">A</td><td style="text-align: center;">Infin.</td></tr></tbody></table><p><strong>è¯¥å¼€å…³æ ¹æ®æ»å›ç”µå‹ Vhçš„å€¼ï¼Œå…·æœ‰ä¸‰ç§ä¸åŒçš„ç”µå‹æ§åˆ¶æ¨¡å¼:</strong></p><ul><li>å¦‚æœ Vhä¸ºé›¶ï¼Œå¼€å…³å°†å§‹ç»ˆå®Œå…¨å¯¼é€šæˆ–å…³æ–­ï¼Œå…·ä½“å–å†³äºè¾“å…¥ç”µå‹æ˜¯å¦è¶…è¿‡é˜ˆå€¼ç”µå‹ã€‚</li><li>å¦‚æœ Vhä¸ºæ­£å€¼ï¼Œå¼€å…³å°†è¡¨ç°å‡ºæ»å›ç°è±¡ï¼Œå°±åƒé€šè¿‡æ–½å¯†ç‰¹è§¦å‘å™¨æ§åˆ¶ä¸€æ ·ï¼Œè§¦å‘ç‚¹ä¸º Vt- Vh å’Œ Vt + Vhã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒVhæ˜¯è§¦å‘ç‚¹ä¹‹é—´ç”µå‹çš„ä¸€åŠï¼Œè¿™ä¸å¸¸è§çš„å®éªŒå®¤æœ¯è¯­æœ‰æ‰€ä¸åŒã€‚</li><li>å¦‚æœ Vhä¸ºè´Ÿå€¼ï¼Œå¼€å…³å°†åœ¨å¯¼é€šå’Œå…³æ–­é˜»æŠ—ä¹‹é—´å¹³æ»‘è¿‡æ¸¡ã€‚è¿‡æ¸¡å‘ç”Ÿåœ¨æ§åˆ¶ç”µå‹ Vt - Vhå’Œ Vt + Vh ä¹‹é—´ï¼Œä¸”å¹³æ»‘è¿‡æ¸¡éµå¾ªå¼€å…³å¯¼é€šè¡Œä¸ºçš„å¯¹æ•°çš„ä½é˜¶å¤šé¡¹å¼æ‹Ÿåˆã€‚</li></ul><p>å¹³æ—¶è®¾Vhä¸ºè´Ÿå€¼å°±å¥½ã€‚</p><p>å‚è€ƒé“¾æ¥ï¼š<br /><ahref="https://www.analog.com/cn/resources/technical-articles/ltspiceiv-voltage-controlled-switches.html#:~:text=To%20insert%20and%20configure%20a%20switch%20in%20LTspice%E2%80%A6,this%20example%3A.model%20MYSW%20SW%20%28Ron%3D1%20Roff%3D1Meg%20Vt%3D.5%20Vh%3D-.4%29">LTspice:Voltage Controlled Switches</a></p>]]></content>
    
    
    <categories>
      
      <category>EE</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ºFluidä¸»é¢˜é¦–é¡µçš„å‰¯æ ‡é¢˜æ·»åŠ æ·¡å…¥æ•ˆæœ</title>
    <link href="/2024/10/04/%E4%B8%BAFluid%E4%B8%BB%E9%A2%98%E9%A6%96%E9%A1%B5%E7%9A%84%E5%89%AF%E6%A0%87%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%B7%A1%E5%85%A5%E6%95%88%E6%9E%9C/"/>
    <url>/2024/10/04/%E4%B8%BAFluid%E4%B8%BB%E9%A2%98%E9%A6%96%E9%A1%B5%E7%9A%84%E5%89%AF%E6%A0%87%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%B7%A1%E5%85%A5%E6%95%88%E6%9E%9C/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1><p>æœ€è¿‘åˆæŠ˜è…¾äº†ä¸€ä¸‹åšå®¢çš„ç¾åŒ–ã€‚é»˜è®¤Fluidä¸»é¢˜çš„é¦–é¡µå‰¯æ ‡é¢˜ç”¨çš„æ˜¯æ‰“å­—æœºç‰¹æ•ˆï¼Œä¸è¿‡æˆ‘ä¸å¤ªå–œæ¬¢ï¼Œäºæ˜¯ç¢ç£¨äº†ä¸€ä¸‹æ·¡å…¥æ•ˆæœã€‚æˆ‘å¹¶æ²¡æœ‰å­¦è¿‡å‰ç«¯ï¼Œä¸€ä¸‹ä»£ç ä¸»è¦é chatgptå’Œå…¶ä»–ç½‘å‹å¾—åˆ°ã€‚</p><h1 id="è¿‡ç¨‹">è¿‡ç¨‹</h1><p>ä½¿ç”¨F12æ‰“å¼€å¼€å‘è€…æ¨¡å¼ï¼Œå®šä½å‰¯æ ‡é¢˜ï¼š<br /><img src="https://i.imgur.com/mgjRfJ2.jpg" alt="Imgur" />ç›®æ ‡å¯¹åº”çš„å…ƒç´ ä¸º<code>.h2 #subtitle</code>ï¼Œåœ¨å¤–éƒ¨CSSæ–‡ä»¶ä¸­åŠ å…¥ä¸‹åˆ—ä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs css">    <span class="hljs-keyword">@font-face</span> &#123;<br>    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&quot;Si Yuan&quot;</span>;<br>    <span class="hljs-attribute">src</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&quot;../fonts/Si Yuan.otf&quot;</span>) <span class="hljs-built_in">format</span>(<span class="hljs-string">&quot;truetype&quot;</span>);<br>    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;<br>  &#125;<br><br><span class="hljs-selector-class">.h2</span> <span class="hljs-selector-id">#subtitle</span> &#123;<br>    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&#x27;Si Yuan&#x27;</span>, sans-serif; <span class="hljs-comment">/* æ›¿æ¢ä¸ºä½ æƒ³è¦çš„å­—ä½“ */</span><br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">32px</span>; <span class="hljs-comment">/* è°ƒæ•´å­—ä½“å¤§å° */</span><br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#ffffff</span>; <span class="hljs-comment">/* è®¾ç½®å­—ä½“é¢œè‰² */</span><br>    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>; <span class="hljs-comment">/* åˆå§‹é€æ˜åº¦ä¸º0ï¼Œéšè— */</span><br>    <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1.5s</span> linear; <span class="hljs-comment">/* è®¾ç½®è¿‡æ¸¡æ•ˆæœ */</span><br>  &#125;<br><br><span class="hljs-selector-class">.h2</span> <span class="hljs-selector-id">#subtitle</span><span class="hljs-selector-class">.visible</span> &#123;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>; <span class="hljs-comment">/* å®Œå…¨å¯è§ */</span><br>  &#125;<br></code></pre></td></tr></table></figure><p>ç”±äºè¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯æ€æºå®‹ä½“ï¼Œå¹¶éç³»ç»Ÿè‡ªå¸¦çš„å­—ä½“ï¼Œå› æ­¤é¢å¤–ä½¿ç”¨<code>@font-face</code>å¼•å…¥å¤–æ¥å­—ä½“ã€‚</p><p>å¦å¤–ï¼Œæ³¨æ„æ–‡ç« é¡µçš„æ ‡é¢˜å’Œé¦–é¡µçš„æ ‡é¢˜ç”¨çš„æ˜¯åŒä¸€ä¸ªå…ƒç´ ï¼ŒäºŒè€…ä¼šåŒæ—¶å‘ç”Ÿå˜æ›´ã€‚</p><p>å†å‘å¤–éƒ¨jsæ–‡ä»¶ä¸­åŠ å…¥ä¸‹åˆ—ä»£ç ï¼š <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;DOMContentLoaded&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> subtitle = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;subtitle&#x27;</span>);<br>    subtitle.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;visible&#x27;</span>); <span class="hljs-comment">// é¡µé¢åŠ è½½åæ·»åŠ  visible ç±»</span><br>&#125;);<br></code></pre></td></tr></table></figure> å®Œæˆã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Theme</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é›ªé…·å­—å¹•ç»„çš„ç‰¹æ•ˆæ³¨é‡Šå­—å¹•åˆ†æ</title>
    <link href="/2024/10/02/%E9%9B%AA%E9%85%B7%E5%AD%97%E5%B9%95%E7%BB%84%E7%9A%84%E7%89%B9%E6%95%88%E6%B3%A8%E9%87%8A%E5%AD%97%E5%B9%95%E5%88%86%E6%9E%90/"/>
    <url>/2024/10/02/%E9%9B%AA%E9%85%B7%E5%AD%97%E5%B9%95%E7%BB%84%E7%9A%84%E7%89%B9%E6%95%88%E6%B3%A8%E9%87%8A%E5%AD%97%E5%B9%95%E5%88%86%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1><p>é›ªé…·å­—å¹•ç»„åœ¨2011è‡³2012å¹´æœŸé—´ä¸æ›™å…‰å­—å¹•ç»„åˆä½œå®Œæˆäº†ã€Šå‘½è¿çŸ³ä¹‹é—¨ã€‹çš„ç¿»è¯‘å·¥ä½œï¼Œè¿™ä¹Ÿæ˜¯æˆ‘æœ€æ—©çœ‹çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œç¿»è¯‘éå¸¸è´´åˆ‡è‡ªç„¶ï¼Œå¹¶ä¸”åŠ¨æ¼«ä¸­å‡ºç°çš„æµè¡Œè¯æ±‡ä¹Ÿéƒ½é™„ä¸Šäº†è¯¦å°½çš„æ³¨é‡Šã€‚å¯æƒœåœ¨2014å¹´ä¹‹åé›ªé…·å­—å¹•ç»„å°±çªç„¶å¤±è¸ªäº†â€¦â€¦è¿™é‡Œæˆ‘æƒ³åˆ†æä¸€ä¸‹ä»–ä»¬åœ¨ä¸ºã€Šå‘½è¿çŸ³ä¹‹é—¨ã€‹åšå­—å¹•æ³¨é‡Šæ—¶ç”¨åˆ°çš„ç‰¹æ•ˆæ–¹æ¡ˆï¼Œä»ä¸­çª¥è§†é‚£ä¸ªæ—¶ä»£çš„å­—å¹•ç»„å¯¹å¾…å­—å¹•å·¥ä½œæ˜¯ä½•ç­‰æ•¬ä¸šã€‚</p><span id="more"></span><p>ä»¥ç¹ä½“ç‰ˆç¬¬10é›†3:46å¤„çš„æ³¨é‡Šä¸ºä¾‹ï¼Œassæ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs">3:46.19~3:51.20     &#123;\move(15,20,15,10,0,200)\pos(15,10)\fad(300, 300)&#125;Blood Tune3:45.90~3:51.41   &#123;\fscx0\pos(15,20)\t(0,200,1,\fscx100)\t(5300,0,1,\fscx0)&#125;â€”â€”â€”â€”3:46.19~3:51.20   &#123;\move(15,20,15,50,0,200)\pos(15,50)\fad(300, 300)&#125;ï¼ˆæ¶ç©ºï¼‰ï¼´ï¼¶å‹•ç•«ã€BLOOD TUNE THE ANIMATIONã€ã€‚\NåŸä½œæ˜¯æ¼«ç•«ï¼Œéš¨è‘—å¤šå…ƒåª’é«”åŒ–çš„é¢¨æ½®çµ‚æ–¼åœ¨å»å¹´å‹•ç•«åŒ–ã€‚\Nä½œå“è¢«è£½ä½œæˆç‚ºå…¨ï¼’ï¼–è©±çš„ä½œå“ï¼Œå—åˆ°äº†å‹•æ¼«æ„›å¥½è€…å€‘çš„å»£æ³›é—œæ³¨ï¼Œ\Nç‰¹åˆ¥æ˜¯å¥³ä¸»è§’ã€æ˜Ÿä¾†Orujeruã€çš„PVCæ¨¡å‹æ“æœ‰ç›¸ç•¶é«˜çš„äººæ°£ã€‚</code></pre><p>ä¸Šé¢ä¸€å…±ç”¨äº†ä¸‰æ®µå­—å¹•æ¥å®Œæˆå¯¹ã€BloodTuneã€‘çš„æ³¨é‡Šã€‚è€Œä¸”ï¼Œä¸‰æ®µå­—å¹•åˆ†åˆ«ä½¿ç”¨äº†ä¸‰ç§ä¸åŒå¤§å°çš„å­—ä½“ï¼ˆåœ¨1080pæ¸…æ™°åº¦ä¸‹ï¼‰ï¼š</p><ol type="1"><li>neta1-å¾®è½¯é›…é»‘ï¼Œç”¨äºæ³¨é‡Šå¯¹è±¡çš„åç§°ï¼Œå­—å·26ï¼Œè¾¹æ¡†2ï¼Œé˜´å½±0</li><li>neta2-å¾®è½¯é›…é»‘ï¼Œç”¨äºåˆ›é€ åˆ†ç•Œçº¿ï¼Œå­—å·40ï¼Œè¾¹æ¡†2ï¼Œé˜´å½±0</li><li>neta3-å¾®è½¯é›…é»‘ï¼Œç”¨äºæ³¨é‡Šçš„å…·ä½“å†…å®¹ï¼Œå­—å·28ï¼Œè¾¹æ¡†2ï¼Œé˜´å½±0</li></ol><p>å®ç°çš„æ•ˆæœå¦‚å›¾ <imgsrc="https://media.giphy.com/media/EuIDh9scyssnZXBT39/giphy.gif" /></p><p>ä¸‹é¢å¯¹è¿™ä¸‰æ®µä»£ç è¿›è¡Œé€è¡Œåˆ†æã€‚</p><h1 id="å¹³æ»‘çš„æ–‡æœ¬å±•ç¤ºæ•ˆæœ">å¹³æ»‘çš„æ–‡æœ¬å±•ç¤ºæ•ˆæœ</h1><p><code>\move</code>ç”¨äºè®¾ç½®æ–‡æœ¬çš„<strong>ç§»åŠ¨è½¨è¿¹</strong>ï¼Œå…¶åŸºæœ¬è¯­æ³•æ˜¯<code>\move(x1,y1,x2,y2,start_time,end_time)</code>ï¼Œå…¶ä¸­<code>(x1,y1)</code>æ˜¯èµ·å§‹ä½ç½®ï¼Œ<code>(x2,y2)</code>æ˜¯ç»“æŸä½ç½®ï¼Œ<code>start_time</code>å’Œ<code>end_time</code>å®šä¹‰åŠ¨ç”»çš„å¼€å§‹å’Œç»“æŸæ—¶é—´ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰ã€‚</p><p><code>\pos</code>ç”¨äºè®¾ç½®æ–‡æœ¬çš„<strong>ç»å¯¹ä½ç½®</strong>ï¼Œå…¶è¯­æ³•æ˜¯(x,y)ï¼Œå…¶ä¸­ x å’Œ yæ˜¯å±å¹•åæ ‡ã€‚è¿™ä¸ªå‘½ä»¤å°†æ–‡æœ¬å›ºå®šåœ¨æŒ‡å®šçš„ä½ç½®ï¼Œä¸éšæ—¶é—´å˜åŒ–ã€‚</p><p><code>\fad</code>ç”¨äºè®¾ç½®æ–‡æœ¬çš„<strong>æ·¡å…¥æ·¡å‡º</strong>æ•ˆæœï¼Œå…¶åŸºæœ¬è¯­æ³•æ˜¯<code>\fad(fade_in_time, fade_out_time)</code>ï¼Œå…¶ä¸­<code>fade_in_time</code>æ˜¯æ·¡å…¥æŒç»­çš„æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œ<code>fade_out_time</code>æ˜¯æ·¡å‡ºæŒç»­çš„æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ã€‚</p><p><code>&#123;\move(15,20,15,10,0,200)\pos(15,10)\fad(300, 300)&#125;Blood Tune</code>æ˜¯ä¸€ä¸²å¤åˆä»£ç ï¼Œç»¼åˆä»¥ä¸Šä¸‰ç‚¹ï¼Œå…¶ä½œç”¨ä¸ºï¼š- æ–‡æœ¬ä»å±å¹•åæ ‡<code>(15, 20)</code>ç§»åŠ¨åˆ°<code>(15, 10)</code>ï¼Œåœ¨ 0æ¯«ç§’æ—¶å¼€å§‹ï¼Œ200 æ¯«ç§’æ—¶ç»“æŸã€‚ -æ–‡æœ¬è¿åŠ¨åˆ°<code>(15,10)</code>åä¼šè¢«å›ºå®šåˆ°è¿™ä¸ªä½ç½®ã€‚ -åœ¨æ–‡æœ¬å¼€å§‹ç§»åŠ¨çš„åŒæ—¶ï¼Œä¼šé™„åŠ ä¸€ä¸ª300æ¯«ç§’çš„æ·¡å…¥æ•ˆæœï¼Œåœ¨æ–‡æœ¬æ¶ˆå¤±æ—¶åˆ™æœ‰300æ¯«ç§’çš„æ·¡å‡ºæ•ˆæœã€‚</p><h1 id="åŠ¨æ€çš„åˆ†ç•Œçº¿">åŠ¨æ€çš„åˆ†ç•Œçº¿</h1><p><code>\fscx</code>ç”¨äºè®¾ç½®æ–‡æœ¬çš„<strong>æ°´å¹³ç¼©æ”¾</strong>(<strong>f</strong>ront<strong>sc</strong>ale<strong>x</strong>)ï¼Œå…¶åŸºæœ¬è¯­æ³•æ˜¯<code>\fscx&lt;value&gt;</code>ï¼Œå…¶ä¸­<code>&lt;value&gt;</code>æ˜¯ç¼©æ”¾çš„ç™¾åˆ†æ¯”å€¼ã€‚ä¾‹å¦‚ï¼š</p><ul><li><code>\fscx100</code>è¡¨ç¤ºæ­£å¸¸å¤§å°</li><li><code>\fscx50</code>è¡¨ç¤ºæ­£å¸¸å¤§å°çš„ä¸€åŠ</li></ul><p><code>\t</code>ç”¨äºåˆ›å»º<strong>åŠ¨ç”»æ•ˆæœ</strong>ï¼ˆtransformationï¼‰ï¼Œä»ä¸€ä¸ªæ ·å¼åŠ¨ç”»æ¸å˜åˆ°å¦å¤–ä¸€ä¸ªã€‚Aegisubæ‰‹å†Œç»™å‡ºçš„è¯­æ³•å¦‚ä¸‹ï¼š</p><pre><code class="hljs">\t(&lt;style modifiers&gt;)\t(&lt;accel&gt;,&lt;style modifiers&gt;)\t(&lt;t1&gt;,&lt;t2&gt;,&lt;style modifiers&gt;)\t(&lt;t1&gt;,&lt;t2&gt;,&lt;accel&gt;,&lt;style modifiers&gt;)</code></pre><p>æœ¬ä¾‹ä½¿ç”¨çš„æ˜¯ç¬¬å››ä¸ªã€‚å…¶ä¸­<code>&lt;style modifiers&gt;</code>å‚æ•°æ˜¯ç‰¹æ•ˆæ ‡ç­¾ï¼Œ<code>accel</code>å‚æ•°å¯ä»¥è®©åŠ¨ç”»æ•ˆæœä¸å†æ˜¯åŒ€é€Ÿçš„ï¼Œè€Œæ˜¯æ»¡è¶³ä¸€æ¡æŒ‡æ•°æ›²çº¿ã€‚è¯¥å‚æ•°ä¸º1æ—¶ï¼Œè¿åŠ¨é€Ÿåº¦æ˜¯æ’å®šçš„ã€‚å‚æ•°åœ¨0å’Œ1ä¹‹é—´æ—¶ï¼Œè¿åŠ¨é€Ÿåº¦é€æ¸å˜æ…¢ã€‚å‚æ•°å¤§äº1æ—¶ï¼Œè¿åŠ¨é€Ÿåº¦è¶Šæ¥è¶Šå¿«ã€‚</p><p>æ•´ä¸ªä»£ç çš„è¿è¡Œé€»è¾‘å¯ä»¥ç”¨ä¸‹å›¾æ¦‚æ‹¬ï¼š<br /><img src="https://i.imgur.com/r6Rsdn7.png" /></p>]]></content>
    
    
    <categories>
      
      <category>å­—å¹•</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Hexo Fluidä¸»é¢˜æ¸²æŸ“LaTeXæ•°å­¦å…¬å¼çš„é—®é¢˜æ€»ç»“</title>
    <link href="/2024/09/15/Hexo%20Fluid%E4%B8%BB%E9%A2%98%E6%B8%B2%E6%9F%93LaTeX%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E7%9A%84%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/"/>
    <url>/2024/09/15/Hexo%20Fluid%E4%B8%BB%E9%A2%98%E6%B8%B2%E6%9F%93LaTeX%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E7%9A%84%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<p>åœ¨Fluidçš„<ahref="https://hexo.fluid-dev.com/docs/guide/#latex-%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F">å®˜æ–¹æŒ‡å—æ–‡æ¡£</a>ä¸­å·²ç»åšäº†è¯¦å°½çš„è¯´æ˜ï¼Œä¸€æ­¥ä¸€æ­¥è·Ÿç€åšå°±æ²¡é—®é¢˜ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä¸»é¢˜é…ç½®çš„ä»£ç </p><pre><code class="hljs">post:math:enable: truespecific: falseengine: mathjax</code></pre><p>ä¸­ï¼Œè¦æƒ³ä½¿ç”¨æ•°å­¦å…¬å¼ï¼Œ<code>enable</code>ä¸€é¡¹å¿…é¡»æ˜¯<code>true</code>æ‰è¡Œï¼Œå¦åˆ™ä¼šå‡ºç°æ¸²æŸ“é”™è¯¯ï¼Œæ¯”å¦‚åƒä¸‹é¢è¿™æ ·ï¼š</p><p><imgsrc="https://github.com/banyee19/blog_images/blob/main/%E4%B8%8D%E5%90%AF%E7%94%A8.jpg?raw=true" /></p><p>åŒæ ·çš„å…¬å¼æ¸²æŸ“äº†ä¸€æ¬¡ä¹‹ååˆé‡å¤äº†ä¸€æ¬¡ã€‚</p><p>å¦å¤–ï¼ŒHexoä¸­æ— æ³•ä½¿ç”¨æ¢è¡Œç¬¦<code>\\</code>ï¼ŒåŸå› æ˜¯<code>\</code>åœ¨Markdownå±äºç‰¹æ®Šå­—ç¬¦ï¼Œç”¨äºå­—ç¬¦è½¬ä¹‰ï¼Œæ‰€ä»¥ä¸¤ä¸ª<code>\</code>ç»è¿‡Markdownå¼•æ“å¤„ç†ä¸ºhtmlåï¼Œåªå‰©ä¸‹ä¸€ä¸ªï¼Œç­‰åˆ°LaTexæ¸²æŸ“å¼•æ“å¤„ç†æ—¶ï¼Œå®é™…ä¸Šåªçœ‹åˆ°ä¸€ä¸ª<code>\</code>ï¼Œæ¸²æŸ“å¼•æ“æŠŠå®ƒå½“ä½œLaTeX ä¸­çš„ç©ºæ ¼ã€‚</p><p>åœ¨ä¸æ”¹åŠ¨ç°æœ‰ä»£ç çš„æƒ…å†µä¸‹ï¼Œæˆ‘çš„è§£å†³æ–¹æ³•æ˜¯ç›´æ¥æ”¹å˜å…¬å¼çš„å†™æ³•ã€‚æ¯”å¦‚ä¸‹è¾¹è¿™ä¸ªå…¬å¼</p><pre><code class="hljs">$$a_11=b_11 \\a_22=b_22+c_22$$</code></pre><p>æ”¹ä¸º</p><pre><code class="hljs">$$\begin&#123;aligned&#125;a_&#123;11&#125;&amp; =b_&#123;11&#125;\\a_&#123;22&#125;&amp; =b_&#123;22&#125;+c_&#123;22&#125;\end&#123;aligned&#125;$$</code></pre><p>æ¸²æŸ“æ•ˆæœå¦‚ä¸‹ï¼š <span class="math display">\[\begin{aligned}a_{11}&amp; =b_{11}\\a_{22}&amp; =b_{22}+c_{22}\end{aligned}\]</span> æ›´å¤æ‚çš„å…¬å¼åŒç†ï¼š <span class="math display">\[\begin{aligned}    F_x&#39;&amp;=\gamma\{q[\frac{-i\gamma}{c}(u_t&#39;+i\betau_x&#39;)E_x+u_y&#39;B_z-u_z&#39;B_y]    +i\beta\frac{iq}{c}[\gamma(u_x&#39;-i\betau_t&#39;)E_x+u_y&#39;E_y+u_z&#39;E_z] \}\\    &amp;=\frac{-iq\gamma^2}{c}(1-\beta^2)E_xu_t&#39;-q\gamma(B_y+\frac{\beta}{c}E_z)u_z&#39;+q\gamma(B_z-\frac{\beta}{c}E_y)u_y&#39;\end{aligned}\]</span></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>åºç« -æ–°åšå®¢çš„è¯ç”Ÿ</title>
    <link href="/2024/09/13/hello-world/"/>
    <url>/2024/09/13/hello-world/</url>
    
    <content type="html"><![CDATA[<p>æ–°åšå®¢å»ºæˆç¥è´ºï¼ <span id="more"></span>ç»è¿‡ä¸¤å¤©çš„é…ç½®ï¼Œï¼Œç»ˆäºæˆåŠŸç”¨GithubæŠŠåšå®¢æ­å»ºå‡ºæ¥äº†ï¼</p><p>å…¶å®ä¹‹å‰æˆ‘ä¸€ç›´æ˜¯åœ¨åšå®¢å›­ä¸Šé¢å†™åšå®¢çš„ï¼ˆè™½ç„¶ä¹Ÿæ‰åˆšå†™äº†å‡ ä¸ªæœˆï¼‰ï¼Œä½†æ˜¯æœ€è¿‘åšå®¢å›­çš„è¿è¥æƒ…å†µä»¤äººå ªå¿§ï¼Œå¯èƒ½å†è¿‡å‡ ä¸ªæœˆå°±è¦è¢«æ”¶è´­äº†ï¼Œå˜›è¿™æ ·çš„è¯åˆ°æ—¶å€™åšå®¢å›­å¤§æ¦‚ç‡è¦æ¤å…¥å¹¿å‘Šäº†ï¼Œæ‰€ä»¥ç´¢æ€§è‡ªå·±åˆ›å»ºä¸€ä¸ªåšå®¢å¥½äº†ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘å†™åšå®¢çš„ç›®çš„æ˜¯æŠŠè‡ªå·±çš„æƒ³æ³•è®°å½•ä¸‹æ¥ï¼Œæˆ–è€…åˆ†äº«è‡ªå·±çš„çŸ¥è¯†ï¼Œæ‰€ä»¥åšå®¢å›­é‚£ç§ç±»ä¼¼äºè®ºå›å¼çš„æ¨¡å¼å…¶å®å¹¶ä¸æ˜¯å¾ˆé€‚åˆæˆ‘ã€‚åªè¦æŠŠåšæ–‡å‘å‡ºæ¥ï¼Œæˆ‘å°±è¾¾åˆ°ç›®çš„äº†ï¼Œå°±ç®—æ²¡æœ‰äººçœ‹ä¹Ÿæ²¡å…³ç³»ã€‚</p><p>ä¸å‡ºæ„å¤–çš„è¯è¿™ä¸ªåšå®¢åº”è¯¥ä¼šé•¿æœŸæ›´æ–°ä¸‹å»ã€‚æ¯•ç«Ÿæ˜¯è‡ªå·±è´¹äº†å¥½å¤§çš„åŠŸå¤«æ‰å»ºå‡ºæ¥çš„å˜›ï¼ˆç¬‘ï¼‰æˆ‘åœ¨ç”Ÿæ´»ä¸­å¹¶ä¸å–œæ¬¢å’Œåˆ«äººäº¤æµï¼Œå‘¨å›´èƒ½å’Œæˆ‘ä¸€èµ·äº¤æµå–œæ¬¢çš„äº‹ç‰©çš„äººå‡ ä¹æ²¡æœ‰ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¸Œæœ›æŠŠè‡ªå·±æ€è€ƒçš„ä¸œè¥¿åˆ†äº«å‡ºæ¥ã€‚é‚£å¹²è„†å°±å€ŸåŠ©åšå®¢å¥½äº†ã€‚ä»¥åè¿™ä¸ªåšå®¢ä¸Šä¼šå‘å¸ƒå„ç§æˆ‘æ„Ÿå…´è¶£çš„å†…å®¹ã€‚</p><p>æ€»ä¹‹ï¼Œæˆ‘å®£å¸ƒï¼ŒBanyee's Blogä»ä»Šå¤©å¼€å§‹æ­£å¼æˆç«‹äº†ï¼</p>]]></content>
    
    
    
    <tags>
      
      <tag>åˆæ¬¡è§é¢</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
